<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>CPP</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="99ebd66f-69ef-4307-82fa-4d74512a2c5b" class="page sans"><header><img class="page-cover-image" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/Evhzp8NXUAI1WQI.jpg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/37622c170030495.Y3JvcCwxMTUwLDkwMCwyNDIsMA.jpg"/></div><h1 class="page-title">CPP</h1><p class="page-description"></p></header><div class="page-body"><hr id="2528830c-e91c-4517-832d-2413fe404b17"/><p id="701a674d-3ef0-4b2a-bef1-9b7fe53c8d15" class="block-color-pink_background"><mark class="highlight-pink"><strong>Table of contents</strong></mark></p><nav id="0b6580d8-5efe-4cb7-88dd-ee93416a795c" class="block-color-pink table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5b68f5e9-c52d-43c5-a33a-a4265e5e00fc">Basics </a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f9e96cbf-967f-4841-91f6-39395d88c7fe">good practiceï¼šæœ‰å…³å¤´æ–‡ä»¶å’Œinclude</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#b3c160cc-273f-4e33-bcec-9f4a6748f656">C++ä¸­çš„éšå¼ç±»å‹è½¬æ¢ã€ç±»æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢ã€<strong>åˆ—è¡¨åˆå§‹åŒ– + æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5ba3d9ec-dfaa-442f-9179-9bce3ecd79df">C++ç»“æ„ä½“ã€Cç»“æ„ä½“ã€C++ç±»ä¹‹é—´çš„åŒºåˆ«</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#655c8485-cee0-48d1-9d23-887bbb2b3494">è¿­ä»£å™¨ä¸­ï¼Œå‰ç¼€é€’å¢++xä¸åç¼€é€’å¢x++çš„æ•ˆç‡åŒºåˆ«</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2791865f-9019-4201-9856-8584457acf1d">â€˜\nâ€™ä¸std::endl</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#7cf53478-969a-444d-aa15-d8224164d290">æµ…æ‹·è´</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#05e89bd4-c060-4a16-a429-6b0bcb4b508a">é—­åŒ…</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#b5f0a2cc-1dc3-4fcd-9bc7-84ed3ef61e60">åˆ—è¡¨åˆå§‹åŒ–ï¼ˆèŠ±æ‹¬å·åˆå§‹åŒ–ï¼‰ä¸ä¼ ç»Ÿåˆå§‹åŒ–</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fc688705-39fa-4a88-a4aa-652f73eb8f2c">ç»“æ„åŒ–ç»‘å®šï¼šæ›´æ–¹ä¾¿åœ°æ‹†åŒ…</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#508502c4-395a-4c23-9bf9-97e22729d4c8">å…³é”®å­—ï¼šå·¦å€¼å¼•ç”¨&amp;ã€å³å€¼å¼•ç”¨&amp;&amp;ã€usingã€typenameã€::ã€staticã€inlineã€noexceptã€voidã€<strong>decltypeã€thisæŒ‡é’ˆ</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f6121460-8118-44eb-8447-d97ccad6c148">è¿­ä»£å™¨çš„value_types</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c4a44104-b34d-4ad8-a9c0-18c95acdb354">å‡½æ•°æŒ‡é’ˆï¼š<strong>std::function&lt;è¿”å›ç±»å‹(å‚æ•°ç±»å‹)&gt;</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#df4cdb1b-86f4-45c4-83a8-dd0827f2b6f1">è°“è¯å‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2c7dafcc-9f3b-4857-9cae-19298a0b4cff">C++17ï¼šifè¯­å¥ä¸­å…è®¸åŠ å…¥åˆå§‹åŒ–è¯­å¥</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d828a842-7413-4b24-b3b7-045e55f9ca74">å·¦å€¼l-valueã€å³å€¼r-valueï¼ˆä¸´æ—¶å˜é‡ï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#21aacca8-f44a-493a-bc63-16c0750f2a82">constå…³é”®å­—</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a353f27f-0018-4e53-ae2d-6208dd7dbfa6">constçš„åŸºæœ¬ç”¨æ³•ã€</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3b443e0d-17d6-474d-8db8-3bd6e91138b1">å¸¸é‡å¼•ç”¨const  + &amp; ï¼šä½¿ç”¨å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°å‚æ•°å’Œè¿”å›å€¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3c87c0cf-469e-4de4-849e-1ed1574c9233">conståªæœ‰ä¿®é¥°å¼•ç”¨(å¸¸é‡å¼•ç”¨)å’ŒæŒ‡é’ˆ(æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ)æ‰æœ‰æ„ä¹‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#297a58de-0d34-4370-a6a7-f53127e0c910">æ³¨æ„ç‚¹ï¼šå½“ä¸€èµ·ä½¿ç”¨autoã€constã€&amp;æ—¶</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5e404930-0288-4555-91d1-d66a843e5dde">constæ¥å£(constä¿®é¥°çš„ç±»æˆå‘˜å‡½æ•°)ï¼šconstæ¥å£ä¸­çš„thiså¸¸é‡æŒ‡é’ˆã€å®½æ¾constæ¥å£ã€ä¸¥æ ¼constæ¥å£</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#28860efa-7129-4358-a65e-f54e76f94da7">constæ€»ç»“</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#74c333e5-56fa-4b7a-9313-7a3fe7d7273c">è‡ªå®šä¹‰ç±»</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5f29b02a-2951-4b26-9a32-b1c0fb5647de">basics</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e6a4b9da-5d96-44d1-a3a9-64df7871f0a2">æœ‰å…³(æ¨¡ç‰ˆ)ç±»å£°æ˜å’Œ(æ¨¡ç‰ˆ)ç±»å®šä¹‰çš„ä»£ç ç»„ç»‡</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#5ec30e56-0251-4e05-ade2-995cc1193aa5">è‡ªå®šä¹‰ç±»æ—¶çš„ä¸€ä¸ªå‘ç‚¹ï¼šåˆå§‹åŒ–æ¬¡åº</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#4e46f31d-2503-423a-b16d-b623374bda53">ç±»çš„é™æ€æˆå‘˜</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a4dd4546-781f-4e66-8505-78db2c4d8182">åœ¨ç±»ä¸­å¯é‡è½½çš„è¿ç®—ç¬¦</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d50d75fe-39c8-4d84-b00f-b043a28fc156">æˆå‘˜å‡½æ•°çš„å„ç§ä¿®é¥°ç¬¦ï¼šexplicitã€= defaultã€= deleteã€ =0</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#27a16453-a22f-4e50-976f-39154bfdbe5b">ç±»çš„åˆå§‹åŒ–åˆ—è¡¨ï¼šå‡å°‘overhead</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#bb68256c-f80d-49c5-94ba-84d01d6a3272">åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ä½¿ç”¨å§”æ‰˜æ„é€ å‡½æ•°ï¼ˆDelegating Constructorï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9dc9b247-f82a-4ba5-a346-acae27b16d66">åœ¨ç±»ä¸­é€šè¿‡ç»“æ„ä½“å®šä¹‰ä¸€ä¸ªå˜é‡</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0d2661a8-ef4b-4915-ad83-8001c3d73f30">ç±»ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°åŠå…¶é«˜æ•ˆå®ç°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9c578917-a628-4b1f-a578-d65e7db2a77b"><strong>åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°ï¼šç”¨äº</strong>è‡ªå®šä¹‰ç±»çš„èŠ±æ‹¬å·åˆå§‹åŒ–</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d2b0d455-3dd8-41a4-a271-1ab9c118e08a">caseï¼šä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰ç±»</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0e168ba7-3533-4512-a594-ff4fe615cc5e">ç±»è¿›é˜¶ï¼šç±»ä¸­ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼ˆé«˜æ•ˆå®ç°ï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2c7eafa6-9f32-46d7-81d4-7288ede362b0">å®ç°æ„é€ å‡½æ•°çš„ä¸€ä¸ªtrickï¼šä½¿ç”¨é»˜è®¤å€¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#66c0774b-9dfe-4572-ab54-9f4722411c88">æ‹·è´æ„é€ å‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#8c67d29b-57b2-4c1f-aad4-106226062623">èµ‹å€¼è¿ç®—ç¬¦é‡è½½</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#b38b3a27-4b92-48fe-86ec-488259fdbb15">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#72e137f4-ba28-49fb-8f37-b92c5be5d94d">ç”±ç¼–è¯‘å™¨<strong>è‡ªåŠ¨ç”Ÿæˆï¼šé»˜è®¤æ„é€ å‡½æ•°ã€é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ã€é»˜è®¤æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ç­‰</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#92ebcecb-e1ca-414a-a936-0f34d8556d29">Rule of zeroã€Rule of five</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2f61ed80-a561-4937-8756-6dc2e519ef24">ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ çš„caseï¼šCS106L HashMap(HashMap + HashMapIterator)</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3c22d164-c4a6-4f80-946c-cc28738b75d5">ç±»è¿›é˜¶ï¼šå‹å…ƒã€è¿ç®—ç¬¦é‡è½½</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#dd243657-3fdd-4348-9db8-937dd4b104d6">ç±»è¿›é˜¶ï¼šè™šå‡½æ•° ã€åŠ¨æ€ç»‘å®š(å®ç°å¤šæ€)</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#cebf9ae0-16ae-4e18-86ae-f90319ccf300">æ¨¡ç‰ˆç±»</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c7ab2a26-fe9b-4636-b50e-b5b46b786e99">æ¨¡ç‰ˆç±»çš„å£°æ˜çš„å®šä¹‰è¦å†™åˆ°ä¸€èµ·</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0a3426cf-d1a2-488c-95ab-1808efa036d7">æ¨¡ç‰ˆç±»çš„å£°æ˜å’Œå®šä¹‰çš„å…·ä½“å†™æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3527c4dd-5b4f-4226-a791-3435ccbf18db">æ¨¡ç‰ˆä¸­çš„ç±»å‹å¯ä»¥æœ‰é»˜è®¤ç±»å‹ã€å®ä¾‹åŒ–æ¨¡ç‰ˆæ—¶åŠ å…¥const</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#c2b4d5a5-e033-4aec-ba01-62f363075fc9">éç±»å‹æ¨¡ç‰ˆå‚æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#87ceba30-68d0-4bd1-8d71-bc57efa83128">åœ¨æ¨¡ç‰ˆç±»ä¸­å®šä¹‰ä¸€ä¸ªæˆå‘˜æ¨¡ç‰ˆå‡½æ•°ï¼ˆæ˜“æ··æ·†ï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4464256d-125b-4592-ba0f-da07f6c6e78b">æ¨¡ç‰ˆå‡½æ•°</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0fd07e57-f90c-4712-8be0-3a470989cc69"><strong>Concepts å’Œ Constraintsï¼šä½¿æ¨¡ç‰ˆä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼ˆC++20ï¼‰</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e7ca8bae-0680-44f9-850e-264e33beba28">æ¨¡ç‰ˆå…ƒç¼–ç¨‹TMPä¸constexpr  </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f49a47c3-cc65-4358-acfd-bb3fba6fd39f">Lambdaè¡¨è¾¾å¼  </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#514fa35e-30e6-4b52-8fbf-1173f0fb033b">Functor ï¼ˆå‡½æ•°å¯¹è±¡ï¼‰ </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b31af386-fc14-4f99-bed0-478ee12f8520">algorithmåŒ…</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#6a073728-12b4-4946-aca4-92f13541fe92">rangesåº“(C++ 20)ï¼šSTL 2.0ï¼Œå‡½æ•°å¼ç¼–ç¨‹</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2a86cba9-4c49-4ea0-8713-34bec9d541f3">åŸºæœ¬æ¦‚å¿µï¼šRangeä¸view</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cfbe9edf-a38c-478a-8d67-e543c8dcb6f0">ä¸€äº›ç”¨ä¾‹</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#797952b6-9882-4dab-870a-9be4c8763c91">std::viewsæ”¯æŒçš„æ“ä½œ</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#8db35b94-d289-4580-be18-e80da79d4937">std::ranges</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4e1f4490-3879-4b92-ba39-897238f03cfa">std::optionalæ¨¡ç‰ˆç±»ï¼šæä¾›ç±»å‹å®‰å…¨</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#23db45b0-7239-400c-b663-e37c179ace35">Undefined behavior</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f0cd0451-ae6b-4ea2-8b76-02625e3ffd83">std::optionalä¸nullopt</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3a72c194-ac4f-43ba-99e1-53822f430b63">std::optional&lt;ValueType&gt;æ¨¡ç‰ˆç±»æä¾›çš„ç±»æ–¹æ³•</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#98ecaa62-5882-4dd1-9a03-f2c4b93bcb20">std::optional&lt;Myclass&gt;ä¸è‡ªå®šä¹‰ç±»çš„æ„é€ å‡½æ•°ä¹‹é—´çš„å…³ç³»</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f84e827e-0932-42af-bf02-a29e38757ea4">ä½¿ç”¨std::optionalçš„pros and cons</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d7e60c07-2b20-4e63-9837-5940bd6793e1">RAIIï¼šä¸€ç§åœ¨å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­å…·æœ‰çš„å®è·µæˆ–è€…ç†å¿µ</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#36240169-e440-43e6-ab93-5d621de00810">æ™ºèƒ½æŒ‡é’ˆï¼šå†…å­˜ç®¡ç†çš„RAIIå®è·µ</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4f898396-ad25-4292-8c89-5a879df5bf77">ä¸€äº›å¯èƒ½ä¼šç”¨åˆ°çš„stdå‡½æ•°ã€ç±»ã€æ¨¡ç‰ˆ</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e460899b-5560-495b-807e-3280bf476623">std::conditional_tï¼šåœ¨ç¼–è¯‘æ—¶æ ¹æ®æ¡ä»¶åœ¨ä¸¤ç§ç±»å‹ä¸­è¿›è¡Œé€‰æ‹©</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#628b5806-cef5-4102-af49-4bc0d610c65a"><strong>static_castï¼šé™æ€ç±»å‹è½¬æ¢</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#dab1c036-a5f9-4f16-95e7-37ec0dc7fa06">const_castï¼šå®ç°constç±»å‹è½¬æ¢</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#973b3732-ca74-469e-8c7e-d15acb4c514b">std::distanceï¼šè®¡ç®—ä¸¤ä¸ªiteratorçš„è·ç¦»</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2444638e-c77c-4b29-9526-fde88d3cc674">std::moveï¼šæŠŠä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå³å€¼</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cedb7245-edbd-4acf-8995-6308cadfd492">std::is_permutationï¼šæ¯”è¾ƒä¸¤ä¸ªåºåˆ—æ˜¯å¦ç›¸ç­‰ï¼ˆé¡ºåºå¯ä»¥ä¸åŒï¼‰</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e4400047-128f-4752-b6b8-03de0f335fff"><strong>std::ostringstreamï¼šé€‚ç”¨äºå¤æ‚çš„å­—ç¬¦ä¸²å¤„ç†å’Œæ ¼å¼åŒ–çš„åœºæ™¯</strong></a></div></nav><hr id="501d4668-b3a7-4e1f-af95-19baa28ca295"/><ul id="90c0c9a5-5420-4a6e-859d-158faa6e4159" class="bulleted-list"><li style="list-style-type:disc">2023 CS106Lï¼ˆè¯¾ä»¶æ›´æ–°æ›´å¥½ï¼‰<figure id="495f2bff-dad6-46b8-a600-6178ec1b3f6d"><a href="https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1234/index.html" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">CS 106L: Standard C++ Programming</div><div class="bookmark-description">ğŸŒ½ CS 106L is a companion class to CS106B/CS106X that explores the modern C++ language in depth. We&#x27;ll cover some of the most exciting features of C++, including modern patterns that give it beauty and power.</div></div><div class="bookmark-href"><img src="https://web.stanford.edu/favicon.ico" class="icon bookmark-icon"/>https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1234/index.html</div></div></a></figure></li></ul><ul id="7820b585-3323-464f-8e73-e45b0595cb64" class="bulleted-list"><li style="list-style-type:disc">2022 CS106Lï¼ˆä»£ç æ›´å…¨ï¼‰<figure id="80007112-d5a5-44b7-9a74-dc75a16e2ef7"><a href="https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1224/" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">CS 106L: Standard C++ Programming</div><div class="bookmark-description">ğŸŒ½ CS 106L is a companion class to CS106B/CS106X that explores the modern C++ language in depth. We&#x27;ll cover some of the most exciting features of C++, including modern patterns that give it beauty and power.</div></div><div class="bookmark-href"><img src="https://web.stanford.edu/favicon.ico" class="icon bookmark-icon"/>https://web.stanford.edu/class/archive/cs/cs106l/cs106l.1224/</div></div></a></figure></li></ul><blockquote id="d43f4c16-b69d-402e-9951-417a4245d26d" class="block-color-gray_background">ç›®å‰è¿›åº¦ï¼š15 RAII</blockquote><hr id="a1113b91-5afd-4e87-9003-6749770d425b"/><ul id="6101abb6-8a0f-4ee1-8caa-9328a4b320b9" class="bulleted-list"><li style="list-style-type:disc"><strong>C++ Core Guidelines</strong><figure id="9609490b-dfe2-4438-8e55-099aa7f8bb5d"><a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-resource" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#S-resource</div></div></a></figure><ul id="1f0675ef-7bc1-42b8-9444-5dbb17cfe5e8" class="bulleted-list"><li style="list-style-type:circle">ç”±C++ä¹‹çˆ¶ç¼–å†™ï¼Œç½—åˆ—äº†éå¸¸å¤šä½¿ç”¨CPPçš„good practiceå’Œbad practiceï¼Œæ¶µç›–äº†å„ç§åœºæ™¯</li></ul></li></ul><ul id="5db7188f-0e9d-465d-8df4-4283054ef8c0" class="bulleted-list"><li style="list-style-type:disc"><strong>cppreference</strong>ï¼šç½—åˆ—äº†å„ç§å¸¸ç”¨çš„åº“ï¼Œä»¥åŠå„ä¸ªC++æ ‡å‡†å¼•å…¥çš„åº“<figure id="2cb72652-780b-4cbd-adf3-9a475559803b"><a href="https://en.cppreference.com/w/" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">cppreference.com</div><div class="bookmark-description">C++ reference
C++11, C++14, C++17, C++20, C++23, C++26Â Â â”‚Â Â Compiler support C++11, C++14, C++17, C++20, C++23, C++26</div></div><div class="bookmark-href"><img src="https://en.cppreference.com/favicon.ico" class="icon bookmark-icon"/>https://en.cppreference.com/w/</div></div></a></figure><figure id="d18a0f16-c359-4bf0-88f0-0639432be9c3" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.01.29.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.01.29.png"/></a></figure></li></ul><h2 id="5b68f5e9-c52d-43c5-a33a-a4265e5e00fc" class="block-color-orange_background">Basics </h2><h3 id="f9e96cbf-967f-4841-91f6-39395d88c7fe" class="block-color-blue_background">good practiceï¼šæœ‰å…³å¤´æ–‡ä»¶å’Œinclude</h3><ul id="41e50d1d-70f8-4855-97d0-d39814b790e8" class="bulleted-list"><li style="list-style-type:disc">å¯¹äºä¸€äº›<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å…¬å…±å¤´æ–‡ä»¶ï¼Œä½¿ç”¨namespaceå°†å…¶åŒ…è£¹èµ·æ¥ï¼Œåå­—å¯ä»¥å–å­˜å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„åå­—</strong></span></mark>ï¼Œä»è€Œé˜²æ­¢å‘½åå†²çª</li></ul><ul id="59ba6ceb-869c-48f6-8073-80557616fd9f" class="bulleted-list"><li style="list-style-type:disc">åœ¨includeå…¬å…±å¤´æ–‡ä»¶æ—¶ï¼Œ<mark class="highlight-purple"><strong>ä¸è¦ç›´æ¥includeå¤´æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨åŒ…å«äº†å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•åå­—çš„è·¯å¾„</strong></mark>ï¼Œä¾‹å¦‚<code>#include &quot;static/Hello.h&quot;</code>ï¼Œè€Œä¸æ˜¯<code>#include &quot;Hello.h&quot;</code>ï¼Œä»è€Œé˜²æ­¢å‘½åå†²çª<ul id="5a563e23-84fe-431a-b2e9-a0b0522cc79a" class="bulleted-list"><li style="list-style-type:circle">è®°å¾—æŠŠincludeçš„è·¯å¾„åŠ è¿›æ¥ï¼ˆåœ¨gccä¸­é€šè¿‡-Iå‚æ•°ï¼Œåœ¨CMakeä¸­é€šè¿‡<a href="https://www.notion.so/CMake-ae0cdbadb4cb4958b3b60e1534fe1d12?pvs=21"><code>add_include_directories</code></a>ï¼‰</li></ul></li></ul><ul id="30531793-4b8c-45b9-a2c3-5a30ea2e7f46" class="bulleted-list"><li style="list-style-type:disc">å‡ ä¸ªæ¦‚å¿µ<ul id="ec1770c5-612b-4e41-9205-9b5fd445f7e1" class="bulleted-list"><li style="list-style-type:circle">å‡½æ•°çš„å£°æ˜ã€å‡½æ•°çš„å®šä¹‰ï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°çš„å®ç°ï¼‰</li></ul><ul id="1cba1306-72c1-45fd-b4db-f93106ff8d73" class="bulleted-list"><li style="list-style-type:circle">ç±»çš„å£°æ˜ã€ç±»çš„å®šä¹‰ï¼ˆä¹Ÿå°±æ˜¯ç±»çš„å®ç°ï¼‰</li></ul></li></ul><ul id="417ca481-a3ef-41c7-9903-4c8fb1f0be62" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¯¹äºéæ¨¡ç‰ˆç±»ï¼Œéæ¨¡ç‰ˆå‡½æ•°</strong></span></mark>ï¼š<mark class="highlight-purple"><strong>æŠŠç±»/å‡½æ•°çš„å£°æ˜å’Œå…·ä½“å®ç°ï¼ˆå®šä¹‰ï¼‰åˆ†åˆ«å†™åœ¨å¤´æ–‡ä»¶(.h)å’Œæºæ–‡ä»¶(.cpp)</strong></mark>ä¸­ï¼Œè¿™æ ·å­åšæœ‰å¾ˆå¤šåŸå› <ol type="1" id="5f504101-13f7-4f6a-ae06-d56a17f7b73d" class="numbered-list" start="1"><li><span style="border-bottom:0.05em solid"><strong>é˜²æ­¢é“¾æ¥æ—¶äº§ç”Ÿé‡å¤å®šä¹‰</strong></span>ï¼šä¾‹å¦‚åœ¨myclass.hä¸­å£°æ˜äº†ä¸€ä¸ªç±»ï¼ˆæˆ–å‡½æ•°ï¼‰åŠå…¶å®šä¹‰ï¼ˆå®ç°ï¼‰ï¼Œåœ¨main.cppå’Œlib.cppä¸­#includeäº†myclass.hï¼Œç„¶åæˆ‘æŠŠmain.cppå’Œlib.cppè¿›è¡Œåˆ†åˆ«ç¼–è¯‘ï¼Œç„¶åé“¾æ¥åˆ°ä¸€èµ·ã€‚<br/>æ­¤æ—¶ç”±äºmain.cppå’Œlib.cppçš„é“¾æ¥æ–‡ä»¶ä¸­åŒæ—¶éƒ½æœ‰ç±»çš„å®šä¹‰ï¼Œä»è€Œå¯¼è‡´é“¾æ¥æ—¶æŠ¥é”™ï¼šé‡å¤çš„ç¬¦å·å®šä¹‰<br/>ä½†å¦‚æœæŠŠç±»çš„å£°æ˜æ”¾åœ¨myclass.hä¸­ï¼ŒæŠŠå®šä¹‰æ”¾åœ¨myclass.cppä¸­ï¼Œç„¶åé“¾æ¥mainï¼Œlibï¼Œmyclassï¼Œå°±ä¸ä¼šæœ‰é—®é¢˜ï¼ˆå› ä¸ºåªæœ‰myclassä¸­æœ‰ç±»çš„å®ç°(å®šä¹‰)ï¼‰<br/></li></ol><ol type="1" id="3d4fa2a9-7b63-4e57-88c9-c9064f8fe71b" class="block-color-default numbered-list" start="2"><li>è¿™æ ·ç±»çš„æ•´ä½“ç»“æ„ä¼šçœ‹çš„<span style="border-bottom:0.05em solid"><strong>æ›´åŠ æ¸…æ™°</strong></span>ï¼Œå¹¶ä¸”æºä»£ç å¯ä»¥è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œå¯ä»¥åªæä¾›å¤´æ–‡ä»¶ï¼Œä¸<span style="border-bottom:0.05em solid"><strong>æš´éœ²æºç </strong></span>ï¼Œ</li></ol></li></ul><ul id="28ddcce7-ba0a-488d-9f2d-3e0564bf3e17" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¯¹äºæ¨¡ç‰ˆç±»ã€æ¨¡ç‰ˆå‡½æ•°</strong></span></mark>ï¼š<mark class="highlight-purple"><strong>æŠŠæ¨¡ç‰ˆç±»/å‡½æ•°çš„å£°æ˜å’Œå®ç°ï¼ˆå®šä¹‰ï¼‰ç›´æ¥å†™åœ¨å¤´æ–‡ä»¶(.h)é‡Œ</strong></mark>ï¼Œå¹¶ä¸”<strong>åœ¨ç±»é‡Œé¢å†™å£°æ˜è¯­å¥ï¼Œåœ¨ç±»å¤–é¢å†™å®šä¹‰</strong>ï¼ˆè¿™æ ·ç±»çš„æ•´ä½“ç»“æ„ä¼šçœ‹çš„æ›´åŠ æ¸…æ™°ï¼‰ï¼›<br/><br/><mark class="highlight-purple"><strong>æˆ–è€…æŠŠæ¨¡ç‰ˆç±»\å‡½æ•° çš„å®šä¹‰å†™åœ¨ä¸€ä¸ª.tpp</strong></mark><mark class="highlight-default">ï¼ˆæ³¨æ„ï¼Œ</mark><mark class="highlight-red"><strong>æ¨¡ç‰ˆç±»\å‡½æ•° çš„å®šä¹‰æ”¾åœ¨.tppè€Œä¸æ˜¯.cpp</strong></mark><mark class="highlight-default">ï¼‰ï¼Œ</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">ç„¶ååœ¨.hçš„æœ€å#include .tpp</mark></strong></span><mark class="highlight-default">ï¼Œå¹¶æŠŠè¿™ä¸ª</mark><mark class="highlight-purple"><strong>.tppæ–‡ä»¶æ”¾åœ¨ä¸.hæ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸‹</strong></mark>ã€‚<br/>ï¼ˆåœ¨.hçš„æœ€å#include .tppæœ¬è´¨ä¸Šä¸ç›´æ¥å†™åœ¨.hé‡Œé¢æ˜¯ç­‰ä»·çš„ï¼‰<br/><ul id="858e7f9e-3de4-403e-8e19-aa2d2afc6cfc" class="bulleted-list"><li style="list-style-type:circle">ä¹‹æ‰€ä»¥æ¨¡ç‰ˆç±»\å‡½æ•° ç›´æ¥æŠŠå£°æ˜å’Œå®ç°ï¼ˆå®šä¹‰ï¼‰å†™åœ¨ä¸€èµ·æ˜¯å› ä¸ºï¼š<ol type="1" id="66ebbaf5-eb7f-4d06-aac2-7ee7b5b69fd3" class="numbered-list" start="1"><li><mark class="highlight-red"><strong><span style="border-bottom:0.05em solid"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å¦åˆ™ä¼šæŠ¥é”™</a></span></strong></mark></li></ol><ol type="1" id="8e53c1e6-ef9a-48a3-8ee3-f58cf19c392e" class="numbered-list" start="2"><li>æ¨¡ç‰ˆç±»å’Œæ¨¡ç‰ˆå‡½æ•°ä¼šåœ¨ç¼–è¯‘æ—¶å°±è®©ç¼–è¯‘å™¨ç”Ÿæˆå¯¹åº”çš„å…·ä½“å®ç°ï¼ˆå®šä¹‰ï¼‰ï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»æä¾›æ¨¡ç‰ˆç±»/æ¨¡ç‰ˆå‡½æ•°çš„å®ç°ï¼ˆå®šä¹‰ï¼‰<blockquote id="cb0d11f6-6cc8-4e21-bb2e-9e25e2f5ce28" class="block-color-gray_background">åœ¨æ¨¡ç‰ˆç±»å’Œæ¨¡ç‰ˆå‡½æ•°ä¸­ï¼ŒæŠŠå£°æ˜å’Œå®šä¹‰ç›´æ¥å†™åœ¨.hä¸­ä¸ä¼šäº§ç”Ÿé“¾æ¥æ—¶é‡å¤å®šä¹‰çš„é—®é¢˜ï¼Œ<br/><br/>å› ä¸ºç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè‡ªåŠ¨ç”Ÿæˆå¯¹åº”æ¨¡ç‰ˆçš„å…·ä½“å®šä¹‰ï¼ˆå®ç°ï¼‰ï¼Œ<br/><span style="border-bottom:0.05em solid"><strong>åœ¨å¤šä¸ªæºæ–‡ä»¶ä¸­åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶æ—¶ï¼Œæ¯ä¸ªæºæ–‡ä»¶åŒ…å«çš„æ¨¡æ¿ç±»å®šä¹‰éƒ½æ˜¯ç‹¬ç«‹çš„</strong></span>ã€‚ç¼–è¯‘å™¨åœ¨å¤„ç†æ¯ä¸ªåŒ…å«æ­¤å¤´æ–‡ä»¶çš„æºæ–‡ä»¶æ—¶ï¼Œä¼šæ ¹æ®éœ€è¦ç”Ÿæˆæ¨¡æ¿ç±»çš„å®ä¾‹ã€‚è¿™äº›å®ä¾‹æ˜¯æ ¹æ®æ¨¡æ¿å‚æ•°ç”Ÿæˆçš„ï¼Œå› æ­¤å³ä½¿æ¨¡æ¿ç±»çš„å®šä¹‰åœ¨å¤šä¸ªæºæ–‡ä»¶ä¸­å‡ºç°ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´é‡å¤å®šä¹‰é—®é¢˜ã€‚</blockquote></li></ol></li></ul></li></ul><h3 id="b3c160cc-273f-4e33-bcec-9f4a6748f656" class="block-color-blue_background">C++ä¸­çš„éšå¼ç±»å‹è½¬æ¢ã€ç±»æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢ã€<strong>åˆ—è¡¨åˆå§‹åŒ– + æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢</strong></h3><ul id="a6b8f94f-1935-46a7-b978-236713c3de70" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>éšå¼ç±»å‹è½¬æ¢</strong></span>ï¼šåœ¨C++ä¸­ï¼Œå‡å¦‚å˜é‡çš„å£°æ˜ä¸å®é™…çš„èµ‹å€¼ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œå°±ä¼šå¯¼è‡´éšå¼ç±»å‹è½¬æ¢ï¼Œä¾‹å¦‚ï¼š<ol type="1" id="66e09685-eb79-4494-9d61-0569d5a925c2" class="numbered-list" start="1"><li>å®šä¹‰äº†ä¸€ä¸ªintå˜é‡ï¼Œä½†èµ‹å€¼æ—¶ç»™çš„æ˜¯floatï¼Œæ­¤æ—¶C++ä¼šé»˜è®¤æŠŠfloatè½¬intåå†èµ‹å€¼ç»™è¿™ä¸ªå˜é‡</li></ol><ol type="1" id="3fe5c8af-4252-4e9f-8c0f-e52bfadb60a9" class="numbered-list" start="2"><li>å‡½æ•°å£°æ˜äº†ä¸€ä¸ªintç±»å‹å‚æ•°ï¼Œä½†æ˜¯å®å‚æ˜¯ä¸€ä¸ªfloatï¼Œå‘ç”Ÿçš„äº‹æƒ…ä¸1)ä¸€æ ·</li></ol><ol type="1" id="08cd47ec-2976-49a5-be64-58a365ac2626" class="numbered-list" start="3"><li>å‡½æ•°å£°æ˜ä¸€ä¸ªintç±»å‹è¿”å›å€¼ï¼Œä½†æ˜¯è¿”å›äº†ä¸€ä¸ªfloatï¼Œå‘ç”Ÿçš„äº‹æƒ…ä¸1)ä¸€æ ·</li></ol><ol type="1" id="5f74aab2-0042-422e-84bc-20439736ba32" class="numbered-list" start="4"><li>ä¸€ä¸ªè¡¨è¾¾å¼ä¸­åŒ…å«å¤šç§ä¸åŒçš„åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼ˆå¦‚<code><strong>int</strong></code>ã€<code><strong>float</strong></code>ã€<code><strong>double</strong></code>ç­‰ï¼‰ï¼Œè¾ƒå°çš„ç±»å‹é€šå¸¸ä¼šè¢«è‡ªåŠ¨è½¬æ¢ï¼ˆæå‡ï¼‰åˆ°è¾ƒå¤§çš„ç±»å‹ï¼Œä»¥ä¾¿è¡¨è¾¾å¼æœ‰ä¸€ä¸ªå…±åŒçš„ç±»å‹ã€‚<blockquote id="1dc3b2c1-f3c1-48fa-be67-6aedcefc4ecc" class="block-color-gray_background">è¿™ç§æƒ…å†µæœ¬è´¨ä¸Šå°±æ˜¯2) ä¸ 3)ï¼Œåœ¨è°ƒç”¨ç±»çš„è¿ç®—ç¬¦æˆå‘˜å‡½æ•°æ—¶ï¼Œå®å‚ç±»å‹ä¸åŒ¹é…ï¼Œä»è€Œå‘ç”Ÿ2)çš„éšå¼è½¬æ¢</blockquote></li></ol></li></ul><ul id="64acc6fa-89a6-4d40-9096-b3c5e88fc546" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>ç±»æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢</strong></span></mark>ï¼šå½“ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°åªéœ€è¦ä¸€ä¸ªå‚æ•°ï¼ˆæˆ–æ‰€æœ‰å‚æ•°é™¤äº†ä¸€ä¸ªéƒ½æœ‰é»˜è®¤å€¼ï¼‰æ—¶ï¼ŒC++å…è®¸è¿™ä¸ªæ„é€ å‡½æ•°è¢«ç”¨äºéšå¼ç±»å‹è½¬æ¢ã€‚è¿™ç§è½¬æ¢å…è®¸ç›´æ¥ä»æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹è½¬æ¢åˆ°è¯¥ç±»ç±»å‹ï¼Œè€Œä¸éœ€è¦æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š<ol type="1" id="a0a4b81a-8e7f-4bd5-aaf6-fbed5f3d1520" class="numbered-list" start="1"><li>å£°æ˜ç±»å¹¶è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå‡½æ•°å‚æ•°è¿›è¡Œä¼ å‚æ•°æ—¶ï¼Œå‘ç”Ÿæ„é€ å‡½æ•°çš„éšå¼è½¬æ¢<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="17ded5eb-f9a8-47ae-8e06-7eb274cd1e54" class="code"><code class="language-C++">#include &lt;iostream&gt;

class B {
public:
    B(int x = 0, bool b = true) {  // å¯ä»¥ä½¿ç”¨explicitå…³é”®å­—æ¥ä¿®é¥°è¿™ä¸ªæ„é€ å‡½æ•°
        std::cout &lt;&lt; &quot;B object created with values: x=&quot; &lt;&lt; x &lt;&lt; &quot;, b=&quot; &lt;&lt; std::boolalpha &lt;&lt; b &lt;&lt; std::endl;
    }
};

void functionTakingB(B bObject) {
    std::cout &lt;&lt; &quot;functionTakingB called&quot; &lt;&lt; std::endl;
}
int main() {
    B tmp = 42; // å¦‚æœBçš„æ„é€ å‡½æ•°ä¸æ˜¯explicitçš„ï¼Œè¿™å°†ä¼šéšå¼åœ°åˆ›å»ºä¸€ä¸ªBå¯¹è±¡
    
    functionTakingB(42); // å¦‚æœBçš„æ„é€ å‡½æ•°ä¸æ˜¯explicitçš„ï¼Œè¿™å°†ä¼šéšå¼åœ°åˆ›å»ºä¸€ä¸ªBå¯¹è±¡
    functionTakingB(B(42)); // æ­£ç¡®ï¼šæ˜¾å¼åœ°ä½¿ç”¨æ„é€ å‡½æ•°
    return 0;
}</code></pre></li></ol><ol type="1" id="4862b78c-09c5-41d4-84de-d66b745f3ab0" class="numbered-list" start="2"><li><span style="border-bottom:0.05em solid"><strong>åˆ—è¡¨åˆå§‹åŒ– + æ„é€ å‡½æ•°çš„éšå¼è½¬æ¢ï¼ˆå¾ˆå¸¸ç”¨ï¼‰</strong></span>ï¼šå‡½æ•°ä¼ å‚æ—¶ï¼Œå‡½æ•°è¿”å›æ—¶<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="37f96b4b-242b-4f39-95b6-c90a63d9e36e" class="code"><code class="language-C++">class MyClass {
public:
    // å¯ä»¥ä½¿ç”¨explicitå…³é”®å­—æ¥ä¿®é¥°è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œæ¥ç¦ç”¨æ„é€ å‡½æ•°çš„éšå¼è°ƒç”¨
    MyClass(int a, double b, char c, std::string d) : m_a(a), m_b(b) {}

private:
    int m_a;
    double m_b;
};

// å‡½æ•°è¿”å›æ—¶ï¼š
// ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–çš„æ–¹æ³•æ¥è¿›è¡Œæ„é€ å‡½æ•°çš„éšå¼è½¬æ¢
MyClass createMyClass() {
    return {1, 2.3};
}

// å‡½æ•°ä¼ å‚æ—¶ï¼š
// ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–çš„æ–¹æ³•æ¥è¿›è¡Œæ„é€ å‡½æ•°çš„éšå¼è½¬æ¢
void processMyClass(MyClass obj) {
    // å¤„ç†objçš„é€»è¾‘
}
int main() {
    processMyClass({1, 2.3});
    return 0;
}
```</code></pre></li></ol></li></ul><h3 id="5ba3d9ec-dfaa-442f-9179-9bce3ecd79df" class="block-color-blue_background">C++ç»“æ„ä½“ã€Cç»“æ„ä½“ã€C++ç±»ä¹‹é—´çš„åŒºåˆ«</h3><ul id="772ef35b-7b27-45e4-a749-71ff4eb03214" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>é»˜è®¤è®¿é—®æ§åˆ¶</strong></mark>ï¼šåœ¨C++ä¸­ï¼Œç»“æ„ä½“æˆå‘˜çš„é»˜è®¤è®¿é—®æƒé™æ˜¯<em>public</em>ï¼Œè€Œç±»æˆå‘˜çš„é»˜è®¤è®¿é—®æƒé™æ˜¯<em>private</em>ã€‚è¿™æ„å‘³ç€ï¼Œé™¤éå¦æœ‰æŒ‡å®šï¼Œç»“æ„ä½“çš„æˆå‘˜åœ¨å¤–éƒ¨æ˜¯å¯ç›´æ¥è®¿é—®çš„ã€‚<ul id="54154317-cb44-4b8b-b6c6-88a11904ef0b" class="bulleted-list"><li style="list-style-type:circle">ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCä¸­çš„ç»“æ„ä½“ä¸æ¶‰åŠè®¿é—®æ§åˆ¶çš„æ¦‚å¿µï¼Œå…¶æˆå‘˜é»˜è®¤éƒ½æ˜¯å…¬å¼€çš„ã€‚</li></ul></li></ul><ul id="6445cdd9-b132-4c15-991b-19171392bdb1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>æˆå‘˜å‡½æ•°å’Œæ„é€ å‡½æ•°</strong></mark>ï¼šC++çš„ç»“æ„ä½“<strong>å¯ä»¥åŒ…å«æˆå‘˜å‡½æ•°ã€æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€</strong><span style="border-bottom:0.05em solid"><strong>ç±»å‹åˆ«å</strong></span><strong>ç­‰</strong>ï¼Œå…è®¸æ‰§è¡Œæ›´å¤æ‚çš„åˆå§‹åŒ–å’Œæ¸…ç†æ“ä½œï¼Œä»¥åŠå°è£…ç›¸å…³çš„æ“ä½œã€‚è¿™ä½¿å¾—C++çš„ç»“æ„ä½“èƒ½å¤Ÿç”¨ä½œæ›´æ¥è¿‘ç±»çš„æ–¹å¼ã€‚<ul id="67093e2d-1b2d-49af-b4c6-2cfd76ee0918" class="bulleted-list"><li style="list-style-type:circle">ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCè¯­è¨€çš„ç»“æ„ä½“ä¸èƒ½åŒ…å«å‡½æ•°ã€‚</li></ul></li></ul><ul id="6e121a65-c0e1-44d2-86f9-7db831942a20" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>ç»§æ‰¿å’Œå¤šæ€</strong></mark>ï¼šC++ç»“æ„ä½“æ”¯æŒç»§æ‰¿å’Œå¤šæ€ï¼Œæ„å‘³ç€<strong>ä¸€ä¸ªç»“æ„ä½“å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç»“æ„ä½“æˆ–ç±»</strong>ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨è™šå‡½æ•°æ¥å®ç°å¤šæ€ã€‚è¿™æ˜¯C++é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€éƒ¨åˆ†<ul id="e57cffc3-ab9c-4f73-b893-29c7bb7d104c" class="bulleted-list"><li style="list-style-type:circle">ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCè¯­è¨€ç»“æ„ä½“ä¸æ”¯æŒè¿™äº›æ¦‚å¿µã€‚</li></ul></li></ul><ul id="8749487b-ea80-4399-9b28-1a63def74017" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>æ¨¡æ¿</strong></mark>ï¼šC++<strong>å…è®¸ç»“æ„ä½“æˆä¸ºæ¨¡æ¿</strong>ï¼Œè¿™æ„å‘³ç€å¯ä»¥å®šä¹‰èƒ½å¤Ÿå¤„ç†å¤šç§æ•°æ®ç±»å‹çš„é€šç”¨ç»“æ„ä½“ã€‚<ul id="c6b2d688-8c7e-41f3-8e72-631abb90a56f" class="bulleted-list"><li style="list-style-type:circle">Cè¯­è¨€ç»“æ„ä½“ä¸æ”¯æŒæ¨¡æ¿ã€‚</li></ul></li></ul><ul id="994ab595-193f-4d96-867e-e79d25114de4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>å£°æ˜æ›´åŠ ç®€æ´</strong></mark>ï¼šå£°æ˜Cç»“æ„ä½“æ—¶å¿…é¡»åœ¨å‰é¢åŠ ä¸€ä¸ªstructï¼Œè€ŒC++ç»“æ„ä½“ä¸éœ€è¦ã€‚</li></ul><ul id="d04c8614-9d38-4533-b902-8a026147ed6e" class="bulleted-list"><li style="list-style-type:disc">case:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="de2135fc-11dd-4f3f-8670-3aaf2ecf4ec3" class="code"><code class="language-C++">struct Person {
    using name_type = std::string;
    using age_type  = size_t;

    name_type name;
    age_type age;

    // æ„é€ å‡½æ•°ï¼Œé€šè¿‡åˆ©ç”¨é»˜è®¤å€¼çš„è®¾ç½®ï¼Œæ¥åŒæ—¶æ„é€ å¤šç§æƒ…å†µçš„æ„é€ å‡½æ•°ï¼Œä½¿ä»£ç æ›´ç´§å‡‘
    Person(const name_type&amp; name = &quot;&quot;, age_type age = 0) : name(name), age(age) {}

    // æˆå‘˜å‡½æ•°
    void introduce() const {
        std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name &lt;&lt; &quot;\nAge: &quot; &lt;&lt; age &lt;&lt; std::endl;
    }
};

int main() {
    Person person{&quot;John Doe&quot;, 30};
    person.introduce();
    return 0;
}</code></pre></li></ul><ul id="33bbc926-741e-4065-b36c-7ff874ce85aa" class="bulleted-list"><li style="list-style-type:disc">è¿˜å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ç±»å‹ï¼š<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">case</a></li></ul><h3 id="655c8485-cee0-48d1-9d23-887bbb2b3494" class="block-color-blue_background">è¿­ä»£å™¨ä¸­ï¼Œå‰ç¼€é€’å¢++xä¸åç¼€é€’å¢x++çš„æ•ˆç‡åŒºåˆ«</h3><ul id="c67d2f20-48b6-40a9-b71c-1c6fb367021e" class="bulleted-list"><li style="list-style-type:disc">x++çš„å®ç°éœ€è¦æ¯”++xçš„å®ç°å¤šä¸€ä¸ª<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">æ‹·è´æ„é€ å‡½æ•°</a>çš„æ—¶é—´ï¼šå› ä¸ºå¯¹äºä¸€ä¸ªå‰å‘è¿­ä»£å™¨ï¼Œå¾€å‰è¿­ä»£åå°±ä¼šä¸¢å¤±ä¸Šä¸€æ¬¡è¿­ä»£å‰çš„çŠ¶æ€ã€‚å› æ­¤å¯¹äºx++ï¼Œåœ¨<span style="border-bottom:0.05em solid"><strong>å®ç°åç¼€é€’å¢è¿ç®—ç¬¦æ—¶ï¼Œå¿…é¡»å…ˆæ‹·è´é€’å¢å‰çš„çŠ¶æ€</strong></span>ï¼Œç„¶åå†é€’å¢è¿­ä»£å™¨åï¼Œå†è¿”å›è¿™ä¸ªæ‹·è´ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b7e85158-0f7a-4320-9e01-ef8f4f41d597" class="code"><code class="language-C++">iterator Myclass::operator++(int) {  
    // C++é€šè¿‡operator++()ä¸operator++(int)æ¥åŒºåˆ«å‰ç¼€é€’å¢è¿ç®—ç¬¦ä¸åç¼€é€’å¢è¿ç®—ç¬¦
    auto copy = *this; // calls the copy constructor to create copy
    ++(*this);  // è°ƒç”¨å‰ç¼€é€’å¢è¿ç®—ç¬¦
    return copy;
}</code></pre></li></ul><ul id="557eae0d-31bb-41ad-968b-4c383a4cd1cf" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>æ‰€ä»¥åœ¨è¿­ä»£ä¸€ä¸ªè¿­ä»£å™¨æ—¶ï¼Œå°½é‡ç”¨++xæ¥è¿›è¡Œè¿­ä»£</strong></span></li></ul><h3 id="2791865f-9019-4201-9856-8584457acf1d" class="block-color-blue_background">â€˜\nâ€™ä¸std::endl</h3><ul id="c196b80c-f1cd-4353-abea-98239f87e0f4" class="bulleted-list"><li style="list-style-type:disc">å°½é‡ç”¨â€™\nâ€™ æ¥æ›¿ä»£<code>std::endl</code>ã€‚å› ä¸ºæŠŠstd::endlé€å…¥æ ‡å‡†è¾“å‡ºæ—¶ï¼Œä¼šç«‹é©¬åˆ·æ–°ç¼“å­˜ï¼Œå°†ä¹‹å‰çš„å†…å®¹è¿›è¡Œæ‰“å°ï¼ˆè€Œæ¯æ¬¡æ‰“å°éƒ½ä¼šè¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œä»è€Œå¯¼è‡´IOæ€§èƒ½ä¸‹é™ï¼‰</li></ul><h3 id="7cf53478-969a-444d-aa15-d8224164d290" class="block-color-blue_background">æµ…æ‹·è´</h3><ul id="cf402889-c9f2-436b-8fb5-936b7aead1be" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>æµ…æ‹·è´</strong></span>æœ¬è´¨ä¸Šå°±æ˜¯åšäº†ä¸€ä¸ªåˆ«åï¼ŒæŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜<ul id="0dfd26ea-604d-4f11-b7de-191a95292746" class="bulleted-list"><li style="list-style-type:circle">å¦å¤–ï¼Œå¯ä»¥æŠŠæµ…æ‹·è´ç†è§£æˆä¸€ç§member-wiseçš„copyï¼Œå®ƒä¸ä¼šå»æ‹·è´å¯¹åº”çš„å†…å­˜ï¼›ç›¸åï¼Œæ·±æ‹·è´å°±æ˜¯ä¸€ç§è¿­ä»£å¼çš„copyï¼Œå®ƒä¼šè¿åŒæŒ‡å‘çš„å†…å­˜ä¸€èµ·æ‹·è´ã€‚</li></ul></li></ul><h3 id="05e89bd4-c060-4a16-a429-6b0bcb4b508a" class="block-color-blue_background">é—­åŒ…</h3><ul id="d6330b42-1ff6-4975-8484-32d6370cc413" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>é—­åŒ…</strong></span>ï¼šé—­åŒ…åœ¨ç¼–ç¨‹ä¸­æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œé€šå¸¸æŒ‡çš„æ˜¯<strong>å‡½æ•°å’Œå…¶ç›¸å…³å¼•ç”¨ç¯å¢ƒçš„ç»„åˆ</strong>ã€‚<br/>å³ï¼šé—­åŒ…ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿˜<br/><span style="border-bottom:0.05em solid"><em>åŒ…æ‹¬è¯¥å‡½æ•°åˆ›å»ºæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸä¸­çš„ä»»ä½•å±€éƒ¨å˜é‡çš„å¼•ç”¨</em></span>ã€‚è¿™æ„å‘³ç€å³ä½¿å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å·²ç»ç¦»å¼€äº†å˜é‡çš„ä½œç”¨åŸŸï¼Œé—­åŒ…ä»ç„¶å¯ä»¥è®¿é—®å’Œä¿®æ”¹è¿™äº›å¤–éƒ¨å˜é‡ã€‚<blockquote id="bf5ea81c-677a-4a80-937b-a772ddf79c1e" class="block-color-gray_background">åœ¨C++ä¸­ï¼Œé€šè¿‡<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">lambdaè¡¨è¾¾å¼</a>çš„å‚æ•°æ•è·åˆ—è¡¨å¯ä»¥å®ç°é—­åŒ…</blockquote></li></ul><h3 id="b5f0a2cc-1dc3-4fcd-9bc7-84ed3ef61e60" class="block-color-blue_background">åˆ—è¡¨åˆå§‹åŒ–ï¼ˆèŠ±æ‹¬å·åˆå§‹åŒ–ï¼‰ä¸ä¼ ç»Ÿåˆå§‹åŒ–</h3><ul id="e36dad2c-b420-437f-b22f-d5bb5138c818" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>åˆ—è¡¨åˆå§‹åŒ–</strong></span>ï¼ˆ<span style="border-bottom:0.05em solid"><strong>èŠ±æ‹¬å·åˆå§‹åŒ–</strong></span>ï¼‰<code>x{..}</code>ä¸ä¼ ç»Ÿçš„æ‹¬å·åˆå§‹åŒ–<code>x(..)</code>çš„åŒºåˆ«<ul id="3ffaa6a4-d332-4722-b907-468a8245c573" class="bulleted-list"><li style="list-style-type:circle"><strong>åˆ—è¡¨åˆå§‹åŒ– </strong><code><strong>{}</strong></code>ï¼šä¸¥æ ¼è¿›è¡Œç±»å‹åŒ¹é…ï¼Œé˜²æ­¢çª„åŒ–è½¬æ¢ï¼ˆå¦‚doubleè½¬intï¼‰ï¼Œé€‚ç”¨äºæ‰€æœ‰ç±»å‹ï¼Œæä¾›ç»Ÿä¸€çš„åˆå§‹åŒ–è¯­æ³•ã€‚ï¼ˆC++11å¼•å…¥çš„ç‰¹æ€§ï¼Œ<strong>good practice</strong>ï¼‰</li></ul><ul id="27504b06-4409-4815-a27d-ed215c6cff65" class="bulleted-list"><li style="list-style-type:circle"><strong>æ„é€ å‡½æ•°åˆå§‹åŒ– </strong><code><strong>()</strong></code>ï¼šæ›´ä¼ ç»Ÿï¼Œå…è®¸çª„åŒ–è½¬æ¢</li></ul><blockquote id="9dd8c027-323b-4c6a-8d17-906c7d7661c1" class="block-color-gray_background"><mark class="highlight-purple"><strong>èŠ±æ‹¬å·åˆå§‹åŒ–å’Œæ™®é€šçš„åˆå§‹åŒ–åœ¨æµç¨‹ä¸Šçš„åŒºåˆ«</strong></mark>ï¼šä½¿ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¼˜å…ˆä»<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°</a>å¼€å§‹åŒ¹é…ï¼Œå†ä»ä¸€èˆ¬çš„é‡è½½æ„é€ å‡½æ•°å¼€å§‹åŒ¹é…ï¼›è€Œæ™®é€šçš„çš„åˆå§‹åŒ–ç›´æ¥ä»ä¸€èˆ¬çš„é‡è½½æ„é€ å‡½æ•°å¼€å§‹åŒ¹é…<br/><br/><br/><span style="border-bottom:0.05em solid"><strong>æ‰€ä»¥èŠ±æ‹¬å·åˆå§‹åŒ–çš„é€‚ç”¨èŒƒå›´è¿˜æ¯”æ™®é€šçš„åˆå§‹åŒ–è¦å¤§</strong></span>ï¼ˆå¤šäº†åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°å¯ä»¥åŒ¹é…ï¼‰</blockquote></li></ul><ul id="bb40d521-9b73-43c4-9104-bb2cd3ffde43" class="bulleted-list"><li style="list-style-type:disc">trick1ï¼š<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">åˆ—è¡¨åˆå§‹åŒ–+æ„é€ å‡½æ•°çš„éšå¼è°ƒç”¨</a></li></ul><ul id="7f2aac09-7f6f-4085-aee9-3b92859bbfd6" class="bulleted-list"><li style="list-style-type:disc">trick2ï¼špairä¸­çš„åŒé‡åˆ—è¡¨åˆå§‹åŒ–<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="dedfc73b-c2c5-4819-ae17-ed1f41c67934" class="code"><code class="language-C++">std::pair&lt;int, std::vector&lt;std::string&gt;&gt; foo{1, {&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;}};
std::pair&lt;int, std::vector&lt;std::string&gt;&gt; bar{{}, {&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;}};
std::pair&lt;int, std::vector&lt;std::string&gt;&gt; bar{-100, {}};</code></pre><ul id="c473ca18-faae-4121-84e1-ed1a0ca8ec8b" class="bulleted-list"><li style="list-style-type:circle">ä¼ å…¥ä¸€ä¸ªç©ºçš„{}ï¼Œè¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°</li></ul></li></ul><h3 id="fc688705-39fa-4a88-a4aa-652f73eb8f2c" class="block-color-blue_background">ç»“æ„åŒ–ç»‘å®šï¼šæ›´æ–¹ä¾¿åœ°æ‹†åŒ…</h3><ul id="1ab16569-9e73-4872-bac3-cfa2c01e607e" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<span style="border-bottom:0.05em solid"><strong>ç»“æ„åŒ–ç»‘å®š</strong></span>ï¼ˆç±»ä¼¼äºpythonä¸­çš„æ‹†åŒ…ï¼‰æ¥ç»™å˜é‡èµ‹å€¼ã€‚<blockquote id="870b75b8-0bd7-4158-a0ae-16098bc835c7" class="block-color-gray_background">ç»“æ„åŒ–ç»‘å®šæ˜¯ C++17 å¼•å…¥çš„ä¸€ç§ç‰¹æ€§ï¼Œå®ƒå…è®¸æ‚¨ä»ä¸€ä¸ªå…ƒç»„ã€ç»“æ„ä½“æˆ–æ•°ç»„ä¸­æ–¹ä¾¿åœ°è§£åŒ…ï¼ˆunpackï¼‰æ•°æ®åˆ°å•ç‹¬çš„å˜é‡ä¸­ã€‚è¿™ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œç®€æ´ã€‚</blockquote><ul id="bdb54fac-0959-4e35-afe8-baa89fd0f975" class="bulleted-list"><li style="list-style-type:circle">ä¸€ä¸ªå¯¹<code>map</code>ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šï¼ˆæ‹†åŒ…ï¼‰çš„ä¾‹å­ï¼ˆâš ï¸ï¼š<span style="border-bottom:0.05em solid"><strong><code>map</code></strong></span><span style="border-bottom:0.05em solid"><strong>ä¸­çš„æ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ª</strong></span><span style="border-bottom:0.05em solid"><strong><code>pair</code></strong></span>ï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c61b3c39-6227-4f26-bdce-e097514bba54" class="code"><code class="language-C++">#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;iostream&gt;

int main() {
    std::map&lt;int, std::string&gt; myMap = {
				//ä½¿ç”¨{}æ¥è¿›è¡Œpair&lt;int, std::string&gt;çš„åˆå§‹åŒ–
        {1, &quot;one&quot;}, 
        {2, &quot;two&quot;},
        {3, &quot;three&quot;}
    };

    // ä½¿ç”¨ç»“æ„åŒ–ç»‘å®šéå† map
    for (const auto&amp; [key, value] : myMap) {
        std::cout &lt;&lt; &quot;Key: &quot; &lt;&lt; key &lt;&lt; &quot;, Value: &quot; &lt;&lt; value &lt;&lt; std::endl;
    }
    
    auto&amp; [k, v] = *(myMap.begin());
    return 0;
}</code></pre></li></ul></li></ul><h3 id="508502c4-395a-4c23-9bf9-97e22729d4c8" class="block-color-blue_background">å…³é”®å­—ï¼šå·¦å€¼å¼•ç”¨&amp;ã€å³å€¼å¼•ç”¨&amp;&amp;ã€usingã€typenameã€::ã€staticã€inlineã€noexceptã€voidã€<strong>decltypeã€thisæŒ‡é’ˆ</strong></h3><ul id="7ec8ad8b-257c-4294-af43-1fc607b977bf" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>&amp;</code></strong></em><strong>å…³é”®å­—</strong>ï¼šåœ¨å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œæˆ–è€…åœ¨å‡½æ•°ä¸­å®šä¹‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯¹äºç”¨äº†<span style="border-bottom:0.05em solid"><strong>å¼•ç”¨</strong></span><strong><code>&amp;</code></strong>ä¿®é¥°çš„å˜é‡ï¼Œè¡¨ç¤ºåœ¨èµ‹å€¼æ—¶è¿›è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œå› æ­¤ä»…ä»…æ˜¯åšäº†ä¸€ä¸ªåˆ«åï¼ŒæŒ‡å‘çš„è¿˜æ˜¯åŒä¸€å—å†…å­˜ï¼ˆå¦‚æœæ²¡æœ‰ç”¨&amp;ä¿®é¥°ï¼Œåˆ™é»˜è®¤è¡¨ç¤ºè¿›è¡Œ<strong>æŒ‰å€¼ä¼ é€’</strong>ï¼‰<ul id="78af742a-7e6b-4679-af08-6f511d91f534" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœå‡½æ•°returnçš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œè€Œæ¥å—è¿”å›å€¼çš„å˜é‡ä¸æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œé‚£ä¹ˆç›¸å½“äºæŠŠè¿”å›çš„å¼•ç”¨åšäº†ä¸€ä¸ªæ·±æ‹·è´ç„¶åèµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡</li></ul><ul id="9568b7df-341a-429c-9b91-5a4b3a76edbb" class="bulleted-list"><li style="list-style-type:circle"><strong>å¯ä»¥ç»™å‡½æ•°çš„è¿”å›å€¼åé¢åŠ ä¸€ä¸ªå¼•ç”¨ç¬¦</strong><code><strong>&amp;</strong></code>ï¼Œè¡¨ç¤ºè¿”å›çš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚ï¼ˆå¦åˆ™è¿›è¡Œçš„æ˜¯<strong>æŒ‰å€¼è¿”å›</strong>ï¼‰</li></ul></li></ul><ul id="0b60fa31-2715-4b69-a26e-cfbced21bf87" class="bulleted-list"><li style="list-style-type:disc"><strong><em><code>&amp;&amp;</code></em></strong><strong>å…³é”®å­—</strong>ï¼š<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ref</a></li></ul><ul id="76506fdf-7a66-4760-86b6-1a65cfea2c6a" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>using</code></strong></em><strong>å…³é”®å­—</strong>ï¼šC++11å¼•å…¥çš„ç‰¹æ€§<ul id="eeba988e-4714-4e1b-9444-03e771b3178e" class="bulleted-list"><li style="list-style-type:circle">å¯ä»¥ç”¨<code>using</code>å…³é”®å­—æ¥<span style="border-bottom:0.05em solid"><strong>è‡ªå®šä¹‰ä¸€äº›ç±»å‹</strong></span>ï¼ˆç±»ä¼¼äº<code>typedef</code>ï¼‰ã€‚<br/>ä½œä¸º<br/><code>typedef</code>çš„æ›¿ä»£ï¼Œæä¾›äº†åˆ›å»ºç±»å‹åˆ«åçš„æ›´ç°ä»£ã€æ›´é€šç”¨çš„æ–¹å¼ã€‚ä¸<code>typedef</code>ç›¸æ¯”ï¼Œ<code>using</code>è¯­æ³•æ›´åŠ æ¸…æ™°ã€‚<ul id="6274af73-d118-44e8-8fdf-25b9ac332f69" class="bulleted-list"><li style="list-style-type:square">ä¾‹å¦‚ï¼š<code>using head = int*;</code>ï¼ˆç„¶åå°±å¯ä»¥<code>head ptr = new int;</code>ï¼‰</li></ul><ul id="5665bbea-867a-45e9-a3f2-567e20c35420" class="bulleted-list"><li style="list-style-type:square">usingè¿˜å¯ä»¥å¯¹æ¨¡ç‰ˆç±»å‹é‡å‘½å</li></ul></li></ul><ul id="f4ea261a-6124-40eb-9408-502688020e3f" class="bulleted-list"><li style="list-style-type:circle"><code>using</code><strong> </strong>ä¹Ÿå¯ä»¥ç”¨æ¥<span style="border-bottom:0.05em solid"><strong>å¼•å…¥å‘½åç©ºé—´ä¸­çš„ç‰¹å®šæˆå‘˜</strong></span>ï¼Œ<span style="border-bottom:0.05em solid"><strong>æˆ–è€…æ•´ä¸ªå‘½åç©ºé—´</strong></span>ï¼Œä»è€Œé¿å…åœ¨æ¯æ¬¡å¼•ç”¨æ—¶éƒ½éœ€è¦ä½¿ç”¨å®Œæ•´çš„å‘½åç©ºé—´é™å®šç¬¦ã€‚<ul id="a5fe6183-f215-4372-a004-b64ad29e17a3" class="bulleted-list"><li style="list-style-type:square">ä¾‹å¦‚<code>using std::string, std::cout; </code>ï¼ˆç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨stringå’Œcoutï¼Œè€Œä¸éœ€è¦å‰é¢åŠ ä¸Šstd::çš„å‰ç¼€ï¼‰</li></ul></li></ul></li></ul><ul id="aeeff2f1-4f3c-4703-a9d6-73bde686763d" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>typename</code></strong></em><strong>å…³é”®å­—</strong>ï¼šç”¨äºæŒ‡æ˜åé¢çš„åç§°æ˜¯ä¸€ä¸ªç±»å‹<ul id="32fb018d-6b73-418f-bf9e-ed31e46896c4" class="bulleted-list"><li style="list-style-type:circle">case1ï¼šæ¨¡ç‰ˆç¼–ç¨‹ä¸­æŒ‡å®šä¸€ä¸ªå˜é‡æ˜¯ä¸€ä¸ªç±»å‹å<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8714f719-2cb3-4432-adbb-aa6c9d6e793d" class="code"><code class="language-C++">
template&lt;typename U&gt;  // ç”¨äºæ˜¾å¼åœ°å‘Šè¯‰ç¼–è¯‘å™¨ï¼šåå­—Uæ˜¯ä¸€ä¸ªåƒç±»å‹åç§°ï¼ˆæ¯”å¦‚intè¿™æ ·çš„ç±»å‹åç§°ï¼‰
void myFunction(U param) {
    // ...
}</code></pre></li></ul><ul id="e00c491a-93ac-4e4d-b817-dc927a7497bf" class="bulleted-list"><li style="list-style-type:circle"><a href="https://www.notion.so/C-6e15a78480a542c49efdb2d2c4035a01?pvs=21">case2</a>ï¼šå¼•ç”¨ä¸€ä¸ªæ¨¡ç‰ˆç±»é‡Œçš„è‡ªå®šä¹‰ç±»å‹</li></ul><ul id="f1851894-cc29-44a2-a7cb-adb8f8e9c6d3" class="bulleted-list"><li style="list-style-type:circle"><a href="https://www.notion.so/C-6e15a78480a542c49efdb2d2c4035a01?pvs=21">case3</a>ï¼šä»è¿­ä»£å™¨ç±»å‹ä¸­æå–å‡ºå®ƒæ‰€æŒ‡å‘çš„å…ƒç´ ç±»å‹ã€‚</li></ul></li></ul><ul id="3ca6ebaa-a786-47e2-9fbc-4c779b48d797" class="bulleted-list"><li style="list-style-type:disc"><strong>ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦</strong><em><code>::</code></em>ï¼Œè¿™ä¸ªè¿ç®—ç¬¦ç”¨äºä»¥ä¸‹å‡ ç§æƒ…å†µ<ul id="e01c1732-e7bb-4923-bdde-c220f112d9f0" class="bulleted-list"><li style="list-style-type:circle"><strong>æŒ‡å®šå‘½åç©ºé—´</strong>ï¼šç”¨äºè®¿é—®ç‰¹å®šå‘½åç©ºé—´ä¸­çš„ç±»ã€å‡½æ•°æˆ–å˜é‡ã€‚ä¾‹å¦‚ï¼Œ<code><strong>std::cout</strong></code> è¡¨ç¤ºè®¿é—®æ ‡å‡† (<code><strong>std</strong></code>) å‘½åç©ºé—´ä¸­çš„ <code><strong>cout</strong></code> å¯¹è±¡</li></ul><ul id="bb2bc5b6-50cb-490b-9e2f-fd8d4e5596f9" class="bulleted-list"><li style="list-style-type:circle"><strong>è®¿é—®ç±»å†…å®šä¹‰çš„ç±»å‹åˆ«å</strong>ï¼šå¦‚std::vector&lt;int&gt;::iteratorï¼ˆè®¿é—®stdå‘½åç©ºé—´ä¸­vectorç±»å†…å®šä¹‰çš„iteratorç±»å‹åï¼‰</li></ul><ul id="cd48d610-659e-4d4b-876f-378312d8505b" class="bulleted-list"><li style="list-style-type:circle"><strong>è®¿é—®ç±»çš„é™æ€æˆå‘˜</strong>ï¼šå½“éœ€è¦åœ¨ç±»å¤–éƒ¨è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼ˆå±æ€§æˆ–æ–¹æ³•ï¼‰æ—¶ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ<code><strong>ClassName::staticMethod()</strong></code></li></ul><ul id="e915aa1f-2363-4c13-ad7f-70e5a01e59cb" class="bulleted-list"><li style="list-style-type:circle">è®¿é—®<strong>å®šä¹‰ç±»å¤–çš„æˆå‘˜å‡½æ•°</strong>ï¼šåœ¨ç±»å®šä¹‰å¤–éƒ¨å®šä¹‰æˆå‘˜å‡½æ•°æ—¶ï¼Œä½¿ç”¨ <code><strong>::</strong></code> æ¥æŒ‡å®šè¿™ä¸ªå‡½æ•°å±äºå“ªä¸ªç±»ã€‚ä¾‹å¦‚ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="15324888-108c-47b4-be92-32284c259bac" class="code"><code class="language-C++">class MyClass {
public:
    void myMethod();
};

void MyClass::myMethod() {
    // åœ¨ç±»çš„å¤–é¢è¿›è¡Œæ–¹æ³•å®šä¹‰
}</code></pre></li></ul><ul id="3911fbd9-2634-44ca-adfb-dfb0c13cbca3" class="bulleted-list"><li style="list-style-type:circle">å½“<code><strong>::</strong></code><strong>å‰é¢æ²¡æœ‰ä»»ä½•åå­—æ—¶</strong>ï¼Œå®ƒè¡¨ç¤ºè®¿é—®å…¨å±€å‘½åç©ºé—´ä¸­çš„åç§°ï¼ˆç¬¦å·ï¼‰ï¼Œè¿™ç§ç”¨æ³•å¯ä»¥ç”¨äºå¾ˆå¤šç§åœºæ™¯ï¼Œä¾‹å¦‚ï¼š<ul id="1851ca69-80ff-4d34-b3bc-6b81733d361e" class="bulleted-list"><li style="list-style-type:square"><strong>è®¿é—®å…¨å±€å˜é‡</strong>ï¼šå¦‚æœå…¨å±€å˜é‡çš„åç§°è¢«å±€éƒ¨å˜é‡é®è”½ï¼Œå¯ä»¥ä½¿ç”¨ <code><strong>::</strong></code> æ¥è®¿é—®å…¨å±€å˜é‡ã€‚ä¾‹å¦‚ï¼Œ<code><strong>::globalVar</strong></code>ã€‚</li></ul><ul id="edde90a6-9a9d-4643-8342-969542dd2ed0" class="bulleted-list"><li style="list-style-type:square">ç”¨::æ¥è®¿é—®å¤–éƒ¨çš„ä¸€ä¸ªå‡½æ•°</li></ul></li></ul><ul id="91588c59-adc2-4e82-938f-18e624390477" class="bulleted-list"><li style="list-style-type:circle"><strong>åœ¨ç»§æ‰¿ä¸­æŒ‡å®šçˆ¶ç±»çš„æˆå‘˜</strong>ï¼šå¦‚æœæ´¾ç”Ÿç±»éœ€è¦è®¿é—®è¢«é®è”½ï¼ˆæˆ–é‡å†™ï¼‰çš„åŸºç±»æˆå‘˜ï¼Œå¯ä»¥ä½¿ç”¨ <code><strong>::</strong></code>ã€‚</li></ul></li></ul><ul id="3e136ea4-c1e8-404c-a7bc-4445e650dfa2" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>static</code></strong></em>å…³é”®å­—ï¼šåœ¨ C++ ä¸­ï¼Œ<code><strong>static</strong></code> å…³é”®å­—æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ç”¨äºå¤šç§ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå…·æœ‰ä¸åŒçš„å«ä¹‰ã€‚ä»¥ä¸‹æ˜¯ <code><strong>static</strong></code> å…³é”®å­—çš„ä¸»è¦ç”¨é€”ï¼š<ul id="5683a2f7-98b1-46c3-9510-cfdf4ccddd77" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰<span style="border-bottom:0.05em solid"><strong>é™æ€å±€éƒ¨å˜é‡</strong></span>ï¼šåœ¨<strong>å‡½æ•°ä½“å†…éƒ¨</strong>ï¼Œ<code><strong>static</strong></code> å¯ç”¨äºå£°æ˜é™æ€å±€éƒ¨å˜é‡ã€‚è¿™ç§å˜é‡ä¸æ™®é€šå±€éƒ¨å˜é‡ä¸åŒï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–åä¼šä¿æŒå…¶å€¼ï¼Œ<strong>å³ä½¿åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä¹Ÿä¸ä¼šè¢«é”€æ¯</strong>ã€‚åœ¨ä¸‹ä¸€æ¬¡è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé™æ€å±€éƒ¨å˜é‡å°†<strong>ä¿æŒä¸Šä¸€æ¬¡è°ƒç”¨ç»“æŸæ—¶çš„å€¼</strong>ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="af77dca8-ee2a-4915-9150-874629f6af90" class="code"><code class="language-C++">#include &lt;iostream&gt;

void function() {
    static int count = 0; // é™æ€å±€éƒ¨å˜é‡
    count++;
    std::cout &lt;&lt; count &lt;&lt; std::endl;
}


int main() {
	function();  // è¾“å‡º1
	function();  // è¾“å‡º2
	function();  // è¾“å‡º3
}</code></pre></li></ul><ul id="888dd530-5f24-4382-a7be-d232d4b48bed" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰<span style="border-bottom:0.05em solid"><strong>é™æ€ç±»æˆå‘˜</strong></span>ï¼šåœ¨ç±»å®šä¹‰ä¸­ï¼Œ<code><strong>static</strong></code> å¯ç”¨äºå£°æ˜é™æ€æˆå‘˜å˜é‡æˆ–é™æ€æˆå‘˜å‡½æ•°ã€‚é™æ€æˆå‘˜å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„ä»»ä½•ç‰¹å®šå¯¹è±¡ã€‚è¿™æ„å‘³ç€æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«åŒä¸€ä¸ªé™æ€æˆå‘˜ï¼Œå¹¶ä¸”å³ä½¿æ²¡æœ‰åˆ›å»ºç±»çš„å®ä¾‹ï¼Œé™æ€æˆå‘˜ä¹Ÿå­˜åœ¨ã€‚<ul id="74dafedd-dc63-4786-baad-a7a00bc1c7a6" class="bulleted-list"><li style="list-style-type:square">ä¾‹å¦‚å¯¹äº<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å§‹ç»ˆä¸ä¼šå˜çš„æˆå‘˜å˜é‡ï¼Œå°±å¯ä»¥è€ƒè™‘ç”¨staticä¿®é¥°</strong></span></mark></li></ul></li></ul><ul id="4e3780cc-7edd-4052-af1a-128c64293fce" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>æ–‡ä»¶ä½œç”¨åŸŸé™æ€å…¨å±€å˜é‡æˆ–å‡½æ•°</strong></span><strong><strong>ï¼š</strong></strong>åœ¨å…¨å±€æˆ–å‘½åç©ºé—´ä½œç”¨åŸŸä¸­ï¼Œ<code><strong>static</strong></code> ç”¨äº<strong>é™åˆ¶å˜é‡æˆ–å‡½æ•°çš„å¯è§æ€§ä»…åœ¨å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶å†…</strong>ã€‚è¿™æ„å‘³ç€è¿™äº›å˜é‡æˆ–å‡½æ•°åœ¨å…¶ä»–æ–‡ä»¶ä¸­æ˜¯ä¸å¯è§çš„ï¼Œå³ä½¿åœ¨é“¾æ¥æ—¶ä¹Ÿä¸ä¼šä¸å…¶ä»–æ–‡ä»¶ä¸­çš„åŒåç¬¦å·å†²çªã€‚<ul id="370e56de-4a72-4ed3-b422-fde5d17054c8" class="bulleted-list"><li style="list-style-type:square">æ³¨æ„ï¼šæ˜¯åœ¨å…¨å±€æˆ–å‘½åç©ºé—´ä½œç”¨åŸŸä¸­è¿›è¡Œstaticä¿®é¥°</li></ul></li></ul></li></ul><ul id="075cda81-2433-41e7-b4ad-6d66509e6874" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>inline</code></strong></em>å…³é”®å­—ï¼šç”¨äºå»ºè®®ç¼–è¯‘å™¨å°†å‡½æ•°çš„ä»£ç åœ¨æ¯ä¸ªè°ƒç”¨ç‚¹å†…è”å±•å¼€ï¼Œè€Œä¸æ˜¯æ‰§è¡Œå¸¸è§„çš„å‡½æ•°è°ƒç”¨ã€‚<strong><em>inline</em></strong>ä¸»è¦ç”¨äºå°å‹å‡½æ•°ï¼Œç›®çš„æ˜¯å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚<br/>å°½ç®¡<br/><em><strong>inline</strong></em>æ˜¯ä¸€ä¸ªå»ºè®®ï¼Œä½†æœ€ç»ˆæ˜¯å¦å†…è”å–å†³äºç¼–è¯‘å™¨çš„å†³å®šã€‚ç°ä»£ç¼–è¯‘å™¨é€šå¸¸ä¼šè‡ªåŠ¨å†³å®šæ˜¯å¦å†…è”å‡½æ•°ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨äº†<em><strong>inline</strong></em>å…³é”®å­—ã€‚<br/>ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ˜ç¡®æ ‡è®°å‡½æ•°ä¸º<br/><strong><em>inline</em></strong>å¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨åšå‡ºæ›´ä¼˜çš„å†³ç­–ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4e2e03c9-95f8-4afe-9e9c-64d6b559530f" class="code"><code class="language-C++">inline int max(int a, int b) {
    return (a &gt; b) ? a : b;
}

int main() {
    int result = max(3, 5); // è¿™é‡Œmaxå‡½æ•°å¯èƒ½ä¼šè¢«å†…è”å±•å¼€
}</code></pre></li></ul><ul id="59eb955d-6fd5-45e1-a238-3d7e12a3d3c3" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>noexcept</code></strong></em>å…³é”®å­—ï¼šå¸¸ç”¨äºç±»çš„æˆå‘˜å‡½æ•°ä¸­ï¼Œç”¨äº<strong>æ˜ç¡®æŒ‡å‡ºä¸€ä¸ªå‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸</strong>ï¼Œæé«˜ä»£ç çš„å¯é˜…è¯»æ€§ï¼ŒåŒæ—¶ç¼–è¯‘å™¨ä¹Ÿä¼šæ ¹æ®è¿™ä¸ªå…³é”®å­—å¯¹ç¨‹åºè¿›è¡Œé€‚å½“ä¼˜åŒ–ã€‚ä½†<span style="border-bottom:0.05em solid"><strong>æ›´ä¸»è¦çš„ç›®çš„æ˜¯æ˜ç¡®åœ°å‘Šè¯‰userï¼Œè¿™ä¸ªå‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸<br/><br/></strong></span>âš ï¸ï¼š<em><code>noexcept</code></em>å¹¶ä¸ç¦æ­¢åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨<em><code>try-catch</code></em>ï¼Œå®ƒ<span style="border-bottom:0.05em solid"><strong>ä»…ä»…ä¿è¯å‡½æ•°å¯¹å¤–éƒ¨æ‰¿è¯ºä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœå†…éƒ¨æ•è·å¹¶å¤„ç†äº†æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‰¿è¯ºå°±å¾—åˆ°äº†æ»¡è¶³ã€‚<br/><br/></strong></span>âš ï¸ï¼šå¦‚æœä¸€ä¸ª<em><code>noexcept</code></em>æ ‡è®°çš„å‡½æ•°å‘ç”Ÿäº†åœ¨å†…éƒ¨æ²¡æœ‰è¢«æ•è·åˆ°çš„å¼‚å¸¸ï¼Œ<strong>å³ä½¿ç”¨æˆ·åœ¨è¿™ä¸ªå‡½æ•°çš„å¤–éƒ¨ä½¿ç”¨äº†</strong><strong><em><code>try</code></em></strong><strong><em>ï¼Œ</em></strong><strong>ç¨‹åºä¹Ÿä¼šç«‹åˆ»ç»ˆæ­¢</strong>ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç¼–è¯‘å™¨å¯ä»¥å¯¹å…¶ä½œå‡ºä¼˜åŒ–ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fa02f239-ab13-41d8-870c-386de9f6b5d4" class="code"><code class="language-C++">void myFunction() noexcept {
    // å‡½æ•°å®šä¹‰...
}

void myFunction() noexcept(someCondition) {
    // å‡½æ•°å®šä¹‰...
}</code></pre><ul id="532fee6f-7e8c-4edb-aa60-1a89667aac45" class="bulleted-list"><li style="list-style-type:circle">ç”¨æ³•1ï¼Œä½¿ç”¨ <code><strong>noexcept</strong></code> å…³é”®å­—è€Œä¸è·Ÿä»»ä½•æ¡ä»¶ï¼šæ„å‘³ç€è¯¥å‡½æ•°ä¿è¯ä¸æŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚å¦‚æœè¿™ä¸ªå‡½æ•°è¿åäº†è¿™ä¸ªæ‰¿è¯ºå¹¶æŠ›å‡ºäº†å¼‚å¸¸ï¼Œç¨‹åºå°†è°ƒç”¨ <code><strong>std::terminate()</strong></code>ï¼Œé€šå¸¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚ï¼ˆä¸ä¼šè§¦å‘ä»»ä½•catchå—ï¼‰</li></ul><ul id="c763d7f7-3738-42b3-9c29-100b14bab419" class="bulleted-list"><li style="list-style-type:circle">ç”¨æ³•2ï¼Œ<code><strong>noexcept</strong></code> åé¢è·Ÿä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼šå¦‚æœè¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™å‡½æ•°æ‰¿è¯ºä¸æŠ›å‡ºå¼‚å¸¸ï¼›å¦‚æœä¸ºå‡ï¼Œåˆ™å‡½æ•°å¯èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚</li></ul></li></ul><ul id="dd0db529-3378-47fb-9e7a-e48cab20615d" class="bulleted-list"><li style="list-style-type:disc"><strong><em><code>void</code></em></strong>å…³é”®å­—ï¼šåœ¨C++ä¸­ï¼Œ<code><strong>void</strong></code>å…³é”®å­—æœ‰ä»¥ä¸‹ä¸»è¦ç”¨é€”ï¼š<ol type="1" id="c8182d8d-cfad-41a4-8408-8d4532d14eb8" class="numbered-list" start="1"><li><strong>ä½œä¸ºå‡½æ•°è¿”å›ç±»å‹</strong>ï¼šå½“<code><strong>void</strong></code>ç”¨ä½œå‡½æ•°çš„è¿”å›ç±»å‹æ—¶ï¼Œå®ƒæŒ‡å®šè¯¥å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ã€‚è¿™æ˜¯æœ€å¸¸è§çš„ç”¨æ³•ä¹‹ä¸€ï¼Œç”¨äºé‚£äº›æ‰§è¡Œæ“ä½œä½†ä¸éœ€è¦è¿”å›å€¼çš„å‡½æ•°ã€‚</li></ol><ol type="1" id="864b8d04-42e9-4f79-b1d8-d062d5af08e7" class="numbered-list" start="2"><li><strong>ç”¨äºå‡½æ•°å‚æ•°åˆ—è¡¨</strong>ï¼šå½“<code><strong>void</strong></code>ç”¨äºå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸­ï¼Œå®ƒè¡¨æ˜è¯¥å‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c5bb0f2b-4c12-4ad8-9be9-324030101d45" class="code"><code class="language-C++">void doSomething(void) { // æ˜ç¡®è¡¨ç¤ºæ²¡æœ‰å‚æ•°ï¼Œä½†åœ¨C++ä¸­é€šå¸¸çœç•¥void
    // å‡½æ•°ä½“
}</code></pre></li></ol><ol type="1" id="2d4e6838-2875-4e81-8f5e-0c306db0c1cb" class="numbered-list" start="3"><li><strong>åœ¨æŒ‡é’ˆå£°æ˜ä¸­</strong>ï¼šåœ¨æŒ‡é’ˆå£°æ˜ä¸­ä½¿ç”¨<code><strong>void</strong></code>è¡¨æ˜è¯¥æŒ‡é’ˆæ˜¯ä¸€ä¸ªé€šç”¨æŒ‡é’ˆã€‚<code><strong>void</strong></code>æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œ<span style="border-bottom:0.05em solid"><strong>ä½†åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦è½¬æ¢ä¸ºå…·ä½“çš„ç±»å‹æŒ‡é’ˆã€‚</strong></span><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="41dea471-64be-41a8-bdfc-d7e2553d72d3" class="code"><code class="language-C++">void* ptr;
int x = 10;
ptr = &amp;x; // voidæŒ‡é’ˆå¯ä»¥æŒ‡å‘intç±»å‹

// ä½†æ˜¯ï¼ŒvoidæŒ‡é’ˆä¸èƒ½ç›´æ¥è§£å¼•ç”¨ï¼Œé™¤éå®ƒè¢«è½¬æ¢ä¸ºå…¶ä»–ç±»å‹çš„æŒ‡é’ˆã€‚
// voidæŒ‡é’ˆå¯ä»¥è½¬æ¢ä¸ºä»»ä½•å…¶ä»–ç±»å‹çš„æ•°æ®æŒ‡é’ˆã€‚</code></pre></li></ol><ol type="1" id="9f6d6868-85de-439f-b449-1b725d9aafeb" class="numbered-list" start="4"><li><strong>æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</strong>ï¼šè™½ç„¶<code><strong>void</strong></code>æŒ‡é’ˆå¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä½†å®ƒä¸èƒ½ç›´æ¥ç”¨æ¥æŒ‡å‘ç±»æˆå‘˜å‡½æ•°ã€‚åœ¨C++ä¸­ï¼ŒæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆéœ€è¦ç‰¹å®šçš„è¯­æ³•å’Œè€ƒè™‘ã€‚</li></ol><ol type="1" id="2e27d2a9-9161-4437-94f1-fce7aca78219" class="numbered-list" start="5"><li>ç”¨äºé¿å…ç¼–è¯‘å™¨å› ä¸ºå‡½æ•°å‚æ•°æœªè¢«ä½¿ç”¨è€Œå‘å‡ºçš„æœªä½¿ç”¨å˜é‡è­¦å‘Šã€‚å°†å˜é‡åæ”¾åœ¨<code>(void)</code>è¡¨è¾¾å¼ä¸­æ˜¯ä¸€ç§å¸¸è§çš„C++ï¼ˆä¹Ÿç”¨äºCï¼‰æŠ€å·§ï¼Œç”¨æ¥æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå˜é‡æ•…æ„æœªè¢«ä½¿ç”¨ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥é¿å…ç¼–è¯‘å™¨è­¦å‘Šå¹²æ‰°ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„æ¸…æ™°å’Œæ•´æ´ã€‚æ­¤å¤–ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§å‘ä»£ç é˜…è¯»è€…ä¼ è¾¾â€œè¿™ä¸ªå˜é‡æš‚æ—¶æœªè¢«ä½¿ç”¨ä½†å°†æ¥å¯èƒ½ä¼šç”¨åˆ°â€çš„æ–¹å¼ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c6d2fa2f-a41f-4394-ab06-1f15f273ec62" class="code"><code class="language-C++">void foo(const string&amp; arg1) {
    (void) arg1;
    throw std::invalid_argument(&quot;Not implemented yet.\n&quot;);
}</code></pre></li></ol></li></ul><ul id="e228477c-357e-45b5-b9ad-999bfaec51c2" class="bulleted-list"><li style="list-style-type:disc"><em><code><strong>decltype</strong></code></em>å…³é”®å­—ï¼šç”¨äºè·å–å˜é‡ã€å‡½æ•°æˆ–è¡¨è¾¾å¼çš„<span style="border-bottom:0.05em solid"><strong>ç±»å‹</strong></span>ã€‚å®ƒåœ¨ç¼–è¯‘æ—¶è®¡ç®—è¡¨è¾¾å¼çš„ç±»å‹ï¼Œè€Œä¸è¯„ä¼°è¡¨è¾¾å¼çš„å€¼ã€‚<span style="border-bottom:0.05em solid"><strong>å½“éœ€è¦æ ¹æ®è¡¨è¾¾å¼çš„ç±»å‹æ¥å£°æ˜å˜é‡æˆ–è€…å®ä¾‹åŒ–æ¨¡ç‰ˆæ—¶éå¸¸æœ‰ç”¨</strong></span>ã€‚ä»¥ä¸‹æ˜¯<code><strong>decltype</strong></code>çš„ä¸€äº›ä¸»è¦ç”¨é€”å’Œç¤ºä¾‹ï¼š<ul id="93ad21cb-f173-4bb2-a48e-a085120eee15" class="bulleted-list"><li style="list-style-type:circle"><strong><strong>è·å–å˜é‡çš„ç±»å‹</strong></strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5976aa29-d75b-4cb2-bd05-ff4084de6698" class="code"><code class="language-C++">auto a = 10;
decltype(a) b = 20; // bä¹Ÿæ˜¯intç±»å‹

std::vector&lt;int&gt; v;
decltype(v.begin()) it = v.begin(); // ä½¿ç”¨decltypeè‡ªåŠ¨ç¡®å®šè¿­ä»£å™¨ç±»å‹</code></pre></li></ul><ul id="4cac3817-9ff4-4c31-955b-c8b77fe37693" class="bulleted-list"><li style="list-style-type:circle"><strong><strong>ç”¨äºæ¨¡æ¿å’Œæ³›å‹ç¼–ç¨‹</strong></strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="82dd392d-1d87-4fda-a0bf-6e6f827777cd" class="code"><code class="language-C++">template&lt;typename T&gt;
auto add(T x, T y) -&gt; decltype(x + y) {
    return x + y;
}</code></pre></li></ul><ul id="fdbad332-b5c4-4aee-9a7f-65479ec9785a" class="bulleted-list"><li style="list-style-type:circle"><strong>ç»“åˆlambdaè¡¨è¾¾å¼</strong>ä½¿ç”¨ï¼šæœ‰äº›æ¨¡ç‰ˆéœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œè€Œé€šè¿‡decltypeå¯ä»¥å¾—åˆ°ä¸€ä¸ªå‡½æ•°çš„å”¯ä¸€ç±»å‹ï¼Œä»è€Œç”¨äºæ¨¡ç‰ˆçš„å®ä¾‹åŒ–ã€‚<blockquote id="5a91cf63-256f-4ebe-9c64-9e492446c1cd" class="block-color-gray_background"><strong>åœ¨C++ä¸­ï¼Œæ¯ä¸ªlambdaè¡¨è¾¾å¼éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç±»å‹ï¼Œå°½ç®¡æˆ‘ä»¬ä¸èƒ½ç›´æ¥å‘½åå®ƒ</strong>ã€‚</blockquote><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="23fc0be8-9b35-48ab-882e-ce935f2c97e8" class="code"><code class="language-C++">// Using lambda to compare elements.
auto cmp = [](int left, int right) { return (left ^ 1) &lt; (right ^ 1); };
std::priority_queue&lt;int, std::vector&lt;int&gt;, decltype(cmp)&gt; q5(cmp);</code></pre></li></ul></li></ul><div><ul id="d91ccd91-32e1-49b7-a741-24a561d7c636" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>this</code></strong></em><em><strong>æŒ‡é’ˆ</strong></em>ï¼šåœ¨å®šä¹‰C++ç±»çš„æˆå‘˜æ–¹æ³•æ—¶ï¼Œ<span style="border-bottom:0.05em solid"><strong>é»˜è®¤ä¼šä¼ å…¥ä¸€ä¸ªåå«</strong></span><code><strong>this</strong></code><strong>çš„</strong><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æŒ‡é’ˆ</strong></span></mark>ï¼ˆå¹¶ä¸éœ€è¦æ˜¾ç¤ºæŒ‡å‡ºï¼‰ï¼Œç”¨äº<strong>æŒ‡å‘å½“å‰çš„å¯¹è±¡</strong>ï¼ˆå°±åƒpythonä¸­çš„<code>self</code>ä¸€æ ·ï¼Œåªä¸è¿‡pythonä¸­æ˜¯æ˜¾å¼å®šä¹‰çš„ï¼‰ã€‚é€šè¿‡thisæŒ‡é’ˆï¼Œå¯ä»¥æ–¹é’ˆå½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°</li></ul></div><h3 id="f6121460-8118-44eb-8447-d97ccad6c148" class="block-color-blue_background">è¿­ä»£å™¨çš„value_types</h3><ul id="20b2eafd-fcbb-4194-92e0-8dfbb592e227" class="bulleted-list"><li style="list-style-type:disc"><code>std::iterator_traits&lt;it_type&gt;::value_types</code>ï¼šæä¾›äº†ä¸€ç§æ–¹æ³•å¯ä»¥<strong>ä»ä¸€ä¸ªè¿­ä»£å™¨ç±»å‹ä¸­æå–å‡ºå®ƒæ‰€æŒ‡å‘çš„å…ƒç´ ç±»å‹</strong>ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªç±»å‹åç§°ï¼ˆå› æ­¤é€šå¸¸ä¼šç”¨<code>typename</code>å¯¹è¿”å›çš„ç±»å‹åè¿›è¡Œä¿®é¥°ï¼Œç„¶åç”¨<code>using</code>ç»™å®ƒå–ä¸€ä¸ªç±»å‹åˆ«åï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b532f7ca-cacb-4bb1-89d1-978aae8fdff6" class="code"><code class="language-C++">//ä¾‹å¦‚ï¼š
using ElementType = typename std::iterator_traits&lt;int*&gt;::value_type;
// value_typeæ˜¯æ¨¡ç‰ˆç»“æ„ä½“iterator_traitsçš„ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…¶å®æ˜¯ä¸€ä¸ªtypedefå®šä¹‰çš„ç±»å‹ï¼‰</code></pre><ul id="8fb5d09f-3f7d-4643-a072-fc5b626e2976" class="bulleted-list"><li style="list-style-type:circle">å¸¸ç”¨äºå½“æŸä¸ªæ¨¡ç‰ˆç±»å‹æ˜¯ä¸€ä¸ªiteratorï¼Œè€Œåˆæƒ³çŸ¥é“è¿™ä¸ªiteratoræ‰€æŒ‡å‘çš„å…ƒç´ çš„ç±»å‹æ—¶<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3bd0d7ca-ac6c-4546-b76a-beb6294d54c2" class="code"><code class="language-C++">template&lt;typename it_type, typename val_type&gt;
class MyClass {
public:
    using ElementType = typename std::iterator_traits&lt;it_type&gt;::value_type;

    // ä½¿ç”¨ ElementType ä½œä¸ºå…ƒç´ ç±»å‹
    // ...
};</code></pre></li></ul><blockquote id="c3aae093-8943-429c-821e-fb02e95fbb16" class="block-color-gray_background">æ¯ä¸€ä¸ªå®¹å™¨ç±»ï¼ˆå¦‚<code>vector</code>ç­‰ï¼‰é‡Œé¢éƒ½å®šä¹‰äº†ä¸€ä¸ªåå«<strong><code>value_type</code></strong>çš„ç±»å‹åˆ«åï¼Œè¿™ä¸ªç±»å‹åˆ«åæŒ‡ç¤ºäº†è¿™ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ çš„æ•°æ®ç±»å‹ï¼›<br/>æ¯ä¸€ä¸ªå¯è¿­ä»£å®¹å™¨ç±»é‡Œé¢ä¹Ÿéƒ½å®šä¹‰äº†ä¸€ä¸ªåå«<br/><strong><code>iterator</code></strong>çš„ç±»å‹åˆ«åï¼ŒæŒ‡ç¤ºäº†è¿™ä¸ªå®¹å™¨ç”¨çš„è¿­ä»£å™¨çš„æ•°æ®ç±»å‹ã€‚</blockquote></li></ul><h3 id="c4a44104-b34d-4ad8-a9c0-18c95acdb354" class="block-color-blue_background">å‡½æ•°æŒ‡é’ˆï¼š<strong>std::function&lt;è¿”å›ç±»å‹(å‚æ•°ç±»å‹)&gt;</strong></h3><ul id="f64a6f7d-bd28-4a4b-8acf-4128af89ddb7" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>å‡½æ•°æŒ‡é’ˆ</strong></span>ï¼šC++11ä¸­å¼•å…¥äº†<strong><code>std::function&lt;è¿”å›ç±»å‹(å‚æ•°ç±»å‹)&gt;</code></strong>ç±»å‹æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ˆéœ€è¦<strong><code>#include &lt;functional&gt;</code></strong>ï¼‰<ul id="c08a1b18-e25b-4bf6-b717-2cec0f189adf" class="bulleted-list"><li style="list-style-type:circle">case1<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="da983f3c-1262-4943-b602-834c379df3b8" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;functional&gt;

int add(int a, int b) {
    return a + b;
}

double multiply(double a, double b) {
    return a * b;
}

void performOperation(int a, int b, const std::function&lt;int(int, int)&gt;&amp; operation) {
    std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; operation(a, b) &lt;&lt; std::endl;
}

int main() {
    // ä½¿ç”¨ std::function å­˜å‚¨æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ
    std::function&lt;int(int, int)&gt; func1 = add;

    std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; func1(10, 20) &lt;&lt; std::endl;
		performOperation(5, 7, add);
		
		
    return 0;
}</code></pre></li></ul></li></ul><h3 id="df4cdb1b-86f4-45c4-83a8-dd0827f2b6f1" class="block-color-blue_background">è°“è¯å‡½æ•°</h3><ul id="d85bee61-eb9d-4788-93de-8fddf3890e2f" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>è°“è¯å‡½æ•°</strong></span>ï¼ˆPredicate functionï¼‰ï¼šè¿™ç§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆ<code><strong>true</strong></code> æˆ– <code><strong>false</strong></code>ï¼‰ï¼Œç”¨äºè¡¨ç¤ºæŸä¸ªæ¡ä»¶æ˜¯å¦è¢«æ»¡è¶³ã€‚è°“è¯å‡½æ•°é€šå¸¸ç”¨ä½œç®—æ³•çš„å‚æ•°ï¼Œå°¤å…¶æ˜¯åœ¨æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰çš„ç®—æ³•ä¸­ï¼Œå¦‚æ’åºã€æœç´¢ã€æ£€æŸ¥ç­‰æ“ä½œã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9b9880e8-f333-47b4-bdb0-5e46c5068949" class="code"><code class="language-C++">// ä½œä¸ºå‡½æ•°æŒ‡é’ˆ
bool isEven(int x) {
    return x % 2 == 0;
}

// ä½œä¸ºlambdaè¡¨è¾¾å¼
auto isPositive = [](int x) { return x &gt; 0; };</code></pre></li></ul><h3 id="2c7dafcc-9f3b-4857-9cae-19298a0b4cff" class="block-color-blue_background">C++17ï¼šifè¯­å¥ä¸­å…è®¸åŠ å…¥åˆå§‹åŒ–è¯­å¥</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f68e8e39-0272-48cd-a519-43a8c8cfa85c" class="code"><code class="language-C++">std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
if (auto it = std::ranges::find(v, 3); it != v.end()) {
    std::cout &lt;&lt; &quot;Found: &quot; &lt;&lt; *it &lt;&lt; &quot;\n&quot;;
}</code></pre><h2 id="d828a842-7413-4b24-b3b7-045e55f9ca74" class="block-color-orange_background">å·¦å€¼l-valueã€å³å€¼r-valueï¼ˆä¸´æ—¶å˜é‡ï¼‰</h2><ul id="6ce67e0d-8757-4ec0-a049-56199556635d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å·¦å€¼l-valueä¸å³å€¼r-value</strong></span></mark><figure id="ce7cd776-3c70-4f88-955c-36da1561e70b" class="image" style="text-align:left"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_22.53.44.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_22.53.44.png"/></a><figcaption>L-values live until the end of the scope<br/>R-values live until <br/><span style="border-bottom:0.05em solid"><strong>the end of the line<br/><br/></strong></span>å·¦å€¼æ˜¯æŒ‡é‚£äº›å…·æœ‰æŒä¹…çŠ¶æ€çš„å¯¹è±¡æˆ–è€…å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼<br/>å³å€¼æ˜¯æŒ‡é‚£äº›ä¸å…·æœ‰æŒä¹…çŠ¶æ€çš„ä¸´æ—¶å¯¹è±¡æˆ–è€…ä¸å¯ä»¥å–åœ°å€çš„è¡¨è¾¾å¼ï¼Œä¾‹å¦‚å­—é¢é‡ã€ä¸´æ—¶å¯¹è±¡ã€è¿”å›éå¼•ç”¨ç±»å‹çš„å‡½æ•°è°ƒç”¨ç»“æœç­‰ã€‚<br/></figcaption></figure><ul id="4715ea18-46b6-4e0b-9a26-737948edf949" class="bulleted-list"><li style="list-style-type:circle">å·¦å€¼èƒ½æ”¾åœ¨ç­‰å¼<span style="border-bottom:0.05em solid"><strong>å·¦è¾¹å’Œå³è¾¹</strong></span>ï¼›å³å€¼åªèƒ½æ”¾åœ¨ç­‰å¼<span style="border-bottom:0.05em solid"><strong>å³è¾¹</strong></span><figure id="73357b99-9bee-4a3d-ad58-c74643b45d3d" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_22.57.15.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_22.57.15.png"/></a></figure></li></ul><ul id="2370679c-870a-4405-8238-c059852a116d" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥ï¼Œåœ¨å‡½æ•°å£°æ˜ä¸­ï¼Œ<span style="border-bottom:0.05em solid"><strong>è¢«&amp;ä¿®é¥°çš„å‚æ•°/è¿”å›å€¼ä¹Ÿè¢«ç§°ä¸º</strong></span><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å·¦å€¼å¼•ç”¨</strong></span></mark>ï¼Œå› ä¸ºå®å‚/è¿”å›å€¼å¿…é¡»æ˜¯å·¦å€¼<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1df6a946-cf1f-4ddb-a6be-1614a71b3b4d" class="code"><code class="language-C++">void foo(int&amp; x) {
    // ...
}

int a = 10;
foo(a); // æ­£ç¡®ï¼šaæ˜¯å·¦å€¼
// foo(5); // é”™è¯¯ï¼š5æ˜¯å³å€¼ï¼Œä¸èƒ½ä¼ é€’ç»™å·¦å€¼å¼•ç”¨</code></pre></li></ul><ul id="fb3b50e5-6a92-4dc1-8e32-c76640c9c8c9" class="bulleted-list"><li style="list-style-type:circle">åŒç†ï¼Œ<span style="border-bottom:0.05em solid"><strong>è¢«&amp;&amp;ä¿®é¥°çš„å‚æ•°ä¹Ÿè¢«ç§°ä¸º</strong></span><span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>å³å€¼å¼•ç”¨</strong></mark></span>ï¼Œå› ä¸ºå®ƒä»¬ä¼ å…¥çš„å®å‚/è¿”å›å€¼å¿…é¡»æ˜¯å³å€¼<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="43fcfe00-b441-446e-b4b7-877eca79101d" class="code"><code class="language-C++">void bar(int&amp;&amp; x) {
    // ...
}

bar(5); // æ­£ç¡®ï¼š5æ˜¯å³å€¼ï¼Œå¯ä»¥ä¼ é€’ç»™å³å€¼å¼•ç”¨
// int b = 10;
// bar(b); // é”™è¯¯ï¼šbæ˜¯å·¦å€¼ï¼Œä¸èƒ½ä¼ é€’ç»™å³å€¼å¼•ç”¨</code></pre></li></ul></li></ul><ul id="33aa8d36-c6bb-4307-80bf-7e97dbc6e48a" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>ä¸´æ—¶å˜é‡ï¼ˆå³å€¼ï¼ŒR-valueï¼‰</strong></span>ï¼šåœ¨C++ä¸­ï¼Œä¸´æ—¶å¯¹è±¡é€šå¸¸æ˜¯æŒ‡é‚£äº›æ²¡æœ‰æ˜ç¡®åç§°çš„å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡æ˜¯åœ¨è¡¨è¾¾å¼æ±‚å€¼çš„è¿‡ç¨‹ä¸­åˆ›å»ºçš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸé€šå¸¸å¾ˆçŸ­ï¼Œä¸€èˆ¬åœ¨è¡¨è¾¾å¼ç»“æŸæ—¶å°±é”€æ¯ã€‚ä¸ä¹‹å¯¹åº”çš„æ˜¯<span style="border-bottom:0.05em solid"><strong>å·¦å€¼</strong></span>ï¼ˆ<strong>L-value</strong>ï¼‰ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæŒä¹…çš„ã€æœ‰æ˜ç¡®å­˜å‚¨ä½ç½®çš„å¯¹è±¡ã€‚</li></ul><ul id="b40a15cd-363b-4997-b450-08bef49c7d99" class="bulleted-list"><li style="list-style-type:disc">å³å€¼çš„ä¸€äº›ä¾‹å­ï¼š<ul id="576b3221-0397-4245-8aca-488a10b3821d" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>å­—é¢å€¼å’Œä¸´æ—¶å¯¹è±¡</strong></span>ï¼šä¾‹å¦‚ï¼Œ<code><strong>5</strong></code>ã€<code><strong>3.14</strong></code>æˆ–<code><strong>std::string(&quot;hello&quot;)</strong></code>éƒ½æ˜¯å³å€¼ã€‚è¿™äº›éƒ½æ˜¯ä¸´æ—¶å€¼ï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚</li></ul><ul id="8ea554a3-deb0-4e5f-937b-c1c448a9de02" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>è¿”å›éå¼•ç”¨ç±»å‹çš„å‡½æ•°è°ƒç”¨</strong></span>ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªéå¼•ç”¨ç±»å‹ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æœæ˜¯ä¸€ä¸ªå³å€¼ã€‚ä¾‹å¦‚ï¼Œ<code><strong>std::string()</strong></code>è¿”å›ä¸€ä¸ªä¸´æ—¶çš„<code><strong>std::string</strong></code>å¯¹è±¡ã€‚</li></ul><ul id="93cc041d-e422-4060-b028-cce8a4dd581b" class="bulleted-list"><li style="list-style-type:circle"><strong>ä¸èƒ½å–åœ°å€çš„è¡¨è¾¾å¼</strong>ï¼šå¦‚æœæ— æ³•å¯¹è¡¨è¾¾å¼å–åœ°å€ï¼Œåˆ™è¯¥è¡¨è¾¾å¼å¯èƒ½æ˜¯å³å€¼ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½å¯¹å­—é¢å€¼æˆ–ä¸´æ—¶å¯¹è±¡å–åœ°å€ã€‚</li></ul><ul id="7c10905d-8b0a-479a-a8d4-8b3699b9b971" class="bulleted-list"><li style="list-style-type:circle"><strong>èµ‹å€¼å’Œæ ‡è¯†ç¬¦</strong>ï¼šé€šå¸¸ï¼Œå·¦å€¼ï¼ˆlvalueï¼‰å¯ä»¥å‡ºç°åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ï¼Œè€Œå³å€¼ä¸èƒ½ã€‚ä»»ä½•å…·æœ‰æ ‡è¯†ç¬¦çš„è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚å˜é‡åï¼‰é€šå¸¸æ˜¯å·¦å€¼ã€‚</li></ul></li></ul><ul id="bceaa53e-966c-4d12-a4eb-2f0c3654869a" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++ä¸­ï¼Œé€šè¿‡<strong><code>&amp;&amp;</code></strong>å…³é”®å­—å¯ä»¥ä¿®é¥°ä¸€ä¸ªå³å€¼ï¼Œä¾‹å¦‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8c6f9be9-f7d9-49a5-8f99-726fcb116e1a" class="code"><code class="language-C++">void myFunction(int&amp;&amp; num) {
    // ...
}</code></pre><ul id="bba40345-67db-4632-96a9-dd46fcd392b0" class="bulleted-list"><li style="list-style-type:circle">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code><strong>int&amp;&amp; num</strong></code>æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨å‚æ•°ã€‚å®ƒåªèƒ½ç»‘å®šåˆ°å³å€¼ä¸Šã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å°†ä¸€ä¸ªå·¦å€¼ä¼ é€’ç»™<code><strong>myFunction</strong></code>ï¼Œä½†å¯ä»¥ä¼ é€’ä¸€ä¸ªä¸´æ—¶å€¼æˆ–è¿”å›å€¼ã€‚</li></ul></li></ul><ul id="ccae6394-9b0a-43c7-8ce5-462409e40150" class="bulleted-list"><li style="list-style-type:disc"><strong>å½“è¦æŠŠä¸€ä¸ªå³å€¼å¤åˆ¶ç»™å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œcopy by valueæ˜¯ä¸€ç§éå¸¸æ…¢çš„åšæ³•</strong>ï¼ˆå°¤å…¶æ˜¯å½“è¿™ä¸ªå³å€¼éå¸¸å¤§çš„æ—¶å€™ï¼‰ã€‚<br/>ç”±äºå³å€¼æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å€¼ï¼Œåœ¨ä¹‹åå°±ä¸å†ä¼šè¢«ä½¿ç”¨ï¼Œ<br/><strong>å½“è¢«å¤åˆ¶çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå³å€¼æ—¶ï¼Œæ›´å¥½çš„åšæ³•æ˜¯ç›´æ¥æ¥ç®¡å³å€¼å¯¹è±¡å¯¹åº”çš„æŒ‡é’ˆ</strong>ï¼ˆå³ï¼šå°†æ–°å¯¹è±¡çš„æŒ‡é’ˆè®¾ç½®ä¸ºè¿™ä¸ªå³å€¼ï¼Œç„¶åå°†å³å€¼çš„æŒ‡é’ˆç½®nullï¼Œè€Œä¸æ˜¯æ‹·è´å®ƒçš„å€¼ï¼‰ï¼Œè¿™æ ·å¯ä»¥é¿å…é¢å¤–çš„å¤åˆ¶å¸¦æ¥çš„å¼€é”€ã€‚</li></ul><ul id="9bc323dc-c7af-4eeb-a918-c1f5a91ffadf" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++11ä¸­å¼•å…¥äº†<span style="border-bottom:0.05em solid"><strong>ç§»åŠ¨è¯­ä¹‰</strong></span>ï¼Œå½“<code>=</code>å³ä¾§æ˜¯ä¸€ä¸ªå³å€¼æ—¶ï¼Œå°±ä¼šè§¦å‘<span style="border-bottom:0.05em solid"><strong>ç§»åŠ¨è¯­ä¹‰</strong></span>ï¼Œè°ƒç”¨å·¦å€¼å¯¹åº”çš„<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°ï¼ˆæˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼‰</a><blockquote id="b9642366-a4b0-44d8-b4c8-d8af181fe747" class="block-color-gray_background">æ‹·è´æ„é€ å‡½æ•°æˆ–èµ‹å€¼è¿ç®—ç¬¦ï¼Œç›¸è¾ƒäºå®ƒä»¬çš„ç§»åŠ¨è¯­ä¹‰ç‰ˆæœ¬ï¼ˆå³å³å€¼ä¼ å…¥ï¼‰ï¼Œå¤šäº†ç”³è¯·å†…å­˜ï¼Œcopy by valueä¸¤ä¸ªæ“ä½œï¼Œå½“è¿™ä¸ªèµ„æºå¾ˆå¤§æ—¶ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ—¶é—´å¼€é”€éƒ½éå¸¸å¤§ã€‚</blockquote></li></ul><ul id="6945a936-88cd-4060-9e88-f595242fe66b" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::move</strong></code>ï¼š<code><strong>std::move</strong></code>å¯ä»¥å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå³å€¼<ul id="8e52cad3-5e9a-478a-aa8a-14085947391b" class="bulleted-list"><li style="list-style-type:circle">å½“ä½ è°ƒç”¨ <code><strong>std::move</strong></code> æ—¶ï¼Œä½ å®é™…ä¸Šæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œå³ä½¿è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œæˆ‘ä¹ŸçŸ¥é“<strong>å®ƒæ¥ä¸‹æ¥ä¸ä¼šå†è¢«ä½¿ç”¨</strong>ï¼Œæ‰€ä»¥ä½ <strong>å¯ä»¥æŠŠå®ƒå½“ä½œå³å€¼æ¥å¤„ç†</strong>ã€‚â€œ è¿™<strong>å…è®¸ç¼–è¯‘å™¨ä½¿ç”¨ç§»åŠ¨è¯­ä¹‰</strong>ï¼Œè€Œä¸æ˜¯<strong>å¤åˆ¶è¯­ä¹‰</strong>ï¼Œæ¥æ“ä½œè¯¥å¯¹è±¡ã€‚</li></ul><ul id="81e32d6f-2558-4e3f-b7f9-ca8d64ada5b2" class="bulleted-list"><li style="list-style-type:circle">You should use this <em><span style="border-bottom:0.05em solid"><strong>when youâ€™re assigning some l-value that is no longer needed</strong></span></em> where it is previously stored</li></ul><ul id="deb87f1e-3e59-4c37-b2ba-e0488e87fa37" class="bulleted-list"><li style="list-style-type:circle">avoid using std::move() in application code. <strong><em><span style="border-bottom:0.05em solid">Use it in class definitions, like constructors and operators.</span></em></strong><figure id="acb670d8-9370-40de-be83-76d3a1d4ae64" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-20_13.06.21.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-20_13.06.21.png"/></a></figure></li></ul></li></ul><ul id="2948c5bd-8019-48f8-a574-34ba4d29367a" class="bulleted-list"><li style="list-style-type:disc"><code><strong>decltype</strong></code><strong>å’Œ</strong><code><strong>std::is_rvalue_reference</strong></code>ï¼šåœ¨C++11åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç”¨<code><strong>decltype</strong></code>æ¥è·å–è¡¨è¾¾å¼çš„ç±»å‹ï¼Œå¹¶ç»“åˆ<code><strong>std::is_rvalue_reference</strong></code>æ¥åˆ¤æ–­æ˜¯å¦ä¸ºå³å€¼å¼•ç”¨ã€‚</li></ul><ul id="85eb72db-106e-458c-878b-67304e43939b" class="bulleted-list"><li style="list-style-type:disc"><strong>ä¸€ä¸ªcase</strong>ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4ff12439-b280-463e-869e-85862d3d06dd" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt; // for std::move

int main() {
    std::vector&lt;int&gt; vec1 = {1, 2, 3, 4, 5}; 
		// åˆå§‹å‘é‡{1, 2, 3, 4, 5}æ˜¯å³å€¼ï¼Œvec1æ˜¯å·¦å€¼


    std::vector&lt;int&gt; vec2 = std::move(vec1);
		// é€šè¿‡moveå°†vec1è½¬åŒ–ä¸ºå³å€¼ï¼Œä»è€Œè§¦å‘vec2çš„ç§»åŠ¨è¯­ä¹‰ï¼Œè¿›è€Œè°ƒç”¨vec2çš„ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°
		// é€šå¸¸è¿™ä¸ªç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°å°±æ˜¯å°†vec2çš„æŒ‡é’ˆå¤åˆ¶ä¸ºvec1ï¼Œå°†vec1çš„æŒ‡é’ˆç½®ä¸ºnullptr
    // ï¼ˆå› ä¸ºvec1æ˜¯ä¸€ä¸ªå³å€¼ï¼Œä¹‹åä¸ä¼šè¢«ç”¨åˆ°ï¼Œæ‰€ä»¥è¦æŠŠvec1çš„æŒ‡é’ˆç½®nullï¼‰
    // å› æ­¤ä¸ä¼šå‘ç”Ÿå®é™…çš„å¤åˆ¶ï¼Œåªæ˜¯è½¬ç§»äº†èµ„æºçš„â€œæ‰€æœ‰æƒâ€

    std::cout &lt;&lt; &quot;vec1 size: &quot; &lt;&lt; vec1.size() &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;vec2 size: &quot; &lt;&lt; vec2.size() &lt;&lt; std::endl;
    return 0;
}</code></pre><ul id="00e5eced-b861-4f56-a269-a71dc7010bfc" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœä¸é€šè¿‡<code>move</code>å°†<code>vec1</code>è½¬åŒ–ä¸ºä¸€ä¸ªå³å€¼ï¼Œé‚£ä¹ˆ<code>std::vector&lt;int&gt; vec2=vec1</code>ä¼šè§¦å‘<code>vec2</code>çš„<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">æ‹·è´æ„é€ å‡½æ•°</a>ï¼Œå…ˆä¸º<code>vec2</code>åˆ†é…å†…å­˜ï¼Œå†å°†<code>vec1</code>çš„å†…å®¹ä»å®ƒçš„å†…å­˜ä¸­å¤åˆ¶åˆ°<code>vec2</code>çš„å†…å­˜é‡Œï¼ˆä½†å®é™…ä¸Š<code>vec1</code>åœ¨ä¹‹åä¸å†è¢«ä½¿ç”¨ï¼Œæ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•åº”è¯¥æ˜¯ç›´æ¥æŠŠ<code>vec2</code>çš„æŒ‡é’ˆç½®ä¸º<code>vec1</code>çš„æŒ‡é’ˆï¼Œç„¶å<code>vec1</code>ç½®ä¸ºnullï¼‰ã€‚<br/>åœ¨è¿™ç§æ–¹å¼ä¸‹å‘ç”Ÿäº†<br/><strong>1æ¬¡å†…å­˜åˆ†é…</strong>ï¼Œ<strong>1æ¬¡å¤åˆ¶æ“ä½œ</strong>ã€‚<p id="11ffd029-9f27-4fcb-a987-fd4620f2c2da" class="">æ‰€ä»¥å¦‚æœé€šè¿‡<code>move</code>å°†<code>vec1</code>è½¬åŒ–ä¸ºä¸€ä¸ªå³å€¼ï¼ˆæ˜¾å¼åœ°å‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯ä¸€ä¸ªå³å€¼ï¼‰ï¼Œé‚£ä¹ˆ<code>std::vector&lt;int&gt; vec2=vec1</code>å°±æ˜¯ä¸€ä¸ªç§»åŠ¨è¯­ä¹‰ï¼Œä»è€Œè§¦å‘<code>vec2</code>çš„<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°</a>ã€‚ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°åªä¼šå°†<code>vec2</code>çš„æŒ‡é’ˆæŒ‡å‘<code>vec1</code>ï¼Œç„¶åå°†<code>vec1</code>çš„æŒ‡é’ˆç½®<code>null</code>ï¼ˆå› ä¸º<code>vec1</code>åœ¨ä¹‹åä¸å†è¢«ä½¿ç”¨åˆ°ï¼‰ã€‚åœ¨è¿™ç§æ–¹å¼ä¸‹å‘ç”Ÿäº†<strong>0æ¬¡å†…å­˜åˆ†é…</strong>ï¼Œ<strong>0æ¬¡å¤åˆ¶æ“ä½œ</strong>ã€‚</p></li></ul></li></ul><ul id="f5ece721-01cb-4dbe-8ca5-bce452d71acb" class="bulleted-list"><li style="list-style-type:disc">ç†è§£å³å€¼é€šå¸¸å¯¹äºæ·±å…¥ç†è§£C++çš„å†…å­˜ç®¡ç†å’Œä¼˜åŒ–éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</li></ul><h2 id="21aacca8-f44a-493a-bc63-16c0750f2a82" class="block-color-orange_background">constå…³é”®å­—</h2><h3 id="a353f27f-0018-4e53-ae2d-6208dd7dbfa6" class="block-color-blue_background">constçš„åŸºæœ¬ç”¨æ³•ã€</h3><ul id="c87fc039-e3db-4a18-acc0-5a980acfb957" class="bulleted-list"><li style="list-style-type:disc"><code>const</code>ä¿®é¥°ä¸€ä¸ªå˜é‡æ—¶è¡¨ç¤ºè¿™ä¸ªå˜é‡ä¸å…è®¸è¢«æ”¹å˜</li></ul><ul id="3ce30579-2175-4b0a-b514-8778f68799a1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong><code>const</code></strong></mark><mark class="highlight-red"><strong>ä¿®é¥°æŒ‡é’ˆæ—¶</strong></mark>ï¼š<ul id="0abd22c0-c132-40bd-b335-77d019c54e42" class="bulleted-list"><li style="list-style-type:circle"><code>const int* ptr</code>ï¼šptr<strong>æŒ‡å‘çš„å†…å®¹ä¸å¯ä¿®æ”¹</strong>ï¼Œä½†æ˜¯ptr<strong>æœ¬èº«å¯ä»¥ä¿®æ”¹</strong><ul id="da0c709b-25cc-4138-a58d-934d3e712df3" class="bulleted-list"><li style="list-style-type:square">å³ptræ˜¯ä¸€ä¸ª<mark class="highlight-purple"><strong>æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ</strong></mark>ï¼ˆæŒ‡å‘ä¸€ä¸ªconst intï¼‰</li></ul></li></ul><ul id="b4e8f9c7-c18b-4c3f-9034-cd48a42b0c7e" class="bulleted-list"><li style="list-style-type:circle"><code>int* const ptr</code>ï¼šptræœ¬èº«ä¸å¯ä»¥ä¿®æ”¹ï¼ŒæŒ‡å‘çš„å†…å®¹å¯ä»¥ä¿®æ”¹<ul id="a7e2f5fa-c5ab-4b28-abb2-e5cc69dc8d73" class="bulleted-list"><li style="list-style-type:square">æ­¤æ—¶ptrå°±æ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡çš„å¸¸é‡æŒ‡é’ˆ</li></ul></li></ul><ul id="ef85a483-cea0-4594-b56f-446c11da8310" class="bulleted-list"><li style="list-style-type:circle"><code>const int* const ptr</code>ï¼šéƒ½ä¸å¯ä»¥ä¿®æ”¹<ul id="c9df972d-405e-4fde-946d-84a43dfa46da" class="bulleted-list"><li style="list-style-type:square">æ­¤æ—¶ptræ˜¯ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ</li></ul></li></ul></li></ul><ul id="7387c266-39f7-4c56-991e-feb743a21e8e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-default">é€šå¸¸</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-red">constéƒ½æ˜¯æ­é…å¼•ç”¨&amp;æ¥ä¸€èµ·ä½¿ç”¨</mark></strong></span><mark class="highlight-default">ï¼Œæ„æˆ</mark><span style="border-bottom:0.05em solid"><mark class="highlight-red"><strong>å¸¸é‡å¼•ç”¨</strong></mark></span></li></ul><ul id="5ce99ce1-5339-473f-8b6a-05c2a8f734b4" class="bulleted-list"><li style="list-style-type:disc">éconstå˜é‡å¯ä»¥éšå¼åœ°è½¬åŒ–ä¸ºconstå˜é‡ï¼Œ<strong>ä½†æ˜¯constå˜é‡ä¸èƒ½è¢«è½¬åŒ–ä¸ºéconstå˜é‡</strong></li></ul><h3 id="3b443e0d-17d6-474d-8db8-3bd6e91138b1" class="block-color-blue_background">å¸¸é‡å¼•ç”¨const  + &amp; ï¼šä½¿ç”¨å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°å‚æ•°å’Œè¿”å›å€¼</h3><ul id="ecb0dce3-16ff-44de-9512-207a5d9be49c" class="bulleted-list"><li style="list-style-type:disc"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å¼•ç”¨&amp;çš„ç”¨æ³•</a></li></ul><ul id="4491705a-5bc7-41a7-b38e-32a8fd401f39" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°å‚æ•°</strong></span></mark>ï¼šåœ¨å‡½æ•°ä¸­ä½¿ç”¨<code>const</code>åŠ ä¸Š<code>&amp;</code>ï¼ˆconst+&amp;ä¹Ÿå«åš<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¸¸é‡å¼•ç”¨</strong></span></mark>ï¼‰æ¥ä¿®é¥°ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ<span style="border-bottom:0.05em solid"><strong>è¡¨ç¤ºä¼ å‚æ—¶ä¸ä¼šè¿›è¡Œcopyï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†è¢«è°ƒç”¨å‡½æ•°ä¸ä¼šå¯¹è¿™ä¸ªå¼•ç”¨è¿›è¡Œä¿®æ”¹<br/><br/></strong></span>ï¼ˆè¿™æ˜¯ä¸€ä¸ª<strong>good practice</strong>ï¼‰<ul id="29a5704a-ce45-41dc-ace0-a529b972ee44" class="bulleted-list"><li style="list-style-type:circle">å› æ­¤ä½¿ç”¨å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°å‚æ•°æ—¶ï¼Œå…è®¸ä¼ å…¥çš„å‚æ•°ç›´æ¥æ˜¯ä¸€ä¸ªå¸¸é‡ï¼ˆæ¯”å¦‚â€œxxxxâ€ï¼‰</li></ul><ul id="9753f5bc-ad30-4c21-9743-a0d73bef89d4" class="bulleted-list"><li style="list-style-type:circle">å¸¸é‡å¼•ç”¨åœ¨C++ä¸­<strong>ç”¨çš„éå¸¸å¤š</strong>ï¼ˆå› ä¸ºæ€§èƒ½æ¯”è¾ƒå¥½ï¼‰</li></ul></li></ul><ul id="87c2290a-7bbf-417f-a937-9f84df775c4a" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°è¿”å›å€¼</strong></span></mark>ï¼šå½“å‡½æ•°çš„è¿”å›å€¼æ˜¯éå¼•ç”¨æ—¶ï¼ˆä¹Ÿå°±æ˜¯ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å˜é‡ï¼‰ï¼Œæ­¤æ—¶åŠ constä¿®é¥°å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼ˆå› ä¸ºè¿”å›çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å‰¯æœ¬ï¼Œè¿™ä¸ªå‰¯æœ¬åœ¨å‡½æ•°è¿”å›åå°±æˆä¸ºäº†è°ƒç”¨è€…çš„è´¢äº§ã€‚è°ƒç”¨è€…å¯ä»¥è‡ªç”±åœ°å†³å®šå¦‚ä½•ä½¿ç”¨è¿™ä¸ªå‰¯æœ¬ï¼ŒåŒ…æ‹¬ä¿®æ”¹å®ƒã€‚å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code><strong>const</strong></code> å¹¶ä¸ä¼šå¯¹è°ƒç”¨è€…äº§ç”Ÿä»»ä½•å®é™…çš„çº¦æŸï¼‰<ul id="2bcbc3e6-55cd-4790-81ed-b4c11a855471" class="bulleted-list"><li style="list-style-type:circle">å› æ­¤ä½¿ç”¨å¸¸é‡å¼•ç”¨æ¥ä¿®é¥°å‡½æ•°è¿”å›å€¼åï¼Œ<span style="border-bottom:0.05em solid"><strong>å³ä¸ä¼šå‘ç”Ÿè¿”å›å€¼çš„copyï¼ŒåŒæ—¶ä¹Ÿè¦æ±‚è°ƒç”¨è€…ä¸ä¼šå¯¹è¿™ä¸ªå¼•ç”¨è¿›è¡Œä¿®æ”¹</strong></span></li></ul><ul id="ac2d8856-28e6-46d9-9b50-c557afb51af8" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨å¸¸é‡å¼•ç”¨ä¿®é¥°å‡½æ•°è¿”å›å€¼åï¼Œä¸éœ€è¦åœ¨å‡½æ•°çš„returnåé¢å†ç”¨constè¿›è¡Œä¿®é¥°</li></ul></li></ul><h3 id="3c87c0cf-469e-4de4-849e-1ed1574c9233" class="block-color-blue_background">conståªæœ‰ä¿®é¥°å¼•ç”¨(å¸¸é‡å¼•ç”¨)å’ŒæŒ‡é’ˆ(æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ)æ‰æœ‰æ„ä¹‰</h3><ul id="d8229ce4-7dc5-48b9-bfb0-c6eb6ed071dd" class="bulleted-list"><li style="list-style-type:disc">å‡å¦‚å‚æ•°æˆ–è€…è¿”å›å€¼æ˜¯<strong>æŒ‰å€¼ä¼ é€’çš„</strong>ï¼Œæ­¤æ—¶ç”¨constä¿®é¥°ä¹Ÿæ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºè¿”å›çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å‰¯æœ¬ï¼Œè¿™ä¸ªå‰¯æœ¬åœ¨å‡½æ•°è¿”å›åå°±æˆä¸ºäº†è°ƒç”¨è€…çš„è´¢äº§ã€‚è°ƒç”¨è€…å¯ä»¥è‡ªç”±åœ°å†³å®šå¦‚ä½•ä½¿ç”¨è¿™ä¸ªå‰¯æœ¬ï¼ŒåŒ…æ‹¬ä¿®æ”¹å®ƒã€‚å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code><strong>const</strong></code> å¹¶ä¸ä¼šå¯¹è°ƒç”¨è€…äº§ç”Ÿä»»ä½•å®é™…çš„çº¦æŸ</li></ul><h3 id="297a58de-0d34-4370-a6a7-f53127e0c910" class="block-color-blue_background">æ³¨æ„ç‚¹ï¼šå½“ä¸€èµ·ä½¿ç”¨autoã€constã€&amp;æ—¶</h3><ul id="fa07703d-b933-4ef5-b062-725a4f7401fc" class="bulleted-list"><li style="list-style-type:disc"><code><span style="border-bottom:0.05em solid"><strong>auto</strong></span></code><span style="border-bottom:0.05em solid"><strong>ä¸</strong></span><code><span style="border-bottom:0.05em solid"><strong>const</strong></span></code><span style="border-bottom:0.05em solid"><strong>ä¸</strong></span><code><span style="border-bottom:0.05em solid"><strong>&amp;</strong></span></code>ï¼šå½“ä½¿ç”¨<strong><code>auto</code></strong>ç±»å‹æ—¶è¦æ³¨æ„<code>const</code>ä¸<code>&amp;</code>çš„åœºæ™¯ï¼Œæ¯”å¦‚<ul id="bf3f5427-ec67-4713-97e0-65e75145cc1c" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>ä¸¢å¼ƒ</strong></span><strong><code>const</code></strong><span style="border-bottom:0.05em solid"><strong>å’Œ</strong></span><strong><code>&amp;</code></strong>ï¼šå½“ä½¿ç”¨ <code>auto</code> æ—¶ï¼Œå¦‚æœèµ‹ç»™ <code>auto</code> å˜é‡çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ª <code>const</code> ç±»å‹æˆ–ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼ˆä¾‹å¦‚<code>const int&amp;</code>ï¼‰ï¼Œ<code>auto</code> ä¼šé»˜è®¤å¿½ç•¥<code>const</code><strong> </strong>å’Œ <code>&amp;</code> éƒ¨åˆ†ï¼Œ<span style="border-bottom:0.05em solid">åªæ¨æ–­å‡ºåŸºç¡€ç±»å‹</span>ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ä¸º<code>int</code>ï¼‰ã€‚<span style="border-bottom:0.05em solid"><strong>è¿™æ„å‘³ç€</strong></span><span style="border-bottom:0.05em solid"><strong><code>auto</code></strong></span><span style="border-bottom:0.05em solid"><strong>å˜é‡ä¸ä¼šä¿æŒåŸå§‹å˜é‡çš„</strong></span><span style="border-bottom:0.05em solid"><code><strong>const</strong></code></span><span style="border-bottom:0.05em solid"><strong>å±æ€§æˆ–å¼•ç”¨æ€§è´¨ã€‚</strong></span></li></ul><ul id="89c4759a-a990-4de9-a80e-bfa0fe2fdef0" class="bulleted-list"><li style="list-style-type:circle"><strong><span style="border-bottom:0.05em solid">æ˜ç¡®æŒ‡å®š&amp;æˆ–const</span></strong>ï¼šå› æ­¤ï¼Œå¦‚æœå¸Œæœ›<code>auto</code>å˜é‡ä¿æŒåŸå§‹å˜é‡çš„<code>const</code>å±æ€§æˆ–ä½œä¸ºå¼•ç”¨ï¼Œ<span style="border-bottom:0.05em solid"><strong>éœ€è¦æ˜¾å¼æŒ‡å®š</strong></span>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è¦<code>auto</code>å˜é‡ä¿æŒ<code>const</code>å±æ€§ï¼Œåº”è¯¥ä½¿ç”¨<code>const auto</code>ï¼Œå¯¹äºå¼•ç”¨åˆ™åº”ä½¿ç”¨<code>auto&amp;</code>ã€‚</li></ul></li></ul><h3 id="5e404930-0288-4555-91d1-d66a843e5dde" class="block-color-blue_background">constæ¥å£(constä¿®é¥°çš„ç±»æˆå‘˜å‡½æ•°)ï¼šconstæ¥å£ä¸­çš„thiså¸¸é‡æŒ‡é’ˆã€å®½æ¾constæ¥å£ã€ä¸¥æ ¼constæ¥å£</h3><ul id="03461cbc-4db7-4e70-a503-bf6b3def11f8" class="bulleted-list"><li style="list-style-type:disc">å½“<mark class="highlight-red"><strong>ç”¨</strong></mark><mark class="highlight-red"><strong><code>const</code></strong></mark><mark class="highlight-red"><strong>ä¿®é¥°ä¸€ä¸ªç±»æˆå‘˜å‡½æ•°</strong></mark>æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œæ­¤æ—¶<strong>è¿™ä¸ªç±»æˆå‘˜å‡½æ•°å°±è¢«ç§°ä¸ºæ˜¯ä¸€ä¸ªconstæ¥å£</strong></li></ul><ul id="d0c71c2e-a047-421e-933e-b89650c1f9ab" class="bulleted-list"><li style="list-style-type:disc">å½“æˆå‘˜å‡½æ•°æ²¡æœ‰ç”¨constä¿®é¥°æ—¶ï¼Œè°ƒç”¨è¿™ä¸ªæˆå‘˜å‡½æ•°æ—¶ï¼Œä¼ å…¥æˆå‘˜å‡½æ•°çš„<em><code>this</code></em>æŒ‡é’ˆçš„ç±»å‹æ˜¯ä¸€ä¸ª<strong>æŒ‡å‘éå¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ</strong>ï¼ˆ<code><em><strong>ç±»å‹å* const this</strong></em></code>ï¼‰ï¼›å½“ç”¨constä¿®é¥°åï¼Œä¼ å…¥çš„thisæŒ‡é’ˆçš„ç±»å‹æ˜¯ä¸€ä¸ª<strong>æŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ</strong>ï¼ˆ<code><em><strong>const ç±»å‹å* const this</strong></em></code>ï¼‰<blockquote id="d2a8ca14-b609-47b7-bfb8-2c8b606ec75b" class="block-color-gray_background">å› æ­¤ä¸€ä¸ªconstå¯¹è±¡ä¸èƒ½è°ƒç”¨éconstæˆå‘˜å‡½æ•°ï¼Œå› ä¸ºè°ƒç”¨æ—¶ï¼Œconstå¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ª<code><em><strong>const ç±»å‹å* const this</strong></em></code>ï¼Œè€Œè°ƒç”¨éconstæˆå‘˜å‡½æ•°æ—¶ï¼Œä¼ å…¥çš„thisç±»å‹è¦æ±‚æ˜¯<code><em><strong>ç±»å‹å* const this</strong></em></code>ï¼Œæ‰€ä»¥å°±ä¼šå‘ç”Ÿconståˆ°éconstçš„è½¬æ¢ï¼Œä»è€Œç¼–è¯‘å™¨ä¼šå‘ç”Ÿå¦‚ä¸‹æŠ¥é”™ï¼š<br/><br/>passing â€˜const HashMap&lt;int, int&gt;â€™ as â€˜thisâ€™ argument <br/><span style="border-bottom:0.05em solid"><strong>discards qualifiers<br/><br/></strong></span>ï¼ˆå› ä¸ºæ­¤æ—¶thiså‚æ•°çš„å£°æ˜æ˜¯ä¸€ä¸ªæŒ‡å‘éconstå˜é‡çš„æŒ‡é’ˆï¼Œæƒ³è¦æŠŠconstå¯¹è±¡ä¼ è¿›å»å°±å¿…é¡»è¦ä¸¢å¼ƒconsté™å®šç¬¦ï¼‰</blockquote></li></ul><ul id="77b84546-2e32-4802-a42b-360f7daefca5" class="bulleted-list"><li style="list-style-type:disc"><strong><mark class="highlight-default">âš ï¸ä¸€ä¸ªå‘ç‚¹âš ï¸</mark></strong><mark class="highlight-default">ï¼š</mark><strong><mark class="highlight-red">åœ¨</mark></strong><strong><mark class="highlight-red"><em><code>const</code></em></mark></strong><strong><mark class="highlight-red">æˆå‘˜å‡½æ•°ä¸­ï¼Œ</mark></strong><strong><mark class="highlight-red"><em><code>this</code></em></mark></strong><mark class="highlight-red"><strong>æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ</strong></mark><mark class="highlight-red">(</mark><code><mark class="highlight-red"><strong>const ç±»å‹å* const this</strong></mark></code><mark class="highlight-red">)</mark><strong><br/>å› æ­¤<br/></strong><mark class="highlight-default"><strong>å½“åœ¨ä¸€ä¸ªè¢«æ ‡è®°ä¸º</strong></mark><mark class="highlight-default"><strong><em><code>const</code></em></strong></mark><mark class="highlight-default"><strong>çš„æˆå‘˜å‡½æ•°ä¸­è·å–ä¸€ä¸ªé</strong></mark><mark class="highlight-default"><strong><em><code>const</code></em></strong></mark><mark class="highlight-default"><strong>æˆå‘˜å˜é‡æ—¶</strong></mark><mark class="highlight-purple">ï¼Œ</mark><strong><mark class="highlight-purple">è¿™ä¸ªæˆå‘˜å˜é‡ä¼šè¢«è§†ä¸º</mark></strong><em><strong><mark class="highlight-purple"><code>const</code></mark></strong></em><strong><mark class="highlight-purple">ï¼Œ</mark></strong><span style="border-bottom:0.05em solid"><strong><mark class="highlight-purple">å³ä½¿å®ƒåŸæœ¬æ²¡æœ‰è¢«å£°æ˜ä¸º</mark></strong></span><span style="border-bottom:0.05em solid"><em><strong><mark class="highlight-purple"><code>const</code></mark></strong></em></span><blockquote id="8629746a-2251-4874-8e81-4bfe3b72a9d6" class="block-color-gray_background"><strong>å› ä¸ºåœ¨æˆå‘˜å‡½æ•°ä¸­è·å–æˆå‘˜å˜é‡æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯é€šè¿‡</strong><em><code><strong>this</strong></code></em><strong>æŒ‡é’ˆè·å–çš„</strong>(ç¼–è¯‘å™¨è‡ªåŠ¨åœ¨å‰é¢åŠ äº†ä¸€ä¸ªthisâ†’ï¼Œå°±åƒpythonä¸­å¿…é¡»æ˜¾ç¤ºåœ°ä½¿ç”¨self.xæ¥è·å–ä¸€æ ·)ï¼Œä½†ç”±äº<em><code>this</code></em>æŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œ<strong>å› æ­¤é€šè¿‡</strong><strong><em><code>this</code></em></strong><strong>æŒ‡é’ˆè·å–æˆå‘˜å˜é‡æ—¶ï¼Œå–å‡ºæ¥çš„æˆå‘˜å˜é‡éƒ½å…·æœ‰</strong><strong><em><code>const</code></em></strong><strong>å±æ€§</strong>ï¼ˆä¸ç®¡åŸå…ˆå®ƒæœ‰æ²¡æœ‰ç”¨constè¿›è¡Œä¿®é¥°ï¼‰</blockquote><ul id="94917b00-ff7f-40cd-8cdc-9e7cb22f562a" class="bulleted-list"><li style="list-style-type:circle">è¿™ä¸ªç»†èŠ‚å¯èƒ½ä¼šå¯¼è‡´<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>ä¸€ä¸ªç»å¸¸å‡ºç°çš„bug</strong></span></mark>ï¼šåœ¨ä¸€ä¸ªconstæ¥å£ä¸­ï¼Œå–å‡ºäº†ä¸€ä¸ªåŸæœ¬æ˜¯éconstçš„æˆå‘˜å˜é‡ï¼Œç„¶åæŠŠè¿™ä¸ªæˆå‘˜å˜é‡ä¼ ç»™äº†ä¸€ä¸ªæ¥æ”¶éconstç±»å‹å‚æ•°çš„å‡½æ•°ï¼Œ<em>ä»è€Œå‘ç”Ÿäº†constç±»å‹åˆ°éconstç±»å‹çš„éšå¼è½¬æ¢</em>ï¼Œè§¦å‘ç¼–è¯‘é”™è¯¯<blockquote id="aafb26c8-ef43-42f6-b1a2-749770c964c7" class="block-color-gray_background">è§£å†³æ–¹æ³•ï¼šé€šè¿‡<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><strong><em><code>const_cast</code></em></strong></a>æŠŠè¿™ä¸ªéconstçš„æˆå‘˜å‡½æ•°é‡æ–°ä»constè½¬æˆéconst</blockquote></li></ul></li></ul><ul id="42e0d5c6-89ef-445a-a9ba-9f0ad4cc3e98" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><em><span style="border-bottom:0.05em solid"><strong>const inference</strong></span></em></mark>ï¼ˆconstæ¥å£ï¼‰: <strong>è¢«constä¿®é¥°çš„å¯¹è±¡åªèƒ½è°ƒç”¨constå‡½æ•°</strong>ï¼ˆå³é‚£äº›ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå³é‚£äº›è¢«constä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼‰ï¼Œä¾‹å¦‚ä»¥ä¸‹åœºæ™¯<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a263129b-bbe8-4776-bcb1-d43d142eff99" class="code"><code class="language-C++">class Student {
private:
	// An example of type aliasing
	using String = std::string;
	String name;
	String state;
	int age;

public:
	Student(String name, String state, int age);
	// Added a â€˜setterâ€™ function
	void setName(String name);
	String getName();
	String getState();
	int getAge();
	String stringify(const Student&amp; s)
}

/* 
å½“stringifyçš„å®šä¹‰å¦‚ä¸‹æ—¶ï¼š
std::string stringify(const Student&amp; s){
	return s.getName() + &quot; is &quot; + std::to_string(s.getAge()) +
	&quot; years old.&quot; ;
}
ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚
åŸå› ï¼š
	sè¢«ä¿®é¥°ä¸ºconstï¼Œä½†ç¼–è¯‘å™¨ä¸çŸ¥é“sçš„ç±»æ–¹æ³•getName()å’ŒgetAge()æ˜¯å¦ä¼šæ”¹å˜sçš„çŠ¶æ€ï¼Œæ‰€ä»¥äº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚
ä¿®æ”¹æ–¹æ³•ï¼š
	å°†ç±»å®šä¹‰ä¸­çš„ç±»æ–¹æ³•getName()å’ŒgetState()ç”¨constè¿›è¡Œä¿®é¥°ï¼Œæˆ–è€…ç»™å®ƒä»¬å¦å†™ä¸€ä¸ªconstç‰ˆæœ¬è¡¨ç¤ºè¿™ä¸ªç±»æ–¹æ³•ä¸ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œå³ï¼š

String getName() -&gt; String getName() const
int getAge() -&gt; int getAge() const
*/
</code></pre><ul id="3a272a42-f2c7-4129-b11c-6430e325e2f1" class="bulleted-list"><li style="list-style-type:circle">ä¾‹å¦‚æŸä¸ªå‚æ•°ç”¨constè¿›è¡Œä¿®é¥°å¹¶ä¼ é€’ç»™äº†å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå‡½æ•°ä¸­å°±åªèƒ½è°ƒç”¨constä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™</li></ul><ul id="11a76ab9-932e-4471-b6d1-c86bae264a72" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>å› æ­¤ç»å¸¸éœ€è¦ç»™æŸä¸ªéconstçš„ç±»æˆå‘˜å‡½æ•°é‡æ–°å†™ä¸€ä¸ªconstç‰ˆæœ¬çš„</strong></span>ï¼Œè¿™æ ·åœ¨è°ƒç”¨æ—¶ç¼–è¯‘å™¨ä¼šè‡ªå·±<strong>æ ¹æ®æ˜¯å¦æ˜¯constå¯¹è±¡ï¼Œæ¥é€‰æ‹©è°ƒç”¨constè¿˜æ˜¯éconstç‰ˆæœ¬çš„ç±»æˆå‘˜æ–¹æ³•</strong></li></ul></li></ul><ul id="52ec5119-704a-416b-9896-86d7e0ce4dbe" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>å®ç°constæ¥å£çš„ä¸€ä¸ªæ˜“é”™ç‚¹</strong></mark>ï¼šæ³¨æ„åŒºåˆ†<mark class="highlight-purple"><strong>ä¸¥æ ¼çš„constæ¥å£</strong></mark>ä¸<mark class="highlight-purple"><strong>å®½æ¾çš„constæ¥å£</strong></mark><ul id="6599b515-5da6-4416-90c3-2de092a20860" class="bulleted-list"><li style="list-style-type:circle">å½“å®ç°ä¸€ä¸ªconstæ¥å£æ—¶ï¼Œæœ‰æ—¶å€™è¿™ä¸ªconstæ¥å£æœ¬èº«å¹¶ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼ˆä¾‹å¦‚beginå’Œendï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªconstæ¥å£çš„è¿”å›å€¼å¯èƒ½ä¼šä½¿å¾—ç”¨æˆ·å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œ<strong>é—´æ¥ä¿®æ”¹</strong>ï¼ˆä¾‹å¦‚beginè¿”å›ä¸€ä¸ªiteratorï¼‰ã€‚</li></ul><ul id="69ae3b81-ba49-4fcd-a572-822b6e9a544d" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å®½æ¾çš„constæ¥å£</strong></span></mark>ï¼šå¦‚æœå…è®¸é—´æ¥ä¿®æ”¹ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå®½æ¾çš„constæ¥å£<ul id="eca1de16-417f-4014-8a53-d3a810711340" class="bulleted-list"><li style="list-style-type:square">å®½æ¾çš„constæ¥å£æƒ³è¦å¼ºè°ƒçš„æ˜¯ï¼šæˆå‘˜å‡½æ•°æœ¬èº«ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼Œä½†è¿”å›å€¼å¯ä»¥ã€‚</li></ul></li></ul><ul id="9580f5a6-1cf7-420f-b6e7-815370c798d1" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>ä¸¥æ ¼çš„constæ¥å£</strong></span></mark>ï¼šå¦‚æœä¸å…è®¸é—´æ¥ä¿®æ”¹ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„constæ¥å£</li></ul><ul id="e920b953-08a8-45af-a3b6-6b60ef2725a4" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><strong>æ‰€ä»¥å®ç°constæ¥å£æ—¶ï¼Œä¸€å®šè¦æ³¨æ„æƒ³è¦è®¾è®¡çš„æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„è¿˜æ˜¯å®½æ¾çš„</strong></mark><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>constæ¥å£</strong></span></mark><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b2c0d8bb-070f-4d0d-b141-3ebb1ad48335" class="code"><code class="language-C++">/* ç¬¬ä¸€ç§æƒ…å†µï¼šè®¾è®¡ä¸€ä¸ªå®½æ¾çš„constæ¥å£
 * æ˜¾ç¤ºåœ°å¼ºè°ƒmake_iteratoræœ¬èº«æ˜¯constçš„ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ªå¯ä»¥ä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„è¿”å›å€¼ 
 */
iterator make_iterator(node* curr) const;


/* ç¬¬äºŒç§æƒ…å†µï¼šè®¾è®¡ä¸€ä¸ªä¸¥æ ¼çš„constæ¥å£ */
iterator make_iterator(node* curr); // æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½åœ¨æœ€ååŠ constï¼Œå› ä¸ºç¼–è¯‘å™¨
                                    // æ— æ³•æ ¹æ®è¿”å›å€¼çš„ç±»å‹è¿›è¡Œé‡è½½ 
const_iterator make_iterator(node* curr) const;</code></pre></li></ul><p id="17cef411-bfb5-4c80-bf90-a6c456a7be6c" class="">
</p><blockquote id="007b00b0-df8c-4626-9ad1-d10b063569f1" class="block-color-gray_background">è¿™ä¸ªåŸåˆ™å¯¹äºå…¶å®ƒç±»å‹çš„å‡½æ•°ä¹Ÿæ˜¯åŒç†</blockquote><blockquote id="ca0be83d-721a-47cf-851b-a1a891c355c6" class="block-color-gray_background">å› æ­¤ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯ï¼š<span style="border-bottom:0.05em solid"><strong>ä¸€ä¸ªéconstæ¥å£è¿”å›ä¸€ä¸ªconstè¿”å›å€¼</strong></span>ï¼Œå³å‡½æ•°æœ¬èº«ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼Œä½†æ˜¯è¿”å›å€¼ä¸å…è®¸ä¿®æ”¹<figure id="5f53c98e-d46b-49a9-be09-e156337eb961" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-18_16.11.10.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-18_16.11.10.png"/></a><figcaption>è¿™é‡Œçš„eraseè¿”å›åˆ å»posåï¼Œä¸‹ä¸€ä¸ªçš„ä½ç½®<br/>æ³¨æ„ï¼šå®šä¹‰äº†ä¸€ä¸ªconst_iterator eraseåï¼Œå°±ä¸èƒ½å†å®šä¹‰ä¸€ä¸ªiterator eraseï¼Œå› ä¸º<br/><strong>æ— æ³•ä»…æ ¹æ®è¿”å›å€¼æ¥åˆ›å»ºä¸åŒçš„é‡è½½å‡½æ•°</strong></figcaption></figure></blockquote></li></ul><h3 id="28860efa-7129-4358-a65e-f54e76f94da7" class="block-color-blue_background">constæ€»ç»“</h3><ul id="935ad841-5252-4b28-a93b-43e866282c54" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>æ€»ç»“</strong></span>ï¼šä½¿ç”¨<code>const</code>çš„ä¸€äº›æ³¨æ„ç‚¹<figure id="0b322dbf-4c67-4a2d-9ead-f23c4ce78f2c" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_21.33.16.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_21.33.16.png"/></a></figure><ul id="c8eaec6c-e8da-4531-aaf3-3df66efa4050" class="bulleted-list"><li style="list-style-type:circle">good practiceï¼šåœ¨è‡ªå®šä¹‰ç±»ä¸­ï¼Œå¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªå®¹å™¨ï¼Œåˆ™ç»™å®¹å™¨ä¸­çš„<code>iterator</code>ç±»å‹ï¼Œä»¥åŠ<code>begin()</code>å’Œ<code>end()</code>æˆå‘˜å‡½æ•°å®šä¹‰constç‰ˆæœ¬å’Œéconstç‰ˆæœ¬ï¼ˆæ‰€æœ‰çš„stdå®¹å™¨éƒ½æ˜¯è¿™ä¹ˆåšçš„ï¼Œå®ƒä»¬éƒ½æœ‰constç‰ˆæœ¬çš„<code>iterator</code>ã€<code>begin()</code>ã€<code>end()</code>ï¼‰</li></ul></li></ul><h2 id="74c333e5-56fa-4b7a-9313-7a3fe7d7273c" class="block-color-orange_background">è‡ªå®šä¹‰ç±»</h2><h3 id="5f29b02a-2951-4b26-9a32-b1c0fb5647de" class="block-color-blue_background">basics</h3><ul id="341e9b73-815a-47c8-a07f-d1ab812bcd58" class="bulleted-list"><li style="list-style-type:disc">åœ¨è‡ªå®šä¹‰ç±»ä¸­ï¼Œå¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªå®¹å™¨ï¼Œåˆ™æœ€å¥½ç»™å®¹å™¨ä¸­çš„<code>iterator</code>ç±»å‹ï¼Œä»¥åŠ<code>begin()</code>å’Œ<code>end()</code>æˆå‘˜å‡½æ•°å®šä¹‰constç‰ˆæœ¬å’Œéconstç‰ˆæœ¬ï¼Œä»¥ä¾¿æä¾›ä¸€ä¸ª<strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">const æ¥å£</a></strong><blockquote id="2842e9de-d2b0-43b4-b3bd-1782c9f91b88" class="block-color-gray_background">æ‰€æœ‰çš„stdå®¹å™¨éƒ½æ˜¯è¿™ä¹ˆåšçš„ï¼Œå®ƒä»¬éƒ½æœ‰constç‰ˆæœ¬çš„<code>iterator</code>ã€<code>begin()</code>ã€<code>end()</code></blockquote><ul id="47318163-951d-46a2-bf2d-311e656b75b0" class="bulleted-list"><li style="list-style-type:circle"><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å®ç°constæ¥å£æ—¶çš„ä¸€ä¸ªæ˜“é”™ç‚¹</a></strong></li></ul></li></ul><ul id="aaf87908-8378-46c8-9ccc-1249ba711fbf" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>å¹¶ä¸æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°å°±ä¸€å®šæ˜¯ç±»çš„æˆå‘˜å‡½æ•°</strong></span>ï¼šå½“ç”¨<strong><code>friend</code></strong>ä¿®é¥°è¯å¯¹ç±»ä¸­æŸä¸ªå‡½æ•°è¿›è¡Œä¿®é¥°æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªå‡½æ•°åªæ˜¯ä¸€ä¸ªä½œç”¨åŸŸåœ¨è¿™ä¸ªç±»ä¸­çš„æ™®é€šå‡½æ•°ï¼ˆè€Œä¸æ˜¯è¿™ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼‰<blockquote id="2b7c81bc-0f7e-48ab-a5aa-62ace140e825" class="block-color-gray_background">è¿™æ ·åšçš„å…·ä½“ä½œç”¨å¯ä»¥<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><strong>è§è¿™é‡Œ</strong></a></blockquote></li></ul><ul id="4a2e3a18-b51c-4a1a-aca0-d1261c5af1ec" class="bulleted-list"><li style="list-style-type:disc">å½“è‡ªå®šä¹‰ä¸€ä¸ªç±»Myclassåï¼Œ<code>Myclass foo;</code>æˆ–<code>Myclass foo{};</code>ä¼šè°ƒç”¨Myclassçš„æ— å‚æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–foo<ul id="a46ea1c7-4698-47a8-a61a-ae27328ea9e8" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>ç‰¹æ®Šæƒ…å†µ</strong></span>ï¼šå½“<strong>ä½¿ç”¨äº†</strong><strong><code>std::optional</code></strong><strong>æ—¶</strong>ï¼Œè¿™æ ·<code>std::optional&lt;Myclass&gt; foo</code>æˆ–<code>std::optional&lt;Myclass&gt; foo{}</code>éƒ½ä¼šè°ƒç”¨std::optionalæ¨¡ç‰ˆç±»çš„æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶fooä¼šè¢«åˆå§‹åŒ–ä¸º<code><em><strong>nullopt</strong></em></code>ï¼ˆè€Œä¸æ˜¯è°ƒç”¨Myclassçš„æ— å‚æ„é€ å‡½æ•°ï¼‰<ul id="b0b2cc1a-896f-456c-abe4-1b84920072f1" class="bulleted-list"><li style="list-style-type:square">æ‰€ä»¥æ­¤æ—¶å¦‚æœæƒ³è°ƒç”¨Myclassçš„æ— å‚æ„é€ å‡½æ•°ï¼Œå°±å¿…é¡»ç”¨<code>std::optional&lt;Myclass&gt; foo = Myclass()</code></li></ul><ul id="dd35b289-21b2-4988-a0a9-241b894f3206" class="bulleted-list"><li style="list-style-type:square">æ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒ<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">è¿™é‡Œ</a></li></ul></li></ul></li></ul><ul id="db77cd41-e0db-4619-b097-1ebf597f3aee" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>è‡ªå®šä¹‰ç±»çš„good pracitce</strong></mark>ï¼š<ul id="e6bcf955-94cc-4c1b-9c9e-fa5231ed8f3f" class="bulleted-list"><li style="list-style-type:circle"><strong>ç»™ç±»ä¸­ä½¿ç”¨åˆ°çš„å„ç§ç±»å‹é€šè¿‡usingè¿›è¡Œåˆ«å</strong>ï¼ˆä¾‹å¦‚åˆ«åpointer, reference, value_type, node_typeç­‰ï¼‰ï¼Œå¹¶æŠŠè¿™äº›åˆ«ååˆ†åˆ«æ”¾åˆ°publicæˆ–privateåŸŸä¸­ã€‚<ul id="6152c963-729e-4fcc-9990-f7ce9c15d65e" class="bulleted-list"><li style="list-style-type:square">ä¸ä»…æ˜¯ä¸ºäº†æœ‰æ›´å¥½çš„å¯è¯»æ€§ï¼Œæ›´é‡è¦çš„æ˜¯å¯ä»¥å‡å°‘ç¡¬ç¼–ç çš„ä»£ç ï¼Œä»è€Œå®ç°ä»£ç è§£è€¦ï¼Œé˜²æ­¢è¦æ”¹å˜æŸä¸ªç±»å‹æ—¶ï¼Œé€ æˆå¤§é‡ä»£ç çš„é‡æ„</li></ul></li></ul><ul id="52af5b9d-75f6-4d10-bd4f-dd3c6db6f0a3" class="bulleted-list"><li style="list-style-type:circle"><strong>å°½é‡æŠŠæˆå‘˜å˜é‡æ”¾åˆ°privateåŸŸä¸­è¿›è¡Œå®šä¹‰</strong>ï¼Œé€šè¿‡<strong>åœ¨publicåŸŸä¸­å®šä¹‰getter</strong>æ¥è®©ç”¨æˆ·è·å–æˆå‘˜å˜é‡</li></ul><ul id="b5a85ae9-b787-433c-9c7a-b71b5e2a5e31" class="bulleted-list"><li style="list-style-type:circle"><strong>åœ¨privateåŸŸä¸­å®šä¹‰ä¸€äº›è¾…åŠ©å®ç°çš„è¾…åŠ©å‡½æ•°</strong></li></ul></li></ul><h3 id="e6a4b9da-5d96-44d1-a3a9-64df7871f0a2" class="block-color-blue_background">æœ‰å…³(æ¨¡ç‰ˆ)ç±»å£°æ˜å’Œ(æ¨¡ç‰ˆ)ç±»å®šä¹‰çš„ä»£ç ç»„ç»‡</h3><ul id="2f0bc3b0-8a87-473f-9f29-ad6ef8055c09" class="bulleted-list"><li style="list-style-type:disc">å½“ä¸€ä¸ªå®ä¾‹out of scopeæ—¶æˆ–è€…è¢«ä¸»åŠ¨deleteæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨å®ä¾‹ä¸­çš„ææ„å‡½æ•°</li></ul><div><ul id="d91ccd91-32e1-49b7-a741-24a561d7c636" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>this</code></strong></em><em><strong>æŒ‡é’ˆ</strong></em>ï¼šåœ¨å®šä¹‰C++ç±»çš„æˆå‘˜æ–¹æ³•æ—¶ï¼Œ<span style="border-bottom:0.05em solid"><strong>é»˜è®¤ä¼šä¼ å…¥ä¸€ä¸ªåå«</strong></span><code><strong>this</strong></code><strong>çš„</strong><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æŒ‡é’ˆ</strong></span></mark>ï¼ˆå¹¶ä¸éœ€è¦æ˜¾ç¤ºæŒ‡å‡ºï¼‰ï¼Œç”¨äº<strong>æŒ‡å‘å½“å‰çš„å¯¹è±¡</strong>ï¼ˆå°±åƒpythonä¸­çš„<code>self</code>ä¸€æ ·ï¼Œåªä¸è¿‡pythonä¸­æ˜¯æ˜¾å¼å®šä¹‰çš„ï¼‰ã€‚é€šè¿‡thisæŒ‡é’ˆï¼Œå¯ä»¥æ–¹é’ˆå½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°</li></ul></div><ul id="7e18fe24-acf7-4fa1-839b-50135559fe5f" class="bulleted-list"><li style="list-style-type:disc">è‡ªå®šä¹‰ä¸€ä¸ªç±»æ—¶ï¼Œ<strong>å¦‚æœè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªå®¹å™¨</strong>ï¼Œå¹¶è®©è¿™ä¸ªç±»æ”¯æŒè¿­ä»£æ“ä½œï¼ˆæ¯”å¦‚<code>for (auto item: my_obj)</code>ï¼‰ï¼Œåˆ™å¿…é¡»åœ¨ç±»ä¸­å®šä¹‰<strong><code>begin()</code></strong>å’Œ<strong><code>end()</code></strong>æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ç±»å‹<ul id="c9e5a4c3-8b50-4618-a2ee-3b095364e9a4" class="bulleted-list"><li style="list-style-type:circle">è¿­ä»£æ—¶ä¼šè°ƒç”¨è¿­ä»£å™¨çš„<code>++</code>è¿ç®—ç¬¦æ¥å–ä¸‹ä¸€ä¸ªå…ƒç´ </li></ul><ul id="c52e6856-a299-4a36-8fa1-7d77b42ccd76" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœéœ€è¦è‡ªå®šä¹‰è¿­ä»£å™¨ï¼Œè¿˜éœ€è¦å®šä¹‰è¿ç®—ç¬¦<code>++</code>,<code>==</code>,<code>!=</code></li></ul></li></ul><div id="660ca0c7-f60d-4b65-94c5-6cae71b5d7cc" class="column-list"><div id="94ba3a4f-d366-478c-911b-cb4bf90c57f3" style="width:50.000000000000014%" class="column"><ul id="8d4bdc90-4a54-408e-be00-394b69f27687" class="bulleted-list"><li style="list-style-type:disc">ç±»çš„å£°æ˜ï¼šMyClass.h <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="54a84fa7-59b5-4f39-933b-999ea2194874" class="code"><code class="language-C++">
class MyClass {
public:
    MyClass();  // æ„é€ å‡½æ•°
    ~MyClass(); // ææ„å‡½æ•°

    void memberFunction();  // æˆå‘˜å‡½æ•°

private:
    int dataMember;  // æ•°æ®æˆå‘˜
};
</code></pre></li></ul></div><div id="02842531-5169-4ff3-acf1-7d1c3faae5f0" style="width:50%" class="column"><ul id="0ef929dd-3cd2-4065-a086-2f824b5891f0" class="bulleted-list"><li style="list-style-type:disc">ç±»çš„å®šä¹‰ï¼ˆå®ç°ï¼‰ï¼šMyClass.cpp<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ccbb09b8-06bd-4744-bc66-87b9cc11c902" class="code"><code class="language-C++">#include &quot;MyClass.h&quot;

MyClass::MyClass() {
    // æ„é€ å‡½æ•°çš„å®šä¹‰ ...
}

MyClass::~MyClass() {
    // ææ„å‡½æ•°çš„å®šä¹‰ ...
}

void MyClass::memberFunction() {
    // æˆå‘˜å‡½æ•°çš„å®šä¹‰ ...
}</code></pre></li></ul></div></div><ul id="48d8b99b-c69f-48a6-917f-9e9df5bfe623" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><em><span style="border-bottom:0.05em solid"><strong>good practice</strong></span></em></mark>ï¼š<ul id="3edc12f0-de20-4efc-ab04-7302d15ff8b2" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¯¹äºéæ¨¡ç‰ˆç±»ï¼Œéæ¨¡ç‰ˆå‡½æ•°</strong></span></mark>ï¼š<mark class="highlight-purple"><strong>æŠŠç±»/å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼ˆå®ç°ï¼‰åˆ†åˆ«å†™åœ¨å¤´æ–‡ä»¶(.h)å’Œæºæ–‡ä»¶(.cpp)</strong></mark>ä¸­<blockquote id="7ab5ab14-f864-403a-9e2a-57e060d6f420" class="block-color-gray_background">è¿™æ ·ç±»çš„æ•´ä½“ç»“æ„ä¼šçœ‹çš„æ›´åŠ æ¸…æ™°ï¼Œå¹¶ä¸”æºä»£ç å¯ä»¥è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œå¯ä»¥åªæä¾›å¤´æ–‡ä»¶ï¼Œä¸æš´éœ²æºç ï¼Œ</blockquote></li></ul><ul id="07673db3-8d08-41d0-849a-a09718e59123" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¯¹äºæ¨¡ç‰ˆç±»ã€æ¨¡ç‰ˆå‡½æ•°</strong></span></mark>ï¼š<mark class="highlight-purple"><strong>æŠŠæ¨¡ç‰ˆç±»/å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼ˆå®ç°ï¼‰ç›´æ¥å†™åœ¨å¤´æ–‡ä»¶(.h)é‡Œ</strong></mark>ï¼Œå¹¶ä¸”<strong>åœ¨ç±»é‡Œé¢å†™å£°æ˜ï¼Œåœ¨ç±»å¤–é¢å†™å®šä¹‰</strong>ï¼ˆè¿™æ ·ç±»çš„æ•´ä½“ç»“æ„ä¼šçœ‹çš„æ›´åŠ æ¸…æ™°ï¼‰<br/><br/><mark class="highlight-purple"><strong>æˆ–è€…æŠŠæ¨¡ç‰ˆç±»\å‡½æ•° çš„å®šä¹‰å†™åœ¨ä¸€ä¸ª.tpp</strong></mark><mark class="highlight-default">ï¼ˆæ³¨æ„ï¼Œ</mark><mark class="highlight-red"><strong>æ¨¡ç‰ˆç±»\å‡½æ•° çš„å®šä¹‰æ”¾åœ¨.tppè€Œä¸æ˜¯.cpp</strong></mark><mark class="highlight-default">ï¼‰ï¼Œ</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">ç„¶ååœ¨.hçš„æœ€å#include .tpp</mark></strong></span><mark class="highlight-default">ï¼Œå¹¶æŠŠè¿™ä¸ª</mark><mark class="highlight-purple"><strong>.tppæ–‡ä»¶æ”¾åœ¨ä¸.hæ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸‹</strong></mark>ã€‚<br/>ï¼ˆåœ¨.hçš„æœ€å#include .tppæœ¬è´¨ä¸Šä¸ç›´æ¥å†™åœ¨.hé‡Œé¢æ˜¯ç­‰ä»·çš„ï¼‰<br/><ul id="075f3b8e-1935-4fe9-ad13-20361bd1b92c" class="bulleted-list"><li style="list-style-type:square"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å¦åˆ™å°±ä¼šæŠ¥é”™</a></li></ul></li></ul></li></ul><h3 id="5ec30e56-0251-4e05-ade2-995cc1193aa5" class="block-color-blue_background">è‡ªå®šä¹‰ç±»æ—¶çš„ä¸€ä¸ªå‘ç‚¹ï¼šåˆå§‹åŒ–æ¬¡åº</h3><ul id="d1e0883f-dfda-4adc-af20-ba3b7abaf328" class="bulleted-list"><li style="list-style-type:disc">å®šä¹‰ç±»æ—¶çš„ä¸€ä¸ª<span style="border-bottom:0.05em solid"><strong>å‘ç‚¹</strong></span>ï¼šåœ¨å£°æ˜ç±»æˆå‘˜å˜é‡æ—¶ï¼Œ<mark class="highlight-red"><strong>å¦‚æœbçš„åˆå§‹å€¼ä¾èµ–äºaçš„åˆå§‹å€¼ï¼Œ</strong></mark><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>é‚£ä¹ˆå°±å¿…é¡»å…ˆå£°æ˜aï¼Œå†å£°æ˜bã€‚</strong></span></mark>è¿™æ ·åœ¨å®ä¾‹åŒ–æ—¶æ‰ä¼šå…ˆç»™aèµ‹åˆå€¼ï¼Œå†ç»™bèµ‹åˆå€¼ï¼›å¦åˆ™ï¼Œå°±ä¼šå…ˆç»™bèµ‹åˆå€¼ï¼Œæ­¤æ—¶aç”±äºè¿˜æ²¡èµ‹å€¼ï¼Œæ‰€ä»¥æ˜¯ç³»ç»Ÿçš„é»˜è®¤å€¼ï¼ˆå¾€å¾€æ˜¯ä¸€ä¸ªéšæœºæ•°ï¼‰ï¼Œä»è€Œå¯¼è‡´bèµ‹åˆå€¼æ—¶äº§ç”Ÿbug<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="478077ba-9228-4e12-9d01-88b033abe384" class="code"><code class="language-C++">private:
    using head = ValueType*;
    using iterator = ValueType*;
    using size_type = std::size_t;

    const size_type InitialAllocatedSize = 2;
    const size_type IncrementFactor = 2;

    head elems;
    size_type LogicalSize;
    size_type AllocatedSize; 
		/* AllocatedSizeçš„å€¼åœ¨è¿›è¡Œå®ä¾‹åŒ–æ—¶å¯èƒ½ä¼šä¾èµ–äºInitialAllocatedSizeï¼Œ
			 æ‰€ä»¥InitialAllocatedSizeçš„å£°æ˜å¿…é¡»å†™åœ¨AllocatedSizeå‰é¢
		*/</code></pre></li></ul><h3 id="4e46f31d-2503-423a-b16d-b623374bda53" class="block-color-blue_background">ç±»çš„é™æ€æˆå‘˜</h3><ul id="2c9a383f-bc94-419b-8174-981a43419136" class="bulleted-list"><li style="list-style-type:disc">ç±»çš„é™æ€æˆå‘˜ï¼šé™æ€æˆå‘˜å˜é‡<strong>ä¸èƒ½åœ¨ç±»å†…éƒ¨åˆå§‹åŒ–</strong><blockquote id="aca35e21-be79-496f-aa74-fe3c60ee443d" class="block-color-gray_background">å› ä¸ºé™æ€æˆå‘˜å˜é‡ï¼Œä¸æ™®é€šæˆå‘˜å˜é‡ä¸åŒï¼Œä¸æ˜¯ä¸ç±»çš„æ¯ä¸ªå®ä¾‹ç›¸å…³è”çš„ï¼Œè€Œæ˜¯ä¸ç±»æœ¬èº«ç›¸å…³è”ã€‚è¿™æ„å‘³ç€é™æ€æˆå‘˜å˜é‡åœ¨æ‰€æœ‰ç±»å®ä¾‹ä¹‹é—´å…±äº«ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä»½å†…å­˜å‰¯æœ¬ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œé™æ€æˆå‘˜éœ€è¦åœ¨ç±»å®šä¹‰ä¹‹å¤–å•ç‹¬å®šä¹‰å’Œåˆ†é…å­˜å‚¨ç©ºé—´ã€‚</blockquote><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="466fdf68-205a-41c6-a1d8-ec44bc82c66b" class="code"><code class="language-C++">// MyClass.h
class MyClass {
public:
    static int staticMember; // å£°æ˜
};

// MyClass.cpp
int MyClass::staticMember = 0; // å®šä¹‰å’Œåˆå§‹åŒ–</code></pre></li></ul><h3 id="a4dd4546-781f-4e66-8505-78db2c4d8182" class="block-color-blue_background">åœ¨ç±»ä¸­å¯é‡è½½çš„è¿ç®—ç¬¦</h3><figure id="df7f8e0e-f0fb-4258-8d26-596ea821eebd" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-11_21.50.44.png"><img style="width:384px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-11_21.50.44.png"/></a></figure><ul id="97123422-a64b-4e2d-9689-23c83cc8fcf2" class="bulleted-list"><li style="list-style-type:disc">å½“ä½¿ç”¨ä»»ä½•è¿ç®—ç¬¦æ—¶<mark class="highlight-red"><strong>æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è°ƒç”¨è¿™ä¸ªè¿ç®—ç¬¦å¯¹åº”çš„æˆå‘˜å‡½æ•°</strong></mark><mark class="highlight-default">ï¼ˆæˆ–è€…æ˜¯åœ¨å¤–éƒ¨å®šä¹‰çš„å‹å…ƒå‡½æ•°æˆ–è€…å…¨å±€å‡½æ•°ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼‰ï¼Œ</mark><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><mark class="highlight-default">å› ä¸ºC++ä¸ºè¿ç®—ç¬¦å®ç°äº†ä¸“é—¨çš„è¯­æ³•ç³–</mark></a></strong>ã€‚ä¾‹å¦‚ï¼š<ul id="a4c045ec-01b2-49f9-996c-1cca771f1320" class="bulleted-list"><li style="list-style-type:circle">x1 + x2ï¼š<ul id="f753a0ed-5bc1-40cf-9390-df6ccb2f0bfe" class="bulleted-list"><li style="list-style-type:square">x1.operator+(x2)ï¼ˆæœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul><ul id="6f571321-67e3-4762-b6b1-2091efcf92ff" class="bulleted-list"><li style="list-style-type:square">operator+(x1, x2)ï¼ˆæ²¡æœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul></li></ul><ul id="414ed2fe-6851-4b12-8acb-201d4bddec21" class="bulleted-list"><li style="list-style-type:circle">++x1ï¼š<ul id="d9c1c8d2-9691-4490-859b-980fe342e750" class="bulleted-list"><li style="list-style-type:square">x1.operator++()ï¼ˆæœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul><ul id="d3dd9044-4d57-45c9-856e-3d21fdff28a7" class="bulleted-list"><li style="list-style-type:square">operator++(x1)ï¼ˆæ²¡æœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul></li></ul><ul id="16652bfd-1d63-4883-bd9c-bbf77e8bac8f" class="bulleted-list"><li style="list-style-type:circle">x1++ï¼š<ul id="801da318-811d-4ca8-a319-441518456fee" class="bulleted-list"><li style="list-style-type:square">operator++(x1, int)ï¼ˆæœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul><ul id="5ff94ae2-8cf2-4155-8956-764dc060e700" class="bulleted-list"><li style="list-style-type:square">x1.operator++(int)ï¼ˆæ²¡æœ‰å¯¹åº”çš„å¤–éƒ¨å‡½æ•°é‡è½½ï¼‰</li></ul><blockquote id="76437edd-3fda-4fb8-810f-22845e6b20a3" class="block-color-gray_background">é€šè¿‡åœ¨æ‹¬å·ä¸­åŠ å…¥intæ¥å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡ŒåŒºåˆ†ä»è€Œè¿›è¡Œé‡è½½</blockquote></li></ul><ul id="d2509ae8-f289-4d3c-8a92-b5093dba9b4e" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><strong>æœ‰ä¸€ä¸ªç‰¹ä¾‹ï¼Œå³â†’è¿ç®—ç¬¦</strong></mark>ï¼Œä¾‹å¦‚x1â†’valueï¼Œè°ƒç”¨çš„æ˜¯(x1.operatorâ†’())â†’valueï¼Œå³å¯¹äºâ†’è¿ç®—ç¬¦ï¼Œ<span style="border-bottom:0.05em solid"><strong>è¿”å›çš„å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</strong></span></li></ul></li></ul><h3 id="d50d75fe-39c8-4d84-b00f-b043a28fc156" class="block-color-blue_background">æˆå‘˜å‡½æ•°çš„å„ç§ä¿®é¥°ç¬¦ï¼šexplicitã€= defaultã€= deleteã€ =0</h3><ul id="a7bac144-fa91-481b-9040-ca89cf5c18c5" class="bulleted-list"><li style="list-style-type:disc"><strong><em><code>explicit</code></em></strong>å…³é”®å­—ï¼šç”¨äº<strong>é˜²æ­¢ç±»</strong><span style="border-bottom:0.05em solid"><strong>æ„é€ å‡½æ•°</strong></span><strong>çš„éšå¼è‡ªåŠ¨è½¬æ¢</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<span style="border-bottom:0.05em solid"><strong>å¦‚æœæ„é€ å‡½æ•°åªæ¥å—ä¸€ä¸ªå‚æ•°</strong></span>ï¼ŒC++å…è®¸ä¸ç»å£°æ˜ç›´æ¥å°†è¯¥ç±»å‹çš„å¯¹è±¡è½¬æ¢ä¸ºæ„é€ å‡½æ•°å‚æ•°ç±»å‹çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š<ul id="c5e4748b-f2c9-44ad-9688-c515e353a449" class="bulleted-list"><li style="list-style-type:circle"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">case1</a></li></ul><ul id="e741c202-c604-46e2-b162-0bb5bd40fcf2" class="bulleted-list"><li style="list-style-type:circle"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">case2</a></li></ul></li></ul><ul id="e5ab00c0-c9e5-43bd-a0cf-f6a29b898078" class="bulleted-list"><li style="list-style-type:disc">åœ¨æˆå‘˜å‡½æ•°åé¢åŠ ä¸Š<strong><code>= default</code></strong>æ—¶ï¼Œä¼šè®©ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°<blockquote id="4561da60-3227-4c8e-a0dd-e6ad3b1839c4" class="block-color-gray_background">æ›´å¤šçš„ä¿¡æ¯è§<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">è¿™é‡Œ</a></blockquote><ul id="cb3f7c72-dc63-4c42-964e-2c123b2c06c6" class="bulleted-list"><li style="list-style-type:circle">å½“è¦æ˜¾å¼åœ°ä½¿ç”¨<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">Rule of zero</a>æ—¶ï¼Œè¿™ä¸ªå…³é”®å­—å°±å¾ˆå¸¸ç”¨</li></ul></li></ul><ul id="33db5553-797b-4a75-bb0f-67ed07a99c0f" class="bulleted-list"><li style="list-style-type:disc">åœ¨æˆå‘˜å‡½æ•°åé¢åŠ ä¸Š<strong><code>= delete</code></strong>æ—¶ï¼Œè¡¨ç¤ºæŒ‡å‡ºè¿™äº›å‡½æ•°ä¸åº”è¯¥è¢«ä½¿ç”¨ï¼Œä¾‹å¦‚ä»¥ä¸‹åœºæ™¯å¯èƒ½ä¼šç”¨åˆ°è¿™ä¸ªéœ€æ±‚ï¼š<ul id="a0aaa9ce-8766-423d-97db-b04792280a54" class="bulleted-list"><li style="list-style-type:circle">é˜²æ­¢å¯¹è±¡æ‹·è´ï¼ˆè§¦å‘æ‹·è´æ„é€ å‡½æ•°ï¼‰</li></ul><ul id="4532dbf8-fb0c-4999-aa72-fce2f6d5a84a" class="bulleted-list"><li style="list-style-type:circle">ç¦ç”¨ä¸åˆé€‚çš„é‡è½½</li></ul><ul id="e044a516-2412-40ee-ad6a-f17958fb7f74" class="bulleted-list"><li style="list-style-type:circle">æ›¿ä»£ç§æœ‰æœªå®šä¹‰å‡½æ•°<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e30beea8-1f6c-42a7-aed9-262cc18b6e93" class="code"><code class="language-C++">// C++11ä¹‹å‰çš„æ–¹å¼
class OldStyleNonCopyable {
private:
    OldStyleNonCopyable(const OldStyleNonCopyable&amp;);
    OldStyleNonCopyable&amp; operator=(const OldStyleNonCopyable&amp;);
};

// C++11åŠä»¥å
class ModernNonCopyable {
public:
    ModernNonCopyable(const ModernNonCopyable&amp;) = delete;
    ModernNonCopyable&amp; operator=(const ModernNonCopyable&amp;) = delete;
};</code></pre><ul id="b051c107-1f27-4cf6-8db9-2bb3e4a59070" class="bulleted-list"><li style="list-style-type:square">åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸æŒ‡å‡ºå‚æ•°åã€‚ä½†å¦‚æœå³å£°æ˜åˆè¦å®šä¹‰ï¼Œåˆ™å¿…é¡»æŒ‡å‡ºå‚æ•°åã€‚</li></ul></li></ul></li></ul><ul id="6850831a-f491-41e5-bcb8-60a73d5a8a11" class="bulleted-list"><li style="list-style-type:disc">åœ¨æˆå‘˜å‡½æ•°åé¢åŠ ä¸Š= 0æ—¶ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><strong>çº¯è™šå‡½æ•°</strong></a></li></ul><h3 id="27a16453-a22f-4e50-976f-39154bfdbe5b" class="block-color-blue_background">ç±»çš„åˆå§‹åŒ–åˆ—è¡¨ï¼šå‡å°‘overhead</h3><ul id="1ad0d384-9916-4254-b4b8-3bd41c292daf" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>åˆå§‹åŒ–åˆ—è¡¨</strong></span>ï¼š<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>ä¸€ç§</strong></span></mark><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>ä¸“ç”¨äºç±»æ„é€ å‡½æ•°</strong></span></mark><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>çš„è¯­æ³•</strong></span></mark></li></ul><ul id="0e926bb6-2458-47fc-938b-f3b3a9435cb6" class="bulleted-list"><li style="list-style-type:disc">å¯¹äºç±»ä¸­æ¯ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå‡å¦‚åœ¨ç±»ä¸­å®šä¹‰æ—¶æœ‰ä¸€éƒ¨åˆ†æˆå‘˜å˜é‡å·²ç»ç»™äº†åˆå€¼ï¼Œé‚£ä¹ˆ<strong>åœ¨è¿›å…¥åˆ°è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°ä¹‹å‰ï¼ˆåŒ…æ‹¬åœ¨è¿›å…¥åˆ°æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¹‹å‰ï¼‰ï¼Œè¿™éƒ¨åˆ†æˆå‘˜å˜é‡å°±å·²ç»è¢«èµ‹äºˆäº†åˆå€¼</strong>ã€‚<br/>å¯¹äºé‚£äº›åœ¨ç±»ä¸­å®šä¹‰ï¼Œä½†æ˜¯<br/><span style="border-bottom:0.05em solid"><strong>æ²¡æœ‰èµ‹äºˆåˆå€¼çš„æˆå‘˜å˜é‡</strong></span>ï¼Œåœ¨è¿›å…¥æ„é€ å‡½æ•°ä¹‹å‰ï¼Œå®ƒä¼š<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å…ˆæ‰§è¡Œä»£ç å—å‰é¢çš„åˆå§‹åŒ–åˆ—è¡¨</strong></span></mark>ï¼Œä¾‹å¦‚ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3c37eebe-9c26-4b82-a6a7-336fcf30ed00" class="code"><code class="language-C++">#include &quot;StrVector.h&quot;

StrVector::StrVector():  /* æ³¨æ„ï¼šåˆå§‹åŒ–åˆ—è¡¨ä¹‹å‰æœ‰ä¸€ä¸ªå†’å·: */
		// æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨
    LogicalSize{0},
    AllocatedSize{InitialAllocatedSize}
{
    elems = new std::string[AllocatedSize];
}</code></pre><p id="768d21ce-cda2-4359-b3a1-e66c45c9d30d" class=""><mark class="highlight-default"><strong>å‡å¦‚è¿™äº›</strong></mark><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>æ²¡æœ‰åˆå€¼çš„æˆå‘˜å˜é‡</strong></span></mark><mark class="highlight-red"><strong>ä»ç„¶æ²¡æœ‰åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–</strong></mark><mark class="highlight-default"><strong>ï¼Œé‚£ä¹ˆ</strong></mark><mark class="highlight-red"><strong>ç¼–è¯‘å™¨å°±ä¼šè°ƒç”¨è¿™äº›æˆå‘˜å˜é‡é»˜è®¤çš„æ„é€ å‡½æ•°ä½œä¸ºåˆå€¼</strong></mark><mark class="highlight-default"><strong>ï¼Œç„¶å</strong></mark><mark class="highlight-red"><strong>å†è¿›å…¥æ„é€ å‡½æ•°çš„ä»£ç ä¸»ä½“</strong></mark><mark class="highlight-default"><strong>ï¼›</strong></mark><div class="indented"><blockquote id="df06d473-3c43-4e80-85bb-131edff1ea7b" class="block-color-gray_background"><mark class="highlight-default">å¦‚æœåˆå§‹åŒ–åˆ—è¡¨ä¸ºç©ºï¼Œå°±è¡¨ç¤ºä¸åšä»»ä½•åˆå§‹åŒ–æ“ä½œ</mark></blockquote></div></p><p id="1eff2ceb-ef1c-4ed5-9700-9ce98c2cfe35" class="">å› æ­¤ï¼Œ<span style="border-bottom:0.05em solid"><strong>å°½é‡æŠŠæ²¡æœ‰åˆå€¼çš„æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œ</strong></span>ï¼Œ<mark class="highlight-red"><strong>å¦åˆ™ä¼š</strong></mark><span style="border-bottom:0.05em solid"><mark class="highlight-red"><strong>é¢å¤–è°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°å’Œä¸€æ¬¡ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</strong></mark></span>ï¼Œä¾‹å¦‚å°†ä¸Šè¿°ä»£ç æ”¹ä¸ºï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="92382aa8-dfec-40b8-be89-ba0c10b991bb" class="code"><code class="language-C++">#include &quot;StrVector.h&quot;

StrVector::StrVector():
		// æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨
    LogicalSize{0}, 
    AllocatedSize{InitialAllocatedSize}, 
    elems{new std::string[AllocatedSize]} 
{
    ;
}</code></pre></li></ul><ul id="3adf3576-8377-417b-a60f-3ec401f714ac" class="bulleted-list"><li style="list-style-type:disc">å°¤å…¶æ˜¯å¯¹äºæŸäº›è‡ªå®šä¹‰çš„ç±»ï¼Œ<strong>å½“è¿™ä¸ªç±»çš„æ„é€ å‡½æ•°æœ‰å¾ˆå¤§çš„å¼€é”€æ—¶</strong>ï¼Œå°†åˆå§‹åŒ–è¯­å¥å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œä¼š<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æ˜¾è‘—æå‡æ€§èƒ½</strong></span></mark>ï¼ˆå› ä¸ºå¯ä»¥å‡å°‘ä¸€æ¬¡æ„é€ å‡½æ•°çš„å¼€é”€ï¼‰ä¾‹å¦‚ä»¥ä¸‹ä»£ç ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5c7e8f14-b77a-41e7-917b-5dbe67fb77b8" class="code"><code class="language-C++">#include &lt;iostream&gt;

// å‡è®¾ ExpensiveToCopy æ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹çš„ç±»
class ExpensiveToCopy {
public:
    ExpensiveToCopy() {
        std::cout &lt;&lt; &quot;Expensive construction&quot; &lt;&lt; std::endl;
        // å‡è®¾è¿™é‡Œæœ‰æ˜‚è´µçš„èµ„æºåˆ†é…
    }

    ExpensiveToCopy(const ExpensiveToCopy&amp;) {
        std::cout &lt;&lt; &quot;Expensive copy construction&quot; &lt;&lt; std::endl;
        // å‡è®¾æ‹·è´å¤åˆ¶ä¹Ÿå¾ˆæ˜‚è´µ
    }

    ExpensiveToCopy(ExpensiveToCopy&amp;&amp;) noexcept {
        std::cout &lt;&lt; &quot;Cheap move construction&quot; &lt;&lt; std::endl;
        // ç§»åŠ¨æ„é€ é€šå¸¸è¾ƒä¾¿å®œ
    }

    ExpensiveToCopy&amp; operator=(const ExpensiveToCopy&amp;) {
        std::cout &lt;&lt; &quot;Expensive copy assignment&quot; &lt;&lt; std::endl;
        // å®šä¹‰å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦
        return *this;
    }

    ExpensiveToCopy&amp; operator=(const ExpensiveToCopy&amp;&amp;) {
        std::cout &lt;&lt; &quot;Cheap copy assignment&quot; &lt;&lt; std::endl;
        // å®šä¹‰å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦
        return *this;
    }
};

// Container åŒ…å« ExpensiveToCopy å¯¹è±¡
class Container {
public:
    // ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨
    Container() : expensiveMember() {
        // æˆå‘˜å·²ç»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¢«æ„é€ 
				// æ³¨æ„ï¼šexpensiveMember()æ˜¯ä¸€ä¸ªåˆ—è¡¨åˆå§‹åŒ–è¯­å¥ä¸­ä¸“ç”¨çš„è¯­æ³•(ä¹Ÿå¯ä»¥ç”¨èŠ±æ‹¬å·ï¼šexpensiveMember{})
				//+     å®ƒä¼šè°ƒç”¨expensiveMemberå¯¹åº”ç±»ï¼ˆExpensiveToCopyï¼‰çš„
				//+     æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–expensiveMember
    }

    // ä¸ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨
    Container(bool dummy) {
        // æ³¨æ„ï¼Œè¿™é‡Œçš„ExpensiveToCopy()æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥è§¦å‘ç§»åŠ¨è¯­ä¹‰
        expensiveMember = ExpensiveToCopy();
    }

private:
    ExpensiveToCopy expensiveMember;
};

int main() {
    std::cout &lt;&lt; &quot;Creating Container with initialization list:&quot; &lt;&lt; std::endl;
    Container withInitList;

    std::cout &lt;&lt; &quot;\nCreating Container without initialization list:&quot; &lt;&lt; std::endl;
    Container withoutInitList(true);

    return 0;
}

/* 
&gt;&gt;&gt; Creating Container with initialization list:
&gt;&gt;&gt; Expensive construction

&gt;&gt;&gt; Creating Container without initialization list:
&gt;&gt;&gt; Expensive construction
&gt;&gt;&gt; Expensive construction
&gt;&gt;&gt; Cheap copy assignment

å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œä¼šé¢å¤–è°ƒç”¨ä¸€æ¬¡æ„é€ å‡½æ•°å’Œä¸€æ¬¡ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦
*/</code></pre></li></ul><h3 id="bb68256c-f80d-49c5-94ba-84d01d6a3272" class="block-color-blue_background">åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­ä½¿ç”¨å§”æ‰˜æ„é€ å‡½æ•°ï¼ˆDelegating Constructorï¼‰</h3><ul id="a0c07ca4-e522-4a22-9b45-e7eec774eb7e" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++ä¸­ï¼Œå§”æ‰˜æ„é€ å‡½æ•°ï¼ˆDelegating Constructorï¼‰æ˜¯ä¸€ç§<span style="border-bottom:0.05em solid"><strong>åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°ä¸­è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°çš„æ–¹å¼</strong></span>ã€‚è¿™ä¸ªç‰¹æ€§åœ¨C++11ä¸­è¢«å¼•å…¥ï¼Œå…è®¸æ„é€ å‡½æ•°ä¹‹é—´çš„ä»£ç é‡ç”¨ï¼Œé¿å…é‡å¤ç¼–å†™åˆå§‹åŒ–ä»£ç ï¼Œä»è€Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤</li></ul><ul id="621f51cc-94e4-4079-b321-700a42b6bcc8" class="bulleted-list"><li style="list-style-type:disc">å§”æ‰˜æ„é€ å‡½æ•°<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>é€šè¿‡åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°</strong></span></mark>æ¥å®ç°ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e6d01b8d-efcd-453e-bab3-9bea533e0c20" class="code"><code class="language-C++">class MyClass {
public:
    // å§”æ‰˜æ„é€ å‡½æ•°
    MyClass(int x) : value(x) {
        // å…¶ä»–åˆå§‹åŒ–é€»è¾‘
    }

    // å§”æ‰˜ç»™MyClass(int x)
    MyClass() : MyClass(0) {}

private:
    int value;
};</code></pre><ul id="365a1693-49ac-4c19-a660-8a120a40703c" class="bulleted-list"><li style="list-style-type:circle">âš ï¸ï¼š<strong>å§”æ‰˜å…³ç³»ä¸èƒ½å½¢æˆé—­ç¯</strong>ï¼Œå³ä¸èƒ½å‡ºç°Aå§”æ‰˜ç»™Bï¼ŒBå§”æ‰˜ç»™Cï¼ŒCå†å§”æ‰˜ç»™Aè¿™æ ·çš„æƒ…å†µã€‚</li></ul></li></ul><h3 id="9dc9b247-f82a-4ba5-a346-acae27b16d66" class="block-color-blue_background">åœ¨ç±»ä¸­é€šè¿‡ç»“æ„ä½“å®šä¹‰ä¸€ä¸ªå˜é‡</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="410cb2db-68db-4d63-ac9a-37247bf53ea4" class="code"><code class="language-C++">class HashMap {
public:
...

private:
    struct node {  // å®šä¹‰ä¸€ä¸ªnodeç±»å‹
        value_type value;
        node* next;

        node(const value_type&amp; value = value_type(), node* next = nullptr) :
            value(value), next(next) {}
    };

    using node_pair = std::pair&lt;typename HashMap::node*, typename HashMap::node*&gt;;
...

}</code></pre><h3 id="0d2661a8-ef4b-4915-ad83-8001c3d73f30" class="block-color-blue_background">ç±»ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°åŠå…¶é«˜æ•ˆå®ç°</h3><p id="e9b5a691-db4d-4047-907a-6f1f0fdd8f72" class=""> </p><h3 id="9c578917-a628-4b1f-a578-d65e7db2a77b" class="block-color-blue_background"><strong>åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°ï¼šç”¨äº</strong>è‡ªå®šä¹‰ç±»çš„èŠ±æ‹¬å·åˆå§‹åŒ–</h3><ul id="4a239e8a-de14-43f5-8f86-c9812829d917" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>å¯¹äºè‡ªå®šä¹‰ç±»ï¼Œå¦‚æœæƒ³è¦å®ç°</strong></span><span style="border-bottom:0.05em solid"><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">èŠ±æ‹¬å·åˆå§‹åŒ–ï¼ˆåˆ—è¡¨åˆå§‹åŒ–ï¼‰</a></strong></span><span style="border-bottom:0.05em solid"><strong>ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼</strong></span>ï¼š<ul id="c65a1afc-2a70-41ec-b6c3-028d4d28e91d" class="bulleted-list"><li style="list-style-type:circle"><strong>åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="61396b5a-4870-40ce-9c0b-5c2b366b26bb" class="code"><code class="language-C++">#include &lt;initializer_list&gt;

class MyClass {
public:
    MyClass(std::initializer_list&lt;int&gt; initList) {  
        // ä¸“é—¨ç”¨äºåˆ—è¡¨åˆå§‹åŒ–çš„åˆ—è¡¨æ„é€ å‡½æ•°é‡è½½
        // ä½¿ç”¨ initList åˆå§‹åŒ– MyClass
        // std::initializer_listå¯ä»¥ç†è§£ä¸ºå°±æ˜¯ä¸€ä¸ªvector
        // åªä¸è¿‡ä¸ºäº†ä¸“é—¨å®šä¹‰ä¸€ä¸ªåˆ—è¡¨åˆå§‹åŒ–çš„æ„é€ å‡½æ•°é‡è½½ï¼Œå°±éœ€è¦ä¸“é—¨å®šä¹‰ä¸€ä¸ªæ•°æ®ç»“æ„std::initializer_list
    }
};</code></pre><p id="f6e8e8f0-31fd-46c7-915d-93e4c54f2122" class=""><code>std::vector</code>å°±å®ç°äº†åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°ï¼Œå› æ­¤<code>vector&lt;int&gt; vec(3)</code>å’Œ<code>vector&lt;int&gt; vec{3}</code>è°ƒç”¨çš„æ˜¯ä¸åŒçš„é‡è½½æ„é€ å‡½æ•°æ–¹æ³•ã€‚</p></li></ul><ul id="3c74b372-5c29-418a-ab48-1805291b59ce" class="bulleted-list"><li style="list-style-type:circle"><strong>å®ç°å¯¹åº”ç±»å‹çš„æ„é€ å‡½æ•°</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9c869e96-e42c-4480-a72c-757dd6baee00" class="code"><code class="language-C++">class MyClass {
public:
    MyClass(int a, int b) {
        // ä½¿ç”¨ a å’Œ b åˆå§‹åŒ– MyClass
    }
};

MyClass obj {10, 20};</code></pre><p id="6d99127e-841f-4fd2-aecf-132eccf297b4" class="">ç¼–è¯‘å™¨ä¼šå°è¯•å¯»æ‰¾æœ€åŒ¹é…çš„æ„é€ å‡½æ•°ï¼ˆ<span style="border-bottom:0.05em solid"><strong>ä¼˜å…ˆä»åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°æ‰¾</strong></span>ï¼Œç„¶åå†ä»æ™®é€šçš„é‡è½½æ„é€ å‡½æ•°å¼€å§‹æ‰¾ï¼‰ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šé€‰æ‹©ä¸€ä¸ªæ¥å—åˆå§‹åŒ–å™¨åˆ—è¡¨çš„æ„é€ å‡½æ•°ã€‚</p><blockquote id="b51d5c18-092f-48ed-9402-bce1244f8824" class="block-color-gray_background">æ‰€ä»¥ä¹Ÿå°±çŸ¥é“äº†åˆ°<strong>èŠ±æ‹¬å·åˆå§‹åŒ–å’Œæ™®é€šçš„åˆå§‹åŒ–åœ¨æµç¨‹ä¸Šçš„åŒºåˆ«</strong>ï¼šä½¿ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¼˜å…ˆä»åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°å¼€å§‹åŒ¹é…ï¼Œå†ä»ä¸€èˆ¬çš„é‡è½½æ„é€ å‡½æ•°å¼€å§‹åŒ¹é…ï¼›è€Œæ™®é€šçš„çš„åˆå§‹åŒ–ç›´æ¥ä»ä¸€èˆ¬çš„é‡è½½æ„é€ å‡½æ•°å¼€å§‹åŒ¹é…<br/><br/><br/><span style="border-bottom:0.05em solid"><strong>æ‰€ä»¥èŠ±æ‹¬å·åˆå§‹åŒ–çš„é€‚ç”¨èŒƒå›´è¿˜æ¯”æ™®é€šçš„åˆå§‹åŒ–è¦å¤§</strong></span>ï¼ˆå¤šäº†åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°å¯ä»¥åŒ¹é…ï¼‰</blockquote></li></ul></li></ul><h3 id="d2b0d455-3dd8-41a4-a271-1ab9c118e08a" class="block-color-blue_background">caseï¼šä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰ç±»</h3><p id="2d97eed9-4460-420a-b686-06b1307fc169" class="">ç±»å£°æ˜ï¼šStrVector.h</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4281bb81-7f1a-49d7-b9fb-07826d2bcf35" class="code"><code class="language-C++">/*  StrVector.h */
#ifndef STRVECTOR_H
#define STRVECTOR_H 1

#include &lt;iostream&gt;
#include &lt;string&gt;

class StrVector {
public:
    using iterator = std::string*;
    using head = std::string*;
    using size_type = std::size_t;

    StrVector();
    StrVector(size_type n, const std::string&amp; val);
    ~StrVector();  // ææ„å‡½æ•°

    bool empty()      const;
    size_type size()  const;  // ç”±äºLogicalSizeæ˜¯privateå˜é‡ï¼Œæ‰€ä»¥å¿…é¡»å®šä¹‰ä¸€ä¸ªå–å€¼å‡½æ•°
    iterator  begin() const;
    iterator  end()   const;

    std::string&amp; operator[](size_type idx);

    iterator insert(iterator pos, const std::string&amp; val);
    void push_back(const std::string&amp; val);

private:
    head elems;
    const size_type InitialAllocatedSize = 2;
    const size_type IncrementFactor = 2;
    size_type LogicalSize;
    size_type AllocatedSize;

    void grow();
};

#endif</code></pre><p id="be030878-658c-4275-bf04-692cb044d1bc" class="">ç±»å®šä¹‰ï¼šStrVector.cpp</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ae3a0774-88d3-4ee2-a907-73ab8bda843d" class="code"><code class="language-C++">#include &quot;StrVector.h&quot;

StrVector::StrVector():
    // æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨
    LogicalSize{0}, 
    AllocatedSize{InitialAllocatedSize}
{
    elems = new std::string[AllocatedSize];
}

StrVector::StrVector(StrVector::size_type n, const std::string&amp; val):
    LogicalSize{n}, AllocatedSize{IncrementFactor * n}
{
    elems = new std::string[AllocatedSize];
    std::fill(begin(), end(), val);
}

StrVector::~StrVector() {
    delete[] elems;
}

bool StrVector::empty() const {
    return size() == 0;
}

StrVector::size_type StrVector::size() const{
    return LogicalSize;
}

// ...</code></pre><ul id="0f66f61d-77cf-422e-b895-e00e98056f1d" class="bulleted-list"><li style="list-style-type:disc">å½“ç”¨<code>const</code>ä¿®é¥°ä¸€ä¸ªç±»æˆå‘˜å‡½æ•°æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªæˆå‘˜æ–¹æ³•ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€</li></ul><ul id="3ffbdf66-6232-4e69-896f-e2d3ef776cd3" class="bulleted-list"><li style="list-style-type:disc"><code>StrVector(); StrVector(size_type n, const std::string&amp; val);</code>éƒ½æ˜¯æ„é€ å‡½æ•°ï¼ˆæ„é€ å‡½æ•°åœ¨å®šä¹‰æ—¶å¯ä»¥æœ‰ä¸“é—¨çš„<strong>åˆå§‹åŒ–åˆ—è¡¨è¯­å¥</strong>ï¼‰</li></ul><ul id="a136993a-f90c-4523-9207-78f1c099155c" class="bulleted-list"><li style="list-style-type:disc"><code>~StrVector()</code>æ˜¯ææ„å‡½æ•°å½“ä½¿ç”¨deleteé‡Šæ”¾å¯¹è±¡æ—¶ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</li></ul><h2 id="0e168ba7-3533-4512-a594-ff4fe615cc5e" class="block-color-orange_background">ç±»è¿›é˜¶ï¼šç±»ä¸­ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼ˆé«˜æ•ˆå®ç°ï¼‰</h2><figure id="e4573398-ea96-47c4-81fc-4cf0f7715c20" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-14_20.47.42.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-14_20.47.42.png"/></a></figure><ul id="707cc8ac-af52-4cf2-9af0-17d3a6ca1f1f" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++çš„ç±»ä¸­ä¸€å…±æœ‰6ç±»ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼ˆSPFï¼ŒSpecial Member Functionï¼‰<ul id="3f55d8cd-94c1-4777-89f2-c0dee4f9d333" class="bulleted-list"><li style="list-style-type:circle">æ„é€ å‡½æ•°</li></ul><ul id="4fef2e3c-0188-4e65-80c3-a162bc436da3" class="bulleted-list"><li style="list-style-type:circle">ææ„å‡½æ•°</li></ul><ul id="79951716-908c-40f2-8274-6dd7d3e9f614" class="bulleted-list"><li style="list-style-type:circle">æ‹·è´æ„é€ å‡½æ•°</li></ul><ul id="824476da-b19a-4d1e-814c-c4137af72efc" class="bulleted-list"><li style="list-style-type:circle">èµ‹å€¼è¿ç®—ç¬¦</li></ul><ul id="e8de126a-c8ec-4b00-a1a6-edf9092a4dbe" class="bulleted-list"><li style="list-style-type:circle">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°</li></ul><ul id="3cead3fb-0319-431d-aa83-53b6cb2af99e" class="bulleted-list"><li style="list-style-type:circle">ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</li></ul></li></ul><ul id="e9f09e4e-e489-44c7-a5e5-5f4410881443" class="bulleted-list"><li style="list-style-type:disc"><code>vector&lt;int&gt; vec</code>å’Œ<code>vector&lt;int&gt; vec{}</code> è°ƒç”¨çš„éƒ½æ˜¯æ— å‚æ•°çš„æ„é€ å‡½æ•°</li></ul><ul id="dd683ce6-ed03-45b2-bb9c-2f575a831bfc" class="bulleted-list"><li style="list-style-type:disc"><code>vector&lt;int&gt; vec{vec1 + vec2}</code>è°ƒç”¨çš„æ˜¯æ‹·è´æ„é€ å‡½æ•°</li></ul><h3 id="2c7eafa6-9f32-46d7-81d4-7288ede362b0" class="block-color-blue_background">å®ç°æ„é€ å‡½æ•°çš„ä¸€ä¸ªtrickï¼šä½¿ç”¨é»˜è®¤å€¼</h3><ul id="3af769d6-0e73-4600-92a4-9477a930db56" class="bulleted-list"><li style="list-style-type:disc">é€šè¿‡åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨é»˜è®¤å€¼å¯ä»¥å®ç°å¤šç§æƒ…å†µä¸‹çš„æ„é€ å‡½æ•°ï¼Œä»è€Œä½¿ä»£ç æ›´åŠ ç´§å‡‘<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5b5c0507-3007-490f-bb83-d1bfcf4844ff" class="code"><code class="language-C++">class MyClass {
public:
    int data;
    MyClass* next;

    // æ„é€ å‡½æ•°ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œç›¸å½“äºå®ç°äº†4ç§ç±»å‹çš„æ„é€ å‡½æ•°
    MyClass(int data = 0, MyClass* next = nullptr) : data(data), next(next) {}
};</code></pre></li></ul><h3 id="66c0774b-9dfe-4572-ab54-9f4722411c88" class="block-color-blue_background">æ‹·è´æ„é€ å‡½æ•°</h3><ul id="c214063a-a010-4efe-9bcf-8060a22bad40" class="bulleted-list"><li style="list-style-type:disc">å½“ä»¥ä¸‹æƒ…å†µå‘ç”Ÿæ—¶ï¼Œä¼šè°ƒç”¨<span style="border-bottom:0.05em solid"><strong>æ‹·è´æ„é€ å‡½æ•°</strong></span><ul id="440aeb09-c3ef-4616-aa7f-f1b362e0ddb0" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡ä½¿ç”¨å¦ä¸€ä¸ªåŒç±»å‹çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="04ce7603-623d-4344-8da0-bca82be96d21" class="code"><code class="language-C++">vector&lt;int&gt; foo = {1, 2, 3};
vector&lt;int&gt; bar{foo};</code></pre></li></ul><ul id="f0e83118-8623-4567-a169-586d0cadf27a" class="bulleted-list"><li style="list-style-type:circle">å¯¹è±¡è¢«ä½œä¸ºå‡½æ•°å‚æ•°<strong>æŒ‰å€¼ä¼ é€’</strong>ã€‚</li></ul><ul id="9f99dd73-44a9-4075-a241-979a448e0f8a" class="bulleted-list"><li style="list-style-type:circle">å‡½æ•°è¿”å›å¯¹è±¡æ—¶ï¼Œ<strong>æŒ‰å€¼è¿”å›</strong>ã€‚</li></ul><ul id="429c16b1-860c-42d5-acc4-2b7e09018559" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æ•°ç»„ä¸­çš„å¯¹è±¡ã€‚<blockquote id="81b19d60-1e26-460a-a174-6cffae02dedd" class="block-color-gray_background">ä¾‹å¦‚<code>Myclass obj[3] = {Myclass(..), Myclass(â€¦), Myclass(â€¦)}</code>æ—¶</blockquote></li></ul></li></ul><ul id="bc1f2c44-1026-470c-b75c-9d8af96c13b0" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>stdå®¹å™¨</strong></span><span style="border-bottom:0.05em solid">ï¼ˆå¦‚vectorï¼Œlistï¼Œmapï¼‰ä¸­çš„æ„é€ å‡½æ•°é€šå¸¸éƒ½å®ç°ä¸º</span><span style="border-bottom:0.05em solid"><strong>æ·±æ‹·è´</strong></span></li></ul><ul id="88e74596-f222-40ed-86b1-30f2787df457" class="bulleted-list"><li style="list-style-type:disc">è¯­æ³•ï¼šä¸æ„é€ å‡½æ•°ä¸€æ ·å®šä¹‰ä¸€ä¸ªç±»åŒåå‡½æ•°ï¼Œå‚æ•°ä¼ å…¥ä¸€ä¸ªç›¸åŒçš„ç±»å®ä¾‹ï¼ˆå¹¶ä¸”é€šå¸¸éƒ½ä¼šç”¨<code>const</code>+<code>&amp;</code>è¿›è¡Œä¿®é¥°ï¼‰</li></ul><ul id="ccdc9f2d-eae9-42d1-b063-8eb3b269df0e" class="bulleted-list"><li style="list-style-type:disc"><strong><mark class="highlight-red">ä¸€ä¸ªæ‹·è´æ„é€ å‡½æ•°çš„case</mark></strong>ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="313b0acb-554f-4087-be6c-dc65a3a94c81" class="code"><code class="language-C++">class ComplexClass {
    char *data;

public:
    // æ„é€ å‡½æ•°
    ComplexClass(const char *str) {
        data = new char[strlen(str) + 1];
        strcpy(data, str);
    }

    // æ‹·è´æ„é€ å‡½æ•°(æ·±æ‹·è´)
    ComplexClass(const ComplexClass &amp;other) {
        data = new char[strlen(other.data) + 1];
        strcpy(data, other.data);
    }
};</code></pre></li></ul><ul id="b16f9592-4f2a-4e91-af49-c198493f5973" class="bulleted-list"><li style="list-style-type:disc">æ‹·è´æ„é€ å‡½æ•°åœ¨<strong>å¯¹è±¡è¢«åˆ›å»ºæ—¶</strong>è°ƒç”¨ï¼Œä¾‹å¦‚<code><strong>MyClass obj1 = obj2;</strong></code>ï¼Œæˆ–åœ¨å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ä¸­ä¼ é€’å¯¹è±¡æ—¶ï¼ˆå€¼ä¼ é€’ï¼‰<ul id="be4e2fec-a788-49fc-a58b-dc9ff63501f2" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>æ³¨æ„ä¸èµ‹å€¼è¿ç®—ç¬¦çš„åŒºåˆ«</strong></span>ï¼Œèµ‹å€¼è¿ç®—ç¬¦åœ¨å¯¹è±¡å·²ç»å­˜åœ¨æ—¶ç”¨äºæ›´æ–°å…¶å†…å®¹ã€‚</li></ul></li></ul><h3 id="8c67d29b-57b2-4c1f-aad4-106226062623" class="block-color-blue_background">èµ‹å€¼è¿ç®—ç¬¦é‡è½½</h3><ul id="c39ffcce-3a5e-45e3-9eab-350fe1501827" class="bulleted-list"><li style="list-style-type:disc">é€šè¿‡åœ¨ç±»ä¸­é‡è½½<strong><code>operator=</code></strong>æ¥å®ç°</li></ul><ul id="8b9db175-dcb5-44a0-9a4a-d92c71b720b6" class="bulleted-list"><li style="list-style-type:disc">é€šå¸¸ä¼šè¿”å›ä¸€ä¸ªåŒæ ·çš„ç±»å®ä¾‹ï¼Œä»è€Œå®ç°<strong>é“¾å¼èµ‹å€¼</strong></li></ul><ul id="cb3e33bd-8ac5-4e0e-a54e-a321b77a942f" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>stdæ ‡å‡†å®¹å™¨</strong></span><span style="border-bottom:0.05em solid">ï¼ˆå¦‚vectorï¼Œlistï¼Œmapï¼‰é€šå¸¸éƒ½ä¼šæŠŠ</span><span style="border-bottom:0.05em solid"><strong><code>operator=</code></strong></span><span style="border-bottom:0.05em solid">å®ç°ä¸º</span><span style="border-bottom:0.05em solid"><strong>æ·±æ‹·è´</strong></span></li></ul><ul id="e44f3618-013f-4937-8bd0-e1198f55432d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>ä¸€ä¸ªå®ç°æ·±æ‹·è´operator=çš„case</strong></mark>ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3becdb6c-20d5-487e-83a3-0960f9008ab9" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;vector&gt;

class ComplexClass {
public:
    std::vector&lt;int&gt; data;

    // æ„é€ å‡½æ•°
    ComplexClass(const std::vector&lt;int&gt;&amp; vec) : data(vec) {}

    // æ‹·è´èµ‹å€¼è¿ç®—ç¬¦(æ·±æ‹·è´)
    ComplexClass&amp; operator=(const ComplexClass&amp; other) {
        if (this != &amp;other) {  // é˜²æ­¢è‡ªèµ‹å€¼ï¼ˆself-assignï¼‰
            data = other.data; // ç›´æ¥èµ‹å€¼ï¼Œstd::vectorè‡ªèº«ç®¡ç†æ·±æ‹·è´
        }
        return *this;  /** è¿”å›ä¸€ä¸ªåŒæ ·çš„ç±»å®ä¾‹ï¼Œå®ç°é“¾å¼èµ‹å€¼ 
        * thisæ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡æœ¬èº«çš„æŒ‡é’ˆï¼Œå› æ­¤*thisè¡¨ç¤ºå¯¹è±¡æœ¬èº«
        * è€ŒComplexClass&amp;è¡¨ç¤ºè¿”å›çš„æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ˆä¸æŒ‰å€¼ä¼ é€’ï¼‰ 
        */
    }
};</code></pre></li></ul><h3 id="b38b3a27-4b92-48fe-86ec-488259fdbb15" class="block-color-blue_background">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°ã€ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</h3><ul id="80246079-e9a1-4a85-8b30-f71e66965eb1" class="bulleted-list"><li style="list-style-type:disc">ä¸€ä¸ªä¾‹å­<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e5b6ac52-b860-43f4-bb5a-0c92e5eacb49" class="code"><code class="language-C++">class MyClass {
public:
    // ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°
    MyClass(MyClass&amp;&amp; other):
        _ptr{other._ptr},
        _array{std::move(other._array)}/** æ¥ç®¡otherçš„èµ„æºï¼Œ
         * å¹¶è‡ªåŠ¨ä½¿ç”¨std::vectoræä¾›çš„ç§»åŠ¨è¯­ä¹‰
         * åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–ï¼Œå‡å°‘ä¸å¿…è¦çš„overhead
         * æ³¨æ„ï¼šè™½ç„¶otheræ˜¯ä¸€ä¸ªå³å€¼ï¼Œä½†æ˜¯å–å‡ºotherçš„æˆå‘˜å˜é‡_arrayæ—¶
         * other._arrayä»ç„¶ä¼šè¢«è§†ä¸ºä¸€ä¸ªå·¦å€¼
         */
         ...
   {
        // å°†otherç½®äºæ— å®³çš„çŠ¶æ€ï¼ˆå‡å¦‚æœ‰æŒ‡é’ˆçš„è¯ï¼‰
        other._ptr = nullptr;
    }

		// ç§»åŠ¨èµ‹å€¼å‡½æ•°
		MyClass&amp; operator=(MyClass&amp;&amp; other) {  /*  &amp;&amp;ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå³å€¼ */
		    if (this != &amp;other) {
		        // æ¥ç®¡èµ„æº
		        _array = std::move(other._array);  // ç›´æ¥ä½¿ç”¨vectoræä¾›çš„æä¾›è¯­ä¹‰çš„èµ‹å€¼
            _ptr  = other._ptr;
		        // å°†æºå¯¹è±¡èµ„æºç½®ä¸ºæ— æ•ˆçŠ¶æ€
		        other._ptr = nullptr;
		    }
		    return *this; // ä¸èµ‹å€¼è¿ç®—ç¬¦åŒç†ï¼Œæœ€åreturnä¸€ä¸ª*thisï¼Œç”¨äºå®ç°é“¾å¼èµ‹å€¼
		}

private:
    std::vector&lt;SomeType&gt; _array;
    SomeType* _ptr;
};</code></pre><ul id="152dee05-f1f4-4a97-8c91-c81a446af5d8" class="bulleted-list"><li style="list-style-type:circle">å¯ä»¥çœ‹åˆ°ï¼Œæ‹·è´æ„é€ å‡½æ•°æ¯”ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°å¤šäº†ç”³è¯·å†…å­˜ï¼Œcopy by valueä¸¤ä¸ªæ“ä½œï¼Œå½“è¿™ä¸ªèµ„æºå¾ˆå¤§æ—¶ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ—¶é—´å¼€é”€éƒ½éå¸¸å¤§</li></ul><ul id="133687eb-eee4-4578-ba1d-709b4cbfce32" class="bulleted-list"><li style="list-style-type:circle">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°é’ˆå¯¹çš„æ˜¯<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å³å€¼</a>å¯¹è±¡</li></ul><ul id="40a37f24-eb2d-4b52-bea4-12ca8666fed8" class="bulleted-list"><li style="list-style-type:circle">ç§»åŠ¨æ‹·è´æ„é€ å…è®¸å¯¹è±¡çš„èµ„æºï¼ˆå¦‚åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼‰ä»ä¸€ä¸ªå¯¹è±¡è½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥æé«˜æ€§èƒ½ï¼ˆåœ¨ä¼ ç»Ÿçš„å¤åˆ¶æ„é€ å‡½æ•°ä¸­ï¼Œå¯¹è±¡çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«å¤åˆ¶ï¼Œè¿™ä¼šæ¶‰åŠå¤§é‡çš„èµ„æºåˆ†é…å’Œæ‹·è´æ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„ï¼‰</li></ul><ul id="c773bfd6-afdd-4674-bc0e-0fb9e51381d7" class="bulleted-list"><li style="list-style-type:circle">ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°çš„å·¥ä½œåŸç†æ˜¯æ¥ç®¡ï¼ˆ&quot;çªƒå–&quot;ï¼‰æºå¯¹è±¡çš„èµ„æºï¼ˆé€šè¿‡æ¥ç®¡æŒ‡é’ˆï¼‰ï¼Œç„¶åå°†æºå¯¹è±¡ç½®äºä¸€ä¸ªæœ‰æ•ˆä½†æœªå®šä¹‰çš„çŠ¶æ€ã€‚è¿™ç§æ–¹æ³•ä¸ä»…<span style="border-bottom:0.05em solid"><strong>é¿å…äº†ä¸å¿…è¦çš„æ‹·è´</strong></span>ï¼Œè¿˜èƒ½èŠ‚çº¦å†…å­˜å’Œå¤„ç†æ—¶é—´</li></ul></li></ul><ul id="7e71ca93-7475-4790-8384-ddebf7827fd3" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</strong></span>ï¼šç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ç”¨äº<strong>æ ¹æ®å³å€¼é‡æ–°èµ‹å€¼æŸä¸ªå·²å­˜åœ¨çš„å¯¹è±¡</strong><blockquote id="5bc48055-fe63-4281-8a7a-e4fb9048c285" class="block-color-gray_background">æ³¨æ„ä¸ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°çš„åŒºåˆ«ï¼Œç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°ç”¨äº<strong>æ ¹æ®å³å€¼åˆå§‹åŒ–æ–°å¯¹è±¡</strong></blockquote></li></ul><h3 id="72e137f4-ba28-49fb-8f37-b92c5be5d94d" class="block-color-blue_background">ç”±ç¼–è¯‘å™¨<strong>è‡ªåŠ¨ç”Ÿæˆï¼šé»˜è®¤æ„é€ å‡½æ•°ã€é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ã€é»˜è®¤æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ç­‰</strong></h3><ul id="8f5cdbbf-3900-4649-9a84-8a9b2dbd5989" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼šå¦‚æœä½ æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼‰ã€‚<ul id="1ea55f04-050b-4c1a-ab8d-243485fd3140" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœè¿™ä¸ªç±»æ²¡æœ‰åŸºç±»ï¼Œåˆ™é»˜è®¤çš„æ„é€ å‡½æ•°ä¸ä¼šåšä»»ä½•äº‹æƒ…ï¼›å¦‚æœæœ‰ï¼Œåˆ™è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°</li></ul></li></ul><ul id="91eda4e5-5587-4628-baf5-bb6e6c4acd89" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤æ‹·è´æ„é€ å‡½æ•°</strong>ï¼šå¦‚æœä½ æ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ã€‚<ul id="77dd9ee0-8518-4c7e-a56c-0192734dbed0" class="bulleted-list"><li style="list-style-type:circle">é»˜è®¤å®ç°çš„æ˜¯<mark class="highlight-red"><strong>æµ…æ‹·è´ç‰ˆæœ¬</strong></mark>ï¼ˆstdå®¹å™¨å®ç°çš„éƒ½æ˜¯æ·±æ‹·è´ç‰ˆæœ¬ï¼‰ï¼Œå³ï¼š<ul id="c5632908-5057-4be9-81a7-7bcec5c5b53d" class="bulleted-list"><li style="list-style-type:square"><strong>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼ˆå¦‚intã€doubleç­‰ï¼‰ï¼Œè¿™æ„å‘³ç€ç®€å•åœ°å¤åˆ¶å€¼ã€‚</li></ul><ul id="c9718f6a-ac29-48ae-ae51-00cd6634e41d" class="bulleted-list"><li style="list-style-type:square"><strong>å¯¹äºç±»ç±»å‹çš„æˆå‘˜</strong>ï¼Œ<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å¦‚æœæˆå‘˜æœ‰è‡ªå·±çš„æ‹·è´æ„é€ å‡½æ•°</strong></span></mark><strong>ï¼Œé‚£ä¹ˆä¼šè°ƒç”¨è¿™ä¸ªæˆå‘˜çš„æ‹·è´æ„é€ å‡½æ•°æ¥è¿›è¡Œå¤åˆ¶</strong>ã€‚ä½†æ˜¯ï¼Œ<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å¦‚æœæˆå‘˜æ˜¯æŒ‡é’ˆç±»å‹</strong></span></mark>ï¼Œåªæœ‰æŒ‡é’ˆå€¼ï¼ˆå†…å­˜åœ°å€ï¼‰è¢«å¤åˆ¶ï¼Œ<mark class="highlight-purple"><strong>æŒ‡å‘çš„å†…å­˜å†…å®¹ä¸ä¼šè¢«å¤åˆ¶</strong></mark>ã€‚è¿™å°±æ˜¯æ‰€è°“çš„&quot;æµ…æ‹·è´&quot;ã€‚</li></ul></li></ul><ul id="8984ed65-5186-409c-b1d2-72c247854e3d" class="bulleted-list"><li style="list-style-type:circle"><strong>å› æ­¤ï¼Œ</strong><mark class="highlight-purple"><strong>å¦‚æœè‡ªå®šä¹‰ç±»ä¸­</strong></mark><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æœ‰æŒ‡é’ˆç±»å‹</strong></span></mark><mark class="highlight-purple"><strong>ï¼Œå¹¶ä¸”æƒ³è¦å®ç°ä¸€ä¸ªæ·±æ‹·è´ç‰ˆæœ¬</strong></mark><strong>ï¼Œå°±</strong><span style="border-bottom:0.05em solid"><strong>å¿…é¡»è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°</strong></span>ï¼ˆå› ä¸ºé»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ä¸ä¼šcopyæŒ‡é’ˆå¯¹åº”çš„å†…å­˜ï¼Œè€ŒæŒ‡é’ˆç±»å‹æœ¬èº«çš„æ‹·è´æ„é€ å‡½æ•°ä¹Ÿä¸ä¼šæ‹·è´å¯¹åº”çš„å†…å­˜ï¼‰</li></ul></li></ul><ul id="fedb250c-b877-4397-ad1d-3bca43fb1e8a" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼šå¦‚æœä½ æ²¡æœ‰å®šä¹‰æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ã€‚<ul id="8e1ad937-8609-4f07-9fa1-432062ce4522" class="bulleted-list"><li style="list-style-type:circle">é»˜è®¤å®ç°çš„æ˜¯<mark class="highlight-red"><strong>æµ…æ‹·è´ç‰ˆæœ¬</strong></mark>ï¼ˆstdå®¹å™¨å®ç°çš„éƒ½æ˜¯æ·±æ‹·è´ç‰ˆæœ¬ï¼‰ï¼Œå«ä¹‰ä¸<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ä¹‹å‰</a>ç›¸åŒ</li></ul><ul id="7c21da04-1ba3-4638-91da-750644dcb58c" class="bulleted-list"><li style="list-style-type:circle">åŒç†ï¼Œå¦‚æœè‡ªå®šä¹‰ç±»ä¸­æœ‰æŒ‡é’ˆç±»å‹æ—¶ï¼Œ<strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ä¹Ÿè¦æ³¨æ„è¿™ç‚¹</a></strong></li></ul></li></ul><ul id="34bf017d-e706-4925-8335-89b2e3a8b755" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤ææ„å‡½æ•°</strong>ï¼šå¦‚æœä½ <em><span style="border-bottom:0.05em solid">æ²¡æœ‰å®šä¹‰ææ„å‡½æ•°</span></em>ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ææ„å‡½æ•°ã€‚</li></ul><ul id="574929c1-540e-45f0-8358-390ede980407" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼šå¦‚æœä½ æ²¡æœ‰å®šä¹‰ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆä¸”<span style="border-bottom:0.05em solid"><em>æ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°</em></span>ã€<span style="border-bottom:0.05em solid"><em>æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</em></span>ã€<span style="border-bottom:0.05em solid"><em>ææ„å‡½æ•°</em></span>ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</li></ul><ul id="3617222c-a041-4243-8a4c-7e70b2db67cc" class="bulleted-list"><li style="list-style-type:disc"><strong>é»˜è®¤ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼šå¦‚æœä½ æ²¡æœ‰å®šä¹‰ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆä¸”<span style="border-bottom:0.05em solid"><em>æ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°</em></span>ã€<span style="border-bottom:0.05em solid"><em>æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</em></span>ã€<span style="border-bottom:0.05em solid"><em>ææ„å‡½æ•°</em></span>ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šä¸ºä½ çš„ç±»ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚</li></ul><p id="525a31bd-d974-4a70-9543-d8d14dff8855" class="">âš ï¸ï¼šå¦‚æœå®šä¹‰äº†ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°æˆ–æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ã€‚åŒæ ·ï¼Œå¦‚æœå®šä¹‰äº†æ‹·è´æ„é€ å‡½æ•°æˆ–æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤çš„ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æ ¹æ®éœ€è¦æ˜¾å¼åœ°å®šä¹‰è¿™äº›å‡½æ•°ã€‚</p><h3 id="92ebcecb-e1ca-414a-a936-0f34d8556d29" class="block-color-blue_background">Rule of zeroã€Rule of five</h3><ul id="5822838d-3821-4ef1-8fba-943c57e92a88" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><em><strong>Rule of zero</strong></em></span></mark>ï¼Œ<span style="border-bottom:0.05em solid"><strong>å°½é‡ç”¨é»˜è®¤æ„é€ </strong></span>ï¼šå¦‚æœé»˜è®¤çš„æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€æ‹·è´èµ‹å€¼è¿ç®—ç¬¦èƒ½ç”¨ï¼Œå°±ä¸è¦è‡ªå·±å®šä¹‰<ul id="e4151973-96b6-4b38-8385-b1e03f373128" class="bulleted-list"><li style="list-style-type:circle">é€šå¸¸ä¼šé€šè¿‡= defaultå…³é”®å­—ï¼Œ<span style="border-bottom:0.05em solid"><strong>æ˜¾å¼åœ°ä½¿ç”¨é»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦</strong></span>ï¼ˆç§»åŠ¨è¯­ä¹‰ç‰ˆå’Œéç§»åŠ¨è¯­ä¹‰ç‰ˆçš„ï¼‰ï¼Œä¾‹å¦‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e2e5ce6d-ee2b-4197-b6cb-f0b87a3fb6ce" class="code"><code class="language-C++">/*
 * Special member functions: we explicitly state that we want the default compiler-generated functions.
 * Here we are following the rule of zero. You should think about why that is correct.
 */
HashMapIterator(const HashMapIterator&lt;Map, IsConst&gt;&amp; rhs) = default;
HashMapIterator&lt;Map, IsConst&gt;&amp; operator=(const HashMapIterator&lt;Map, IsConst&gt;&amp; rhs) = default;

HashMapIterator(HashMapIterator&lt;Map, IsConst&gt;&amp;&amp; rhs) = default;
HashMapIterator&lt;Map, IsConst&gt;&amp; operator=(HashMapIterator&lt;Map, IsConst&gt;&amp;&amp; rhs) = default;</code></pre></li></ul></li></ul><ul id="b3cc3056-039e-4f7d-ad31-73e9586cf4de" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><em><strong>Rule of five</strong></em></span></mark>ï¼š<span style="border-bottom:0.05em solid"><strong>å¦‚æœè‡ªå®šä¹‰äº†ææ„å‡½æ•° or æ‹·è´æ„é€ å‡½æ•° or æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</strong></span>ï¼Œå°±éœ€è¦åŒæ—¶å»æ„é€ ç§»åŠ¨æ‹·è´æ„é€ å‡½æ•°å’Œç§»åŠ¨æ‹·è´èµ‹å€¼è¿ç®—ç¬¦</li></ul><h3 id="2f61ed80-a561-4937-8756-6dc2e519ef24" class="block-color-blue_background">ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ çš„caseï¼šCS106L HashMap(HashMap + HashMapIterator)</h3><figure id="6856f1d1-3669-4cca-951e-2bdfa8ad42ea"><div class="source"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/HashMap_Starter.zip">HashMap_Starter.zip</a></div></figure><p id="e97f0b4f-84af-4500-bc71-317c392cf4c0" class="">å®ç°äº†ä¸€ä¸ªä¸stdå…¼å®¹çš„unordered_mapï¼ˆå…¼å®¹stdä¸­çš„å„ç§ç®—æ³•ï¼‰ï¼ŒåŸºäºæ•£åˆ—å®ç°ï¼Œä¸€ä¸ªvectorè¡¨ç¤ºä¸€ç»„æ•£åˆ—æ¡¶ï¼Œæ¡¶ä¸­çš„æ¯ä¸ªnodeé€šè¿‡é“¾è¡¨è¿›è¡Œè¿æ¥</p><ul id="cefa612d-41eb-4cdc-ae39-762fe5a02326" class="bulleted-list"><li style="list-style-type:disc"><em><code><strong>hashmap_iterator.h</strong></code></em>ï¼šå®ç°äº†hashmapçš„iteratorï¼Œä»¥ä¸‹æ˜¯<strong>å‡ ä¸ªå€¼å¾—å­¦ä¹ çš„highlight</strong><ul id="2a492a68-51c5-4309-9f7b-d18ad739c42b" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><strong>ä¸“é—¨å®šä¹‰äº†ä¸€ä¸ªç»™HashMapç”¨çš„HashMapIteratorç±»</strong></mark>ï¼Œå¹¶<strong>é€šè¿‡</strong><em><code><strong>friend</strong></code></em><strong>å…³é”®å­—çš„</strong><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">è¿™ä¸ªæŠ€å·§</a></strong>ï¼Œä½¿å¾—HashMapå’ŒHashMapIteratorä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ï¼Œä»è€Œå°†HashMapIteratorä¸HashMapçš„ä»£ç å‰¥ç¦»å¼€æ¥ï¼Œ<strong>ä½¿å¾—HashMapçš„å®ç°é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œä»£ç æ›´å®¹æ˜“ç»´æŠ¤</strong>ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="545f1da5-1218-49df-acf0-30a85c7caf6c" class="code"><code class="language-C++">/* é€šè¿‡æ¨¡ç‰ˆå‚æ•°æ¥å¼•ç”¨Mapç±»å‹ï¼Œä½¿ä¹‹å¯ä»¥friend
 * æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½é€šè¿‡include Mapçš„å¤´æ–‡ä»¶ï¼Œç›´æ¥åœ¨HashMapIteratorä¸­friend Mapç±»
 * å› ä¸ºåœ¨Mapç±»ä¸­ä¹Ÿéœ€è¦include HashMapIteratorçš„å¤´æ–‡ä»¶ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ç›¸äº’include
 * ä»è€Œé€ æˆé‡å¤å®šä¹‰çš„ç¼–è¯‘é”™è¯¯ã€‚
 */
template &lt;typename Map, bool IsConst = true&gt; 
class HashMapIterator {

public:
    ...
    /*
     * Friend declarations so the HashMap class this iterator is for can access the attributes of its iterators.
     * Also, to make conversions between iterator and const_iterator easy, we declare the corresponding
     * iterator and const_iterators as friends.
     */
    friend Map;
    friend HashMapIterator&lt;Map, true&gt;;
    friend HashMapIterator&lt;Map, false&gt;;</code></pre></li></ul><ul id="f741d332-250e-45b3-9d66-f2acde283545" class="bulleted-list"><li style="list-style-type:circle"><strong><mark class="highlight-purple">é€šè¿‡æ¨¡ç‰ˆï¼Œå®šä¹‰HashMapIteratorçš„constä¸éconstç‰ˆæœ¬</mark></strong><mark class="highlight-default">ï¼ˆå……åˆ†åˆ©ç”¨äº†æ¨¡ç‰ˆç¼–ç¨‹çš„èƒ½åŠ›ï¼‰</mark>ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>é€šè¿‡æ¨¡ç‰ˆç›´æ¥å®šä¹‰äº†constå’Œéconstä¸¤ä¸ªç±»</strong>ï¼ˆè€Œä¸åƒé€šå¸¸çš„åšæ³•é‚£æ ·<strong>ï¼Œ</strong>ç›´æ¥å®šä¹‰ä¸€ä¸ªHashMapIteratorç±»ï¼Œç„¶ååˆ†åˆ«å®ç°æ‰€æœ‰æ–¹æ³•çš„constå’Œéconstæ¥å£ï¼‰<br/><br/><strong>åˆ©ç”¨æ¨¡ç‰ˆç›´æ¥å®ç°constå’Œéconstä¸¤ç§ç±»ï¼Œå¯ä»¥</strong><span style="border-bottom:0.05em solid"><strong>ä½¿å¾—ä»£ç çœ‹èµ·æ¥æ›´åŠ ä¼˜é›…ï¼Œæå¤§å‡å°‘ç¼–ç é‡</strong></span><blockquote id="f7e374ba-2c44-4917-8131-3e4a3325c50f" class="block-color-gray_background">ä¾‹å¦‚ï¼Œè¦å®ç°ä¸€ä¸ªoperator++()è¿ç®—ç¬¦ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¦å®ç°constå’Œéconstç‰ˆæœ¬ã€‚<br/><br/>ä½†å¦‚æœé€šè¿‡æ¨¡ç‰ˆæ¥å®ç°constå’Œéconstä¸¤ç§ç±»ï¼Œåªéœ€è¦å®ç°å¯¹åº”çš„operator++å³å¯ï¼ˆä¸éœ€è¦å†™ä¸¤ä¸ªç‰ˆæœ¬ï¼‰ï¼š<br/><p id="09ca3cab-6cfa-4cc1-90d9-fbe4c1aead93" class=""><code>HashMapIterator&lt;Map, IsConst&gt;&amp; operator++(); </code></p></blockquote><ul id="ce5dda49-76f1-4909-9dc7-2999e6153aba" class="bulleted-list"><li style="list-style-type:square">é€šè¿‡<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">éç±»å‹æ¨¡ç‰ˆå‚æ•°</a>ç»™æ¨¡ç‰ˆä¼ é€’å‚æ•°ï¼Œä»è€Œæ„é€ constå’Œéconstçš„HashMapIteratorç±»<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="17f629e0-ff29-40e3-af76-92298dd99ed8" class="code"><code class="language-C++">template &lt;typename Map, bool IsConst = true&gt;
class HashMapIterator {
    ...
}</code></pre></li></ul><ul id="6ac707e8-a541-4a0c-b12c-832401602a4d" class="bulleted-list"><li style="list-style-type:square">åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œ<strong>é€šè¿‡</strong><code><em><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">std::conditional_t</a></strong></em></code><strong>ï¼Œæ ¹æ®æ¨¡ç‰ˆä¸­çš„</strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><strong>éç±»å‹æ¨¡ç‰ˆå‚æ•°</strong></a><strong>IsConstç¡®å®šäº†ç±»çš„æ•°æ®ç±»å‹</strong>ï¼ˆconstè¿˜æ˜¯éconstï¼‰ï¼Œå¥ å®šäº†æ¨¡ç‰ˆç¼–ç¨‹çš„åŸºç¡€<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="420c2e81-099f-4cbe-adc1-78c71663cc7f" class="code"><code class="language-C++">template &lt;typename Map, bool IsConst = true&gt;
class HashMapIterator {

public:
    using value_type = std::conditional_t&lt;IsConst, const typename Map::value_type, typename Map::value_type&gt;;
    // æ³¨æ„ï¼švalue_typeçš„å®šä¹‰å¿…é¡»åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨è¿è¡Œæ—¶çš„ifè¯­å¥æ¥å†³å®švalue_typeçš„ç±»å‹
    // std::conditional_tæ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶æ¡ä»¶ç±»å‹é€‰æ‹©å·¥å…·ï¼Œ
    // å®ƒæ ¹æ®æ¨¡æ¿å‚æ•°IsConstçš„å€¼åœ¨ç¼–è¯‘æ—¶é€‰æ‹©constä¿®é¥°çš„ç±»å‹æˆ–éconstç±»å‹ä½œä¸ºvalue_typeï¼Œ
    // ä»è€Œå®ç°åœ¨ç¼–è¯‘æ—¶æ ¹æ®æ¡ä»¶é€‰æ‹©ç±»å‹ã€‚

    using pointer = value_type*;
    // å½“IsConst=Trueæ—¶ï¼Œpointerå°±æ˜¯ const value_type*ï¼Œ
    // å³ä¸€ä¸ªä¸èƒ½ä¿®æ”¹å†…å®¹çš„æŒ‡é’ˆï¼ˆåªè¯»æŒ‡é’ˆï¼‰
    using reference = value_type&amp;;
...</code></pre></li></ul></li></ul><ul id="3781b8c8-0f74-4b6f-8748-087cd1e50bfc" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b1eb47cf-3640-47e4-b644-64fc0d91ed72" class="code"><code class="language-C++">friend HashMapIterator&lt;Map, true&gt;; 
friend HashMapIterator&lt;Map, false&gt;;</code></pre><p id="23017e9f-11bc-4125-a888-d1bcbf32d0da" class="">ä½¿å¾—const HashMapIteratorå’Œéconst HashMapIteratorä¹‹é—´å¯ä»¥ç›¸äº’è®¿é—®</p></li></ul><ul id="0dd41207-1c9d-4327-acb7-34fdc0aa1876" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="78439c29-113d-45df-a5c6-c44b7a58525a" class="code"><code class="language-C++">operator HashMapIterator&lt;Map, true&gt;() const {
    return HashMapIterator&lt;Map, true&gt;(_buckets_array, _node, _bucket);
}</code></pre><p id="58d77d62-8490-4845-9505-7fbe31e9db7b" class="">å…è®¸éconst HashMapieratorè¢«è½¬åŒ–ä¸ºconstç‰ˆã€‚<mark class="highlight-purple"><strong>ä½¿å¾—åé¢å®ç°constæ¥å£æ—¶å¯ä»¥å¤ç”¨éconstæ¥å£çš„ä»£ç </strong></mark></p></li></ul><ul id="66c9512f-0dc5-4224-b2fb-1b08103e2fb2" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡<strong>å‹å…ƒå‡½æ•°+æ¨¡ç‰ˆå‡½æ•°</strong>ï¼Œå®ç°äº†constç‰ˆæœ¬å’Œéconstç‰ˆæœ¬HashMapIteratorä¹‹é—´çš„==å’Œ!=è¿ç®—ç¬¦ï¼ˆå†æ¬¡å‡å°‘äº†ä»£ç é‡ï¼Œä¼˜é›…å®ç°ï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="611baf63-5550-4e4c-9d80-71ce4727cd88" class="code"><code class="language-C++">// è¿™é‡Œåªç»™å‡ºå£°æ˜
// æ³¨æ„ï¼šè¿™é‡Œé¢å¤–ç”¨äº†ä¸€ä¸ªæ¨¡ç‰ˆï¼Œæä¾›äº†ä¸¤ä¸ªé¢å¤–çš„æ¨¡ç‰ˆç±»å‹ï¼Œ
// (ä½¿ç”¨çš„ä¸æ˜¯å®šä¹‰æ¨¡ç‰ˆç±»æ—¶çš„æ¨¡ç‰ˆç±»å‹Mapå’ŒIsConstï¼Œè€Œæ˜¯Map_å’ŒIsConst_)
template &lt;typename Map_, bool IsConst_&gt;
friend bool operator==(const HashMapIterator&lt;Map_, IsConst_&gt;&amp; lhs, const HashMapIterator&lt;Map_, IsConst_&gt;&amp; rhs);

template &lt;typename Map_, bool IsConst_&gt;
friend bool operator!=(const HashMapIterator&lt;Map_, IsConst_&gt;&amp; lhs, const HashMapIterator&lt;Map_, IsConst_&gt;&amp; rhs);</code></pre></li></ul><ul id="c7fd4df0-f310-4685-90ff-1a9d976c9862" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰äº†ä¸€ä¸ª<strong>private æ„é€ å‡½æ•°</strong>ï¼Œé€šè¿‡å‹å…ƒï¼Œ<strong>åªå…è®¸HashMapè¿›è¡Œè°ƒç”¨</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="14313f8c-0b60-4c02-9ff2-fe396bc11445" class="code"><code class="language-C++">/*
 * Private constructor for a HashMapIterator.
 * Friend classes can access the private members of class it is friends with, 
 * so HashMap is able to call HashMapIterator&#x27;s private constructor 
 * (e.g, in begin()). We want the HashMapIterator constructor to be private 
 * so a client can&#x27;t randomly construct a HashMapIterator without asking for one 
 * through the HashMap&#x27;s interface.
 */
HashMapIterator(bucket_array_type* buckets_array, node* node, size_t bucket);</code></pre></li></ul></li></ul><ul id="8eddf1cf-14a9-486c-9109-b7ae5da6e157" class="bulleted-list"><li style="list-style-type:disc"><code><em><strong>hashmap.{h,cpp}</strong></em></code>ï¼šå£°æ˜å’Œéƒ¨åˆ†å®ç°äº†HashMap<ul id="874da1a0-72fb-48d9-bb45-2d13b9b44155" class="bulleted-list"><li style="list-style-type:circle">mapçš„value_typeä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªpair&lt;const K,M&gt;ä¸­çš„<strong>Kå¿…é¡»æ˜¯constçš„</strong><figure id="5fc307ee-d2ff-476b-bf29-a108bf35bde7" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-18_13.53.36.png"><img style="width:384px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-18_13.53.36.png"/></a></figure></li></ul><ul id="e41a2c4c-00e6-4c1b-9be0-ef01ac8fba5a" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰äº†ä¸€ä¸ªdebugæˆå‘˜å‡½æ•°ï¼Œä¼šæ‰“å°hashmapçš„æ‰€æœ‰ç»“ç‚¹çš„keyå’Œvalueï¼Œå¹¶ä¸”æ‰“å°å½“å‰æ¡¶çš„ä¸ªæ•°ï¼Œä»¥åŠè´Ÿè½½ç³»æ•°ï¼Œåœ¨<span style="border-bottom:0.05em solid"><strong>debugæ—¶å¾ˆå¥½ç”¨</strong></span>.<figure id="12bcdd68-8697-488b-ab32-8d2ee6200562" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-19_20.10.13.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-19_20.10.13.png"/></a><figcaption>å¯ç¤ºï¼šåœ¨æ„å»ºä¸€ä¸ªå¤æ‚ç³»ç»Ÿæ—¶ï¼Œæœ€å¥½èƒ½ç»™è‡ªå·±åšä¸€äº›debugç”¨çš„å·¥å…·ï¼Œåè€Œèƒ½å¤§å¤§æé«˜æ•ˆç‡</figcaption></figure></li></ul><ul id="04d2ab96-b77f-4e8b-a457-4403b3a2e121" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡æ¨¡ç‰ˆå®šä¹‰äº†ä¸€ä¸ªRange æ„é€ å‡½æ•°ï¼ˆæ¨¡ç‰ˆå‡½æ•°ï¼‰ï¼Œä½¿å¾—HashMapå¯ä»¥æ¥æ”¶ä¸€ä¸ªvalue_typeä¸ºpairçš„containeræ¥è¿›è¡ŒHashMapçš„æ„é€ ï¼Œ<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="27591a79-0047-4265-a7ee-4ce637d17ede" class="code"><code class="language-C++">
/*
 * Range constructor
 * Creates a HashMap with the elements in the range [first, last).
 *
 * Requirements: InputIt must be iterators to a container whose elements are pair&lt;K, M&gt;.
 *
 * Usage:
 *      std::vector&lt;std::pair&lt;char, int&gt;&gt; vec {{&#x27;a&#x27;, 3}, {&#x27;b&#x27;, 5}, {&#x27;c&#x27;, 7}};
 *      HashMap&lt;char, int&gt; map{vec.begin(), vec.end()};
 *
 * Complexity: O(N), where N = std::distance(first, last);
 */
template &lt;typename InputIt&gt;
HashMap(InputIt first, InputIt last, size_t bucket_count = kDefaultBuckets, const H&amp; hash = H());</code></pre></li></ul><ul id="f4a08d67-7fd4-4878-bdca-4a2f8d5bb198" class="bulleted-list"><li style="list-style-type:circle">ä¸“é—¨åœ¨privateåŸŸä¸­å®šä¹‰äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°find_nodeä»¥åŠè¾…åŠ©æ•°æ®ç»“æ„node_pairï¼Œå…¶ä¸­<strong>node_pairä¼šå­˜æ‰¾åˆ°çš„é‚£ä¸ªnodeä»¥åŠè¿™ä¸ªnodeä¹‹å‰çš„é‚£ä¸ªnode</strong>ï¼Œä»è€Œå¯ä»¥<strong>æ–¹ä¾¿å¾ˆå¤šæˆå‘˜å‡½æ•°çš„å®ç°</strong><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="acafb27c-c377-4f43-a186-e250521177b9" class="code"><code class="language-C++">/*
 * Finds the node N with given key, and returns a node_pair consisting of
 * the node whose&#x27;s next is N, and N. If node is not found, {nullptr, nullptr}
 * is returned. If node found is the first in the list, {nullptr, node} is returned.
 *
 * Example given list: front -&gt; [A] -&gt; [B] -&gt; [C] -&gt; /
 * where A, B, C, D are pointers, then
 *
 * find_node(A_key) = {nullptr, A}
 * find_node(B_key) = {A, B}
 * find_node(C_key) = {B, C}
 * find_node(D_key) = {nullptr, nullptr}
 *
 * Usage:
 *      auto&amp; [prev, curr] = find_node(3);
 *      if (prev == nullptr) { ... }
 *
 * Complexity: O(1) amortized average case, O(N) worst case, N = number of elements
 *
 * Notes: this function is necessary because when erasing, we need to change the
 * next pointer of the node before the one we are erasing.
 */

node_pair find_node(const K&amp; key) const;</code></pre></li></ul><ul id="74e39171-b775-48cd-a2de-7c1b7c72c549" class="bulleted-list"><li style="list-style-type:circle">ä¸“é—¨åœ¨privateåŸŸä¸­å®šä¹‰äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°<em><code>size_t first_not_empty_bucket() const;</code></em>ç”¨äºæ‰¾hashmapä¸­ç¬¬ä¸€ä¸ªéç©ºçš„æ¡¶</li></ul><ul id="f8a90cc1-8b46-4235-a455-28554e9b4ea4" class="bulleted-list"><li style="list-style-type:circle">ä¸“é—¨åœ¨privateåŸŸä¸­å®šä¹‰äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°<code><em>iterator make_iterator(node* curr) const;</em></code>ï¼Œç”¨äºä¸ºä¸€ä¸ªnodeåˆ›å»ºä¸€ä¸ªæŒ‡å‘å®ƒçš„iterator</li></ul><ul id="5ab53bab-b1ce-4388-a3ff-ffecc9f9ab31" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">std::const_cast</a>æ¥<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">è½»æ¾å®ç°constæ¥å£</a></li></ul><ul id="0f52f94e-15e6-4fa5-85b6-8239f9e623a2" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡ä¸€ä¸ªrange constructorä½œä¸º<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">å§”æ‰˜æ„é€ å‡½æ•°</a>æ¥å®ç°<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">åˆå§‹åŒ–å™¨åˆ—è¡¨æ„é€ å‡½æ•°</a></li></ul><ul id="511bce8b-71d5-4331-900f-2f6c5ae11b6c" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡insertæˆå‘˜å‡½æ•°æ¥å®ç°operator[]ï¼ˆå› ä¸ºinsertçš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦æŸ¥æ‰¾ï¼Œæ‰€ä»¥ä»£ç å¯ä»¥å¤ç”¨ï¼‰<ul id="a9d93125-ab92-47a8-8744-040d89b8c8f4" class="bulleted-list"><li style="list-style-type:square">è¿™é‡Œç”¨åˆ°äº†<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ä¸€ä¸ªpairçš„åˆå§‹åŒ–æŠ€å·§</a></li></ul></li></ul></li></ul><h2 id="3c22d164-c4a6-4f80-946c-cc28738b75d5" class="block-color-orange_background">ç±»è¿›é˜¶ï¼šå‹å…ƒã€è¿ç®—ç¬¦é‡è½½</h2><ul id="e124ba21-e9d7-483c-a717-7d708bb95309" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++ä¸­ï¼Œé€šå¸¸ç±»å¤–çš„ä»£ç æ— æ³•è®¿é—®ç±»å†…çš„privateæˆå‘˜ï¼Œè€Œå‹å…ƒå°±æ˜¯ç”¨æ¥è§£é™¤è¿™æ ·çš„é™åˆ¶çš„ï¼ˆå…³é”®å­—<strong><code>friend</code></strong>ï¼‰<figure id="5b1507f2-d4af-4106-a9f7-cc5ec7e2013e"><a href="https://zhuanlan.zhihu.com/p/158805900" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">C++çš„å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»</div><div class="bookmark-description">C++ä½¿ç”¨ç±»å¯¹æ•°æ®è¿›è¡Œéšè—å’Œå°è£…ï¼Œç±»çš„æ•°æ®æˆå‘˜ä¸€èˆ¬å®šä¹‰ä¸ºç§æœ‰æˆå‘˜ï¼Œè€Œå°†æä¾›ç±»ä¸å¤–ç•Œé€šè®¯æ¥å£çš„æˆå‘˜å‡½æ•°å®šä¹‰ä¸ºå…¬æœ‰çš„ã€‚ C++ç±»æˆå‘˜çš„ä¸‰ç§è®¿é—®æƒé™ï¼š publicï¼šå¯ä»¥è¢«è¯¥ç±»ä¸­çš„å‡½æ•°ã€å­ç±»çš„å‡½æ•°ã€å‹å…ƒå‡½æ•°è®¿é—®ï¼Œä¹Ÿå¯ä»¥â€¦</div></div><div class="bookmark-href"><img src="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png" class="icon bookmark-icon"/>https://zhuanlan.zhihu.com/p/158805900</div></div></a></figure><ul id="2871a802-8102-49b2-b459-183d47b167f1" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>å‹å…ƒå‡½æ•°</strong></span>ä½¿å¾—ä¸€ä¸ªå¤–éƒ¨å®šä¹‰çš„å‡½æ•°å¯ä»¥è®¿é—®æŸä¸ªç±»çš„privateæˆå‘˜ï¼šæœ‰æ—¶éœ€è¦å®šä¹‰ä¸€äº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸æ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†åˆéœ€è¦é¢‘ç¹è®¿é—®ç±»çš„ç§æœ‰ï¼ˆprivateï¼‰æˆå‘˜å’Œä¿æŠ¤ï¼ˆprotectedï¼‰æˆå‘˜ï¼Œè¿™æ—¶å¯ä»¥å°†è¿™äº›å‡½æ•°å®šä¹‰ä¸ºå‹å…ƒå‡½æ•°ã€‚<figure id="a35d2e6f-64de-4734-a691-85ab15c53577" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_14.48.02.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-19_14.48.02.png"/></a><figcaption>æ³¨æ„è¿™é‡Œçš„ç”¨æ³•ï¼šåœ¨ç±»çš„publicä¸­<span style="border-bottom:0.05em solid"><strong>å£°æ˜</strong></span>ä¸€ä¸ªå‹å…ƒå‡½æ•°ï¼ˆæ‰€ä»¥è¦å†™å‡ºå‡½æ•°çš„åŸå‹ï¼‰</figcaption></figure><blockquote id="bf751a63-c9e5-4a25-b6c5-a9b40a77278c" class="block-color-gray_background">âš ï¸ï¼šå°½ç®¡å‹å…ƒå‡½æ•°åœ¨ç±»çš„å£°æ˜ä¸­å‡ºç°è¿‡ï¼Œä½†<span style="border-bottom:0.05em solid"><strong>å…¶å¹¶ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°</strong></span>ã€‚</blockquote></li></ul><ul id="34a4988d-926c-42c6-b566-4067ac78353a" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>å‹å…ƒç±»</strong></span>ä½¿å¾—ä¸€ä¸ªç±»å®ä¾‹å¯ä»¥è®¿é—®å¦ä¸€ä¸ªç±»å®ä¾‹çš„privateæˆå‘˜</li></ul></li></ul><ul id="db44b5f5-bbca-4a53-8f5b-f13fbe770b49" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>ä¸€ç§å‹å…ƒfriendçš„å¸¸è§åœºæ™¯</strong></span>ï¼šå‡å¦‚ä¸€ä¸ªç±»éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¦ä¸€ä¸ªç±»å¾ˆå¤æ‚ï¼ˆæ¯”å¦‚ä¸€ä¸ªå®¹å™¨ç±»ä¼šç”¨åˆ°ä¸€ä¸ªè¿­ä»£å™¨ç±»ï¼‰ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±å¯ä»¥è€ƒè™‘æŠŠè¿™ä¸ªè¿­ä»£å™¨ç±»æ‹¿å‡ºå»å®ç°ï¼Œç„¶ååœ¨å®¹å™¨ç±»å’Œè¿­ä»£å™¨ç±»ä¸­åˆ†åˆ«friend å¯¹æ–¹è¿™ä¸ªç±»ï¼Œä½¿å¾—å®¹å™¨ç±»å’Œè¿­ä»£å™¨ç±»å¯ä»¥äº’ç›¸è®¿é—®ï¼Œä»è€ŒæŠŠè¿­ä»£å™¨ç±»ä»å®¹å™¨ç±»çš„å®ç°ä¸­å‰¥ç¦»å¼€ï¼Œä»è€Œä½¿ä»£ç çš„é€»è¾‘ç»“æ„æ›´åŠ æ¸…æ™°ã€‚<blockquote id="f0ffffcc-79d3-4021-ad1e-434b818f32a8" class="block-color-gray_background">ä»¥ä¸€ä¸ªMap containerå’Œå¯¹åº”çš„MapIteratorä¸ºä¾‹ï¼š </blockquote></li></ul><ul id="d3aa27c3-2351-4db0-9b13-8e8296e79c7f" class="bulleted-list"><li style="list-style-type:disc">åœ¨ç±»ä¸­å£°æ˜ä¸€ä¸ªå‹å…ƒå‡½æ•°æ—¶ï¼Œè¿™ä¸ª<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å‹å…ƒå‡½æ•°è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆå‡½æ•°</strong></span></mark><ul id="fd15acd7-969f-4569-be1e-5aa60c679eba" class="bulleted-list"><li style="list-style-type:circle"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">code example</a></li></ul></li></ul><ul id="284ab6c8-b35d-4c59-ba06-4723cc229122" class="bulleted-list"><li style="list-style-type:disc"><strong><code>friend</code></strong>å…³é”®å­—<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æœ¬è´¨ä¸Šå°±æ˜¯ä¸ºå¤–éƒ¨çš„å‡½æ•°æˆ–å¤–éƒ¨çš„ç±»æä¾›äº†ä¸€ç§å¯ä»¥è®¿é—®å½“å‰ç±»privateåŸŸçš„é€”å¾„</strong></span></mark>ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°<span style="border-bottom:0.05em solid">ä¸ä¼šä½œä¸ºç±»çš„æˆå‘˜å‡½æ•°</span><ul id="04f3f8bb-d91f-41db-bf33-eb5d9198f3c9" class="bulleted-list"><li style="list-style-type:circle">âš ï¸ï¼šè™½ç„¶friendä¸€ä¸ªå¤–éƒ¨å‡½æ•°æˆ–friendä¸€ä¸ªå¤–éƒ¨ç±»æ˜¯åœ¨ç±»çš„publicåŸŸä¸­è¿›è¡Œå£°æ˜çš„ï¼Œ<strong>ä½†æ˜¯è¿™äº›å¤–éƒ¨å‡½æ•°å’Œå¤–éƒ¨ç±»å¹¶ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜å˜é‡ã€‚</strong></li></ul><ul id="074c5fb9-f897-49cb-8d2c-d71925eedd1b" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥ï¼Œå¦‚æœæ²¡æœ‰<strong><code>friend</code></strong>å…³é”®å­—ï¼Œé‚£ä¹ˆåœ¨ç±»ä¸­å£°æ˜çš„å‡½æ•°éƒ½å°†è¢«è§†ä¸ºç±»çš„æˆå‘˜å‡½æ•°</li></ul></li></ul><ul id="671a4658-da98-447d-b5ea-efb576d6b374" class="bulleted-list"><li style="list-style-type:disc">C++ä¸­ä¸ºå„ç±»è¿ç®—ç¬¦(å¦‚<code>-</code>ï¼Œ<code>&lt;</code>ï¼Œ<code>&gt;</code>ï¼Œ<code>*</code>ï¼Œ<code>&lt;&lt;</code>ï¼Œ<code>&gt;&gt;</code>ï¼Œ<code>[]</code>)å®ç°äº†<span style="border-bottom:0.05em solid"><strong>è¯­æ³•ç³–</strong></span>ï¼Œä»¥è¿ç®—ç¬¦<code>+</code>ä¸ºä¾‹ï¼ˆå…¶å®ƒè¿ç®—ç¬¦å¦‚<code>+=</code>ï¼Œ<code>-</code>ï¼Œ<code>&lt;</code>ï¼Œ<code>&gt;</code>ï¼Œ<code>*</code>ï¼Œ<code>&lt;&lt;</code>ï¼Œ<code>&gt;&gt;</code>ï¼Œ<code>[]</code>åŒæ ·é€‚ç”¨ï¼‰ï¼Œ<span style="border-bottom:0.05em solid"><strong>å½“ä»£ç ä¸­æ‰§è¡Œ</strong></span><span style="border-bottom:0.05em solid"><strong><code>x + y</code></strong></span><span style="border-bottom:0.05em solid"><strong>æ—¶ï¼Œç¼–è¯‘å™¨åšçš„äº‹æƒ…</strong></span>ï¼šï¼ˆç†è§£è¿™ä¸ªæµç¨‹å¾ˆé‡è¦ï¼‰<ol type="1" id="e648a224-fe8d-4fac-bc6b-c77813a102a4" class="numbered-list" start="1"><li><strong>æŸ¥æ‰¾å½“å‰ä½œç”¨åŸŸä¸­çš„</strong><code><strong>operator+</strong></code><strong>å‡½æ•°</strong>ï¼šé¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨åˆé€‚<code><strong>operator+</strong></code>å‡½æ•°ï¼ˆåŒ…æ‹¬å…¨å±€å‡½æ•°å’Œå‹å…ƒå‡½æ•°ï¼‰ã€‚å®ƒä¼šè€ƒè™‘æ‰€æœ‰å¯è§çš„é‡è½½ç‰ˆæœ¬ï¼Œå¹¶æ ¹æ®å‚æ•°ç±»å‹ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ <code><strong>x</strong></code> å’Œ <code><strong>y</strong></code> çš„ç±»å‹ï¼‰æ¥é€‰æ‹©æœ€åˆé€‚çš„ç‰ˆæœ¬ã€‚<br/>å¦‚æœæ‰¾åˆ°äº†ï¼Œ<br/><strong><code>x + y</code></strong><strong>å°±ä¼šè¢«è½¬åŒ–ä¸º</strong><strong><code>operator+(x, y)</code></strong>ï¼ˆè¯­æ³•ç³–ï¼‰</li></ol><ol type="1" id="36a1d0d8-6250-4463-9bd8-a9ea970c8263" class="numbered-list" start="2"><li> <strong>æŸ¥æ‰¾</strong><code><strong>x</strong></code><strong>çš„æˆå‘˜å‡½æ•°</strong>ï¼šå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„<code><strong>operator+</strong></code>å‡½æ•°ï¼Œç¼–è¯‘å™¨æ¥ç€ä¼šæŸ¥æ‰¾å¯¹è±¡<code><strong>x</strong></code>æ˜¯å¦å®šä¹‰äº†æˆå‘˜å‡½æ•°<code><strong>operator+</strong></code>ã€‚è¿™æ„å‘³ç€ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ <code><strong>x</strong></code> çš„ç±»å®šä¹‰ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªæ¥å—ç±»å‹ç±»ä¼¼äº <code><strong>y</strong></code> çš„å‚æ•°çš„ <code><strong>operator+</strong></code>ã€‚<br/>å¦‚æœæ‰¾åˆ°äº†å¹¶ä¸”ç±»å‹ä¹Ÿé…å¯¹ï¼Œ<br/><strong><code>x + y</code></strong><strong>å°±ä¼šè¢«è½¬åŒ–ä¸º</strong><strong><code>x.operator+(y)</code></strong>ï¼ˆè¯­æ³•ç³–ï¼‰</li></ol><p id="5a457b40-3fe8-4862-847d-52eefdb4c67b" class="">å¦‚æœå‰2æ­¥éƒ½å¤±è´¥äº†ï¼Œåˆ™ä¼šå‘ç”Ÿç¼–è¯‘é”™è¯¯</p></li></ul><ul id="705a8fe4-a204-45bc-bf29-76b545aff7d5" class="bulleted-list"><li style="list-style-type:disc">å› æ­¤ï¼Œå½“å¯¹ä¸€ä¸ªå¯¹è±¡ä½¿ç”¨è¿ç®—ç¬¦<strong><code>+</code></strong>æ—¶ï¼Œä¾‹å¦‚<code>obj+1</code>ï¼Œå®é™…ä¸Šç›¸å½“äºè°ƒç”¨äº†objçš„æˆå‘˜å‡½æ•°<code>operator+</code>ï¼ˆ<strong>å‡è®¾ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰å®šä¹‰å‡½æ•°</strong><strong><code>operator+</code></strong>ï¼‰ï¼Œæ­¤æ—¶<code>obj+1</code>ä¼šè¢«ç¼–è¯‘å™¨è§£é‡Šæˆ<code>obj.operator+(1)</code><p id="de158076-0d93-4a6a-b745-f0ae6ee0cfdd" class="">å¯¼è‡´çš„é—®é¢˜ï¼š<strong>å¿…é¡»è¦æ±‚è¿ç®—ç¬¦</strong><strong><code>+</code></strong><strong>çš„å·¦ä¾§è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªç±»å®ä¾‹</strong>ï¼Œä¾‹å¦‚ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9c737a28-5b23-43b8-9651-b2dc0788ad38" class="code"><code class="language-C++">class Complex {
public:
    int real;
    int imag;

    Complex(int r, int i) : real(r), imag(i) {}

    // æˆå‘˜å‡½æ•°é‡è½½ï¼šå¤„ç† Complex + int
    Complex operator+(int value) {
        return Complex(real + value, imag);
    }
    // åªèƒ½åšCompelx + intï¼ˆç›¸å½“äºæ˜¯Complex.operator+(int)ï¼‰ï¼Œ
    // ä¸èƒ½åšint + Complex
};</code></pre><ul id="e524bec3-02ae-4890-9018-784cadb317b7" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>è§£å†³æ–¹æ³•</strong></span>ï¼š<strong>å®šä¹‰ä¸€ä¸ªå¤–éƒ¨å‡½æ•°</strong><strong><code>operator+</code></strong>ï¼Œä»è€Œåœ¨è¿›è¡Œ<code>x + y</code>æ—¶ï¼Œåœ¨<strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ç¬¬ä¸€æ­¥ä¸­</a></strong>å¯ä»¥è®©ç¼–è¯‘å™¨å°†å…¶è½¬åŒ–ä¸º<code><strong>operator+(x, y)</strong></code><blockquote id="b4c82535-c426-4588-800d-90b6c34fc4f7" class="block-color-gray_background">ç®€å•æ¥è¯´å°±æ˜¯ï¼šé¿å…è®©ç¼–è¯‘å™¨æŠŠ<code>x + y</code>è½¬åŒ–ä¸º<code>x.operator+(y)</code>ï¼Œè€Œæ˜¯è½¬åŒ–ä¸ºè°ƒç”¨å¤–éƒ¨çš„<code>operator+(x, y)</code>è¿™ä¸ªå‡½æ•°ï¼Œ<strong>å½“å¤–éƒ¨å‡½æ•°éœ€è¦è®¿é—®è¿™ä¸ªç±»çš„privateåŸŸæ—¶ï¼Œå¯ä»¥é€šè¿‡</strong><strong><em><code>friend</code></em></strong><strong>è¿™ä¸ªå¤–éƒ¨å‡½æ•°æ¥è§£å†³</strong>ã€‚</blockquote><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8364933a-276a-4a4a-a9d9-3d8937118737" class="code"><code class="language-C++">class Complex {
public:
    int real;
    int imag;

    Complex(int r, int i) : real(r), imag(i) {}
};

Complex operator+(int value, Complex x) {
    return Complex(value + x.real, x.imag);
}

Complex operator+(Complex x, int value) {
    return Complex(value + x.real, x.imag);
}

int main() {
    Complex obj1 = Complex(100, 99999);
	  Complex obj2 = obj1 + 10;    // ç¼–è¯‘é€šè¿‡
	  Complex obj3 = 100 + obj1;   // ç¼–è¯‘é€šè¿‡
	  return 0;
}</code></pre><ul id="cceeb7d2-2283-4715-9ef8-aba329043900" class="bulleted-list"><li style="list-style-type:square"><code>obj1+10</code>ä¼šè¢«ç¼–è¯‘å™¨è½¬åŒ–ä¸ºè°ƒç”¨<code>operator+(obj1, 10)</code></li></ul><ul id="b406fa7a-77de-4dc9-b73e-3ecd96664f3f" class="bulleted-list"><li style="list-style-type:square"><code>10+obj1</code>ä¼šè¢«ç¼–è¯‘å™¨è½¬åŒ–ä¸ºè°ƒç”¨<code>operator+(10, obj1)</code></li></ul><ul id="f5625c3f-c61c-4518-a17e-f84f77e1c9ac" class="bulleted-list"><li style="list-style-type:square">ç›´æ¥åœ¨å…¨å±€èŒƒå›´å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°operator+ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ®å‚æ•°ç±»å‹è¿›è¡Œé‡è½½</li></ul><ul id="2aaa4983-6f71-4292-b1e1-31860c984d92" class="bulleted-list"><li style="list-style-type:square"><strong>å¦‚æœè¿™ä¸ªå‡½æ•°operator+éœ€è¦è®¿é—®è¿™ä¸ªç±»çš„privateåŸŸï¼Œå°±éœ€è¦åœ¨è¿™ä¸ªç±»ä¸­friend operator+</strong></li></ul></li></ul></li></ul><ul id="5a7656a0-3afd-4329-8681-1502c48bf069" class="bulleted-list"><li style="list-style-type:disc">æ³¨æ„ç‚¹ï¼š<strong>åœ¨ç±»ä¸­å£°æ˜çš„å‹å…ƒå‡½æ•°ä¸èƒ½ç”¨</strong><strong><code>const</code></strong><strong>æ¥ä¿®é¥°å‡½æ•°</strong>ï¼ˆå› ä¸ºå‹å…ƒå‡½æ•°ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¸å­˜åœ¨å®ä¾‹çš„æ¦‚å¿µï¼‰</li></ul><h2 id="dd243657-3fdd-4348-9db8-937dd4b104d6" class="block-color-orange_background">ç±»è¿›é˜¶ï¼šè™šå‡½æ•° ã€åŠ¨æ€ç»‘å®š(å®ç°å¤šæ€)</h2><ul id="28b4a44d-d17f-439b-bb4d-94fe4ee55196" class="bulleted-list"><li style="list-style-type:disc">è™šå‡½æ•°ç”¨æ¥å®šä¹‰ç±»çš„æˆå‘˜å‡½æ•°ï¼ˆç”¨<strong><code>virtual</code></strong>å…³é”®å­—ä¿®é¥°ï¼‰ï¼Œç”¨<code>virtual</code>æ¥ä¿®é¥°ä¸€ä¸ªæˆå‘˜å‡½æ•°æ—¶ï¼Œ<mark class="highlight-purple"><strong>è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›åœ¨å­ç±»ä¸­é‡å†™è¿™ä¸ªæ–¹æ³•</strong></mark><p id="0d1bcc36-0f96-48d9-a1c5-8ac8dec42fae" class="">åœ¨ç±»ä¸­ä½¿ç”¨<code>virtual</code>å…³é”®å­—ä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥å®ç°<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>åŠ¨æ€ç»‘å®š</strong></span></mark></p><blockquote id="2ed4796a-0ed4-4f5b-b81a-d62b60eb0d12" class="block-color-gray_background"><span style="border-bottom:0.05em solid"><strong>åŠ¨æ€ç»‘å®š</strong></span>ï¼šå½“<mark class="highlight-red"><strong>é€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨</strong></mark>è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå°†<mark class="highlight-purple"><strong>æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥å†³å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°</strong></mark>ã€‚è¿™ç§æœºåˆ¶è¢«ç§°ä¸ºåŠ¨æ€ç»‘å®šæˆ–æ™šæœŸç»‘å®šã€‚<br/>âš ï¸ï¼šå½“æˆ‘ä»¬å®šä¹‰äº†<br/><strong>ä¸€ä¸ªåŸºç±»çš„æŒ‡é’ˆ</strong>å¹¶<strong>æŒ‡å‘ä¸€ä¸ªå­ç±»</strong>æ—¶ï¼Œè°ƒç”¨è¿™ä¸ªæŒ‡é’ˆå¯¹åº”å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå®ƒä¸ä¼šè°ƒç”¨å­ç±»çš„æ–¹æ³•ï¼Œè€Œæ˜¯åŸºç±»çš„æ–¹æ³•ï¼Œè™šå‡½æ•°å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚<br/>âš ï¸ï¼š<br/><strong>åœ¨cppä¸­ï¼Œé€šå¸¸é€šè¿‡è™šå‡½æ•°+å®šä¹‰ä¸€ä¸ªæŒ‡å‘å­ç±»çš„åŸºç±»æŒ‡é’ˆï¼Œæ¥å®ç°</strong><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>å¤šæ€</strong></span></mark>ã€‚</blockquote><ul id="c2f893cb-d40f-4ecb-b230-69fab4deb5f4" class="bulleted-list"><li style="list-style-type:circle">æ²¡æœ‰<code>virtual</code>å…³é”®å­—ä¿®é¥°showæ—¶ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4f2e31e2-679b-4724-81ee-003cf04b2bbf" class="code"><code class="language-C++">class Base {
public:
    void show() {
        std::cout &lt;&lt; &quot;In Base&quot; &lt;&lt; std::endl;
    }
};

class Derived : public Base {
public:
    void show() { 
        std::cout &lt;&lt; &quot;In Derived&quot; &lt;&lt; std::endl;
    }
};

int main(){
	// å®šä¹‰ä¸€ä¸ªåŸºç±»çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå­ç±»ï¼ˆè¿™ç§å†™æ³•åœ¨éœ€è¦å®ç°å¤šæ€çš„åœºæ™¯ä¸­å¾ˆå¸¸è§ï¼‰
	Base* b = new Derived();  
	b-&gt;show();  // å°†è¾“å‡º &quot;In Base&quot;ï¼ˆç”¨çš„æ˜¯åŸºç±»çš„showï¼‰
}</code></pre></li></ul><ul id="8054e659-ae36-4e30-b3a2-65705b62d80c" class="bulleted-list"><li style="list-style-type:circle">æœ‰<code>virtual</code>å…³é”®å­—ä¿®é¥°showæ—¶ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e0bb011f-0d85-456a-a109-4dea29bbd75b" class="code"><code class="language-C++">class Base {
public:
    virtual void show() {
        std::cout &lt;&lt; &quot;In Base&quot; &lt;&lt; std::endl;
    }
};

class Derived : public Base {
public:
    void show() override{  // &#x27;override&#x27; æ˜¯å¯é€‰çš„ï¼Œä½†æ¨èç”¨äºæ˜ç¡®è¡¨ç¤ºé‡å†™
        std::cout &lt;&lt; &quot;In Derived&quot; &lt;&lt; std::endl;
    }
};

int main(){
	Base* b = new Derived();
	b-&gt;show();  // å°†è¾“å‡º &quot;In Derived&quot;ï¼ˆç”¨çš„æ˜¯å­ç±»çš„showï¼‰,å®ç°äº†å¤šæ€
	return 0;
}</code></pre><ul id="1a79c55e-0288-433f-bdca-0bb9fa685862" class="bulleted-list"><li style="list-style-type:square">æœ‰<code>virtual</code>å…³é”®å­—ä¿®é¥°æ—¶ï¼Œåœ¨å­ç±»ä¸­é‡å†™æ—¶ä½¿ç”¨<code>override</code>æ¥ä¿®é¥°é‡å†™çš„è™šå‡½æ•°</li></ul></li></ul></li></ul><ul id="2cd3aaa6-7630-4e9b-817f-6d1163a37375" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨è™šå‡½æ•°çš„ä¸€ä¸ª<span style="border-bottom:0.05em solid"><strong>æ³¨æ„ç‚¹</strong></span>ï¼š<strong>å¦‚æœä¸€ä¸ªç±»æœ‰è™šå‡½æ•°ï¼Œé€šå¸¸åº”è¯¥å°†ææ„å‡½æ•°ä¹Ÿå£°æ˜ä¸ºè™šå‡½æ•°</strong>ã€‚å› ä¸ºåœ¨å¤šæ€ä½¿ç”¨åœºæ™¯ä¸­ï¼Œå¯èƒ½ä¼šé€šè¿‡åŸºç±»çš„æŒ‡é’ˆæ¥åˆ é™¤æ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚å¦‚æœææ„å‡½æ•°ä¸æ˜¯è™šçš„ï¼Œè¿™æ ·åšå°†ä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œå¯èƒ½å¯¼è‡´èµ„æºæ³„éœ²æˆ–å…¶ä»–é—®é¢˜ã€‚<p id="769b7e84-c0cf-4506-b1bc-41eaa81d1ba0" class="">è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="87faad82-9bd2-4be3-af48-de4e103ac50a" class="code"><code class="language-C++">class Base {
public:
    virtual void doSomething() {
        // åŸºç±»çš„å®šä¹‰
    }

    // éè™šææ„å‡½æ•°
    ~Base() {
        std::cout &lt;&lt; &quot;Base Destructor&quot; &lt;&lt; std::endl;
    }
};

class Derived : public Base {
public:
    void doSomething() override {
        // æ´¾ç”Ÿç±»çš„å®šä¹‰
    }

    ~Derived() {
        std::cout &lt;&lt; &quot;Derived Destructor&quot; &lt;&lt; std::endl;
    }
};

int main() {
    Base* b = new Derived();
    delete b; // è¾“å‡ºï¼šBase Destructor
}</code></pre><blockquote id="582f5b08-b558-4f88-915f-423b82bcd778" class="block-color-gray_background">åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œç”¨Base* æ¥ä¿®é¥°bå¹¶è°ƒç”¨delete båï¼Œç”±äºåŸºå‡½æ•°çš„ææ„å‡½æ•°ä¸æ˜¯<code>virtual</code>ç±»å‹ï¼Œæ‰€ä»¥è°ƒç”¨ææ„å‡½æ•°æ—¶ï¼Œç”¨çš„æ˜¯åŸºç±»çš„ææ„å‡½æ•°ï¼ˆè€Œä¸æ˜¯å­ç±»çš„ææ„å‡½æ•°ï¼‰ï¼Œä»è€Œæœ‰å¯èƒ½ä¼šåœ¨æŸäº›åœºæ™¯ä¸­å¯¼è‡´å†…å­˜æ³„æ¼<br/><br/>æ‰€ä»¥æ­£ç¡®çš„åšæ³•æ˜¯å°†åŸºå‡½æ•°ä¸­çš„ææ„å‡½æ•°ä¹Ÿç”¨virtualæ¥å®šä¹‰ä¸ºè™šå‡½æ•°ç±»å‹:<br/><p id="24b689ea-f63d-4f26-81cc-c404ed5065ea" class="">virtual ~Base() {<br/>std::cout &lt;&lt; &quot;Base Destructor&quot; &lt;&lt; std::endl;<br/>}<br/></p></blockquote></li></ul><ul id="7e12801f-70b9-40e2-8f9d-d818e310ecdf" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>çº¯è™šå‡½æ•°</strong></span></mark>å’Œ<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>æŠ½è±¡åŸºç±»</strong></span></mark><p id="06a7a54d-9708-4ce3-9418-84c88b1721f8" class=""><strong>çº¯è™šå‡½æ•°</strong>ï¼šçº¯è™šå‡½æ•°æ˜¯åœ¨åŸºç±»ä¸­<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>åªå£°æ˜ä½†ä¸å®šä¹‰çš„è™šå‡½æ•°</strong></span></mark><strong>ï¼Œ</strong>é€šè¿‡<strong>åœ¨å‡½æ•°å£°æ˜çš„æœ«å°¾æ·»åŠ </strong><strong><code>=0</code></strong><strong>æ¥æŒ‡å®š</strong>ã€‚çº¯è™šå‡½æ•°çš„å­˜åœ¨æ„å‘³ç€<strong>æ´¾ç”Ÿç±»å¿…é¡»æä¾›è¯¥å‡½æ•°çš„å®ç°</strong>ã€‚è¿™ä½¿å¾—åŸºç±»å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œè€Œå…·ä½“çš„å®ç°åˆ™ç•™ç»™äº†æ´¾ç”Ÿç±»ã€‚</p><p id="f32de8e2-f1c8-43e5-996f-6e7f916e3537" class=""><strong>æŠ½è±¡åŸºç±»</strong>ï¼šæŠ½è±¡åŸºç±»æ˜¯æŒ‡<strong>è‡³å°‘åŒ…å«ä¸€ä¸ªçº¯è™šå‡½æ•°çš„ç±»</strong>ã€‚å› ä¸ºå®ƒåŒ…å«æœªå®ç°çš„çº¯è™šå‡½æ•°ï¼Œ<strong>æ‰€ä»¥ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–</strong>ã€‚</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="61d6eda5-e798-4cd6-b9aa-dee2e57b75a2" class="code"><code class="language-C++">class Base {
public:
    virtual void someFunction() = 0;  // çº¯è™šå‡½æ•°
};

class Derived : public Base {
public:
    void someFunction() override {
        // å®ç°åŸºç±»ä¸­çš„çº¯è™šå‡½æ•°
    }
};</code></pre></li></ul><h2 id="cebf9ae0-16ae-4e18-86ae-f90319ccf300" class="block-color-orange_background">æ¨¡ç‰ˆç±»</h2><h3 id="c7ab2a26-fe9b-4636-b50e-b5b46b786e99" class="block-color-blue_background">æ¨¡ç‰ˆç±»çš„å£°æ˜çš„å®šä¹‰è¦å†™åˆ°ä¸€èµ·</h3><ul id="2e2eb5c4-8693-4e15-8bd6-02efce3bb7f1" class="bulleted-list"><li style="list-style-type:disc">åœ¨C++ä¸­å®ç°<span style="border-bottom:0.05em solid"><strong>æ¨¡ç‰ˆç±»</strong></span>æ—¶ï¼Œå¦‚æœåœ¨.hæ–‡ä»¶ä¸­å†™æ¨¡ç‰ˆç±»çš„å£°æ˜ï¼Œåœ¨.cppæ–‡ä»¶ä¸­å†™å‡ºå¯¹åº”çš„å®šä¹‰ï¼Œé‚£ä¹ˆ<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å¿…é¡»ä¹Ÿåœ¨.hä¸­#includeå¯¹åº”çš„.cppæ–‡ä»¶ï¼ˆè€Œä¸”è¦å†™åœ¨æœ€åï¼‰</strong></span></mark><ul id="ae2dec6d-2191-406f-97bd-55e5a29c7a7d" class="bulleted-list"><li style="list-style-type:circle">ä½†è¿˜æ˜¯å»ºè®®ï¼š<mark class="highlight-purple"><strong>å¯¹äºæ¨¡ç‰ˆç±»\å‡½æ•°ï¼Œç›´æ¥æŠŠå£°æ˜å’Œå®šä¹‰å†™åœ¨ä¸€ä¸ª.hæ–‡ä»¶é‡Œ</strong></mark><mark class="highlight-default">ï¼›<br/><br/></mark><mark class="highlight-purple"><strong>æˆ–è€…æŠŠå®šä¹‰å†™åœ¨ä¸€ä¸ª.tpp</strong></mark><mark class="highlight-default">ï¼ˆæ³¨æ„ï¼Œ</mark><mark class="highlight-red"><strong>æ¨¡ç‰ˆç±»\å‡½æ•° çš„å®šä¹‰æ”¾åœ¨.tppè€Œä¸æ˜¯.cpp</strong></mark><mark class="highlight-default">ï¼‰ï¼Œ</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">ç„¶ååœ¨.hçš„æœ€å#include .tpp</mark></strong></span><mark class="highlight-default">ï¼Œå¹¶æŠŠè¿™ä¸ª</mark><mark class="highlight-purple"><strong>.tppæ–‡ä»¶æ”¾åœ¨ä¸.hæ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸‹</strong></mark><strong><br/>ï¼ˆåœ¨.hçš„æœ€å#include .tppæœ¬è´¨ä¸Šä¸ç›´æ¥å†™åœ¨.hé‡Œé¢æ˜¯ç­‰ä»·çš„ï¼‰<br/></strong></li></ul><figure id="1446d6aa-9bb7-4a95-94e5-105b04b9f786" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_16.46.32.png"><img style="width:336px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_16.46.32.png"/></a></figure><blockquote id="bcf3e1bf-2ccd-434d-b0b1-88578e904d44" class="block-color-gray_background">æ¨¡æ¿çš„å£°æ˜åŠå…¶å®šä¹‰ï¼ˆå®ç°ï¼‰<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>éœ€è¦åœ¨ç¼–è¯‘æ—¶å¯¹æ¯ä¸ªç”¨åˆ°çš„ç±»å‹å¯è§ï¼Œè¿™æ ·ç¼–è¯‘å™¨æ‰èƒ½ä¸ºæ¯ä¸ªç±»å‹å®ä¾‹åŒ–æ¨¡æ¿</strong></span></mark>ã€‚<br/>âš ï¸ï¼šè¿™ä¸€ç‚¹å¯¹äºæ¨¡ç‰ˆç±»å’Œæ¨¡ç‰ˆå‡½æ•°éƒ½æ˜¯ä¸€æ ·çš„<br/><br/>ä¾‹å¦‚ï¼ŒMyclass ç±»æ¨¡æ¿çš„å£°æ˜åœ¨<br/><strong><code>myclass.h</code></strong>ä¸­ï¼Œè€Œå¯¹åº”çš„å®šä¹‰å†™åœ¨ <code><strong>myclass.cpp</strong></code> æ–‡ä»¶ä¸­ï¼Œ<strong><code>main.cpp</code></strong>ä¸­#includeäº†myclass.hï¼Œå¹¶å¯¹æ¨¡ç‰ˆè¿›è¡Œäº†å®ä¾‹åŒ–<strong><code>myclass&lt;int&gt;</code></strong>ã€‚<br/><br/>ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹ï¼šæ ¹æ®main.cppç”Ÿæˆå¯é“¾æ¥æ–‡ä»¶f1ï¼Œæ ¹æ®myclass.cppç”Ÿæˆå¯é“¾æ¥æ–‡ä»¶f2ï¼Œæœ€åæŠŠf1ï¼Œf2é“¾æ¥èµ·æ¥å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶xã€‚<br/><br/>æŠ¥é”™ï¼š<br/><code>main.cpp</code><span style="border-bottom:0.05em solid"><strong>é“¾æ¥æ—¶å‡ºç°æœªå®šä¹‰ç¬¦å·é”™è¯¯</strong></span>ï¼Œå› ä¸ºç¼–è¯‘å™¨åœ¨ç¼–è¯‘ <code><strong>main.cpp</strong></code> æ—¶æ— æ³•è®¿é—® <code><strong>TalkyVec&lt;int&gt;</strong></code> çš„å®šä¹‰ã€‚<br/><br/><mark class="highlight-purple"><strong><br/>æ‰€ä»¥å¿…é¡»è¦åœ¨myclass.hçš„æœ€å#include&lt;myclass.cpp&gt;<br/><br/></strong></mark>è¿™æ ·åšæœ¬è´¨ä¸Šå°±ç›¸å½“äºç›´æ¥å°†å¯¹åº”çš„å®šä¹‰å†™åœ¨äº†å£°æ˜çš„åé¢ï¼Œ<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>å› æ­¤åœ¨ç¼–è¯‘é“¾æ¥æ—¶ä¸éœ€è¦ç¼–è¯‘é“¾æ¥.cppæ–‡ä»¶</strong></span></mark>ï¼ˆå¦åˆ™ä¼šå¼•å‘é‡å¤å®šä¹‰çš„æŠ¥é”™ï¼‰<figure id="1a4ae822-91fe-4450-8f81-aae607964d24" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_01.24.35.png"><img style="width:288px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_01.24.35.png"/></a></figure></blockquote></li></ul><h3 id="0a3426cf-d1a2-488c-95ab-1808efa036d7" class="block-color-blue_background">æ¨¡ç‰ˆç±»çš„å£°æ˜å’Œå®šä¹‰çš„å…·ä½“å†™æ³•</h3><figure id="f44ab652-359e-41c6-bbe7-e02adc06383e" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_21.19.31.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_21.19.31.png"/></a></figure><div id="ac66e54b-ce1f-4621-a9e5-8bd02cd24cd1" class="column-list"><div id="8656f22e-5c8e-4925-980e-1711d581f093" style="width:43.75%" class="column"><ul id="ccf4c820-a450-4337-bb05-914ef29732d9" class="bulleted-list"><li style="list-style-type:disc">TalkyVec.hï¼š<mark class="highlight-purple"><strong>æ¨¡ç‰ˆç±»çš„å£°æ˜</strong></mark><figure id="3c643c0a-b7f8-4365-8d14-1e0f12c14373" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_16.30.39.png"><img style="width:1156px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_16.30.39.png"/></a><figcaption>åœ¨æœ€åè®°å¾—#include â€œ./TalkyVec.tppâ€</figcaption></figure><ul id="506f9769-ac7a-4fd9-a841-28f75a0ac45e" class="bulleted-list"><li style="list-style-type:circle">å£°æ˜æ—¶ï¼Œ<span style="border-bottom:0.05em solid"><strong>å‚æ•°ç›´æ¥ç”¨TalkyVecæ¥ä¿®é¥°</strong></span>ï¼Œè€Œä¸æ˜¯TalkyVec&lt;ValueType&gt;</li></ul></li></ul><p id="e04a03cd-bb65-4cff-ad2b-6cc5e2c85aa8" class="">
</p></div><div id="6244a698-8db6-46db-9215-8c6a5e930f02" style="width:56.25%" class="column"><ul id="aaf693b5-4e88-47c6-9d9e-3162804465fc" class="bulleted-list"><li style="list-style-type:disc">TalkyVec.tppï¼š<mark class="highlight-purple"><strong>æ¨¡ç‰ˆç±»çš„å®šä¹‰</strong></mark><figure id="aceebade-dd72-4e57-9100-339ffc6aee19" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_16.12.03.png"><img style="width:1570px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_16.12.03.png"/></a></figure><ul id="68c19450-187b-4d7d-bce8-267dcf14ce3f" class="bulleted-list"><li style="list-style-type:circle">æ¨¡ç‰ˆç±»çš„å®šä¹‰æ–‡ä»¶<strong>æ”¾åœ¨ä¸å£°æ˜å¤´æ–‡ä»¶ç›¸åŒçš„ç›®å½•é‡Œ</strong>ï¼Œå¹¶ä¸”<strong>åç¼€åä¸º.tpp</strong></li></ul><ul id="ebbfe4be-4969-4b5d-b118-3803dd7a00e8" class="bulleted-list"><li style="list-style-type:circle">å®šä¹‰æ—¶åŒæ ·è¦å…ˆåœ¨ç¬¬ä¸€è¡Œä½¿ç”¨tempalte&lt;typename â€¦&gt;ï¼Œç„¶å<span style="border-bottom:0.05em solid"><strong>é€šè¿‡TalkyVec&lt;ValueType&gt;::æ¥å®šä¹‰æ¨¡ç‰ˆåŒ–åçš„ç±»æ–¹æ³•</strong></span></li></ul><ul id="ffdbb2e2-2db3-4ef0-aaf3-880abc797f40" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœè¦ç”¨æ¨¡ç‰ˆç±»å£°æ˜çš„æ•°æ®ç±»å‹ï¼Œè®°å¾—åŠ ä¸Šä¿®é¥°ç¬¦<strong><code>typename</code></strong><strong><br/><br/></strong>ä¾‹å¦‚è¿™é‡Œé€šè¿‡typename TalkyVec&lt;ValueType&gt;::size_type å®šä¹‰äº†æ¨¡ç‰ˆç±»ä¸­sizeæ–¹æ³•çš„è¿”å›ç±»å‹</li></ul><ul id="921b4f35-cb66-4511-95be-1b7788b21106" class="bulleted-list"><li style="list-style-type:circle"><strong>å‡å¦‚åœ¨ç±»å‡½æ•°å®šä¹‰ä¸­ï¼Œå‚æ•°ç±»å‹éœ€è¦å¼•ç”¨æ¨¡ç‰ˆç±»å£°æ˜çš„æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦é€šè¿‡<br/>TalkyVec&lt;ValueType&gt;::æ¥è¿›è¡Œè®¿é—®<br/></strong>ï¼Œå› ä¸ºç¼–è¯‘å™¨å·²ç»åœ¨è®¿é—®æ¨¡ç‰ˆç±»çš„å‡½æ•°åæ—¶ï¼Œå°±çŸ¥é“äº†æ¨¡ç‰ˆç±»çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¹Ÿå°±çŸ¥é“è¿™ä¸ªæ•°æ®ç±»å‹æ—¶åœ¨è¿™ä¸ªæ¨¡ç‰ˆç±»ä¸­è¿›è¡Œäº†å®šä¹‰</li></ul></li></ul></div></div><h3 id="3527c4dd-5b4f-4226-a791-3435ccbf18db" class="block-color-blue_background">æ¨¡ç‰ˆä¸­çš„ç±»å‹å¯ä»¥æœ‰é»˜è®¤ç±»å‹ã€å®ä¾‹åŒ–æ¨¡ç‰ˆæ—¶åŠ å…¥const</h3><ul id="d95dc2c0-db02-4c40-a5e2-ebfa282bf301" class="bulleted-list"><li style="list-style-type:disc">å¯ä»¥<span style="border-bottom:0.05em solid"><strong>ç»™æ¨¡ç‰ˆå®šä¸€ä¸ªé»˜è®¤çš„ç±»å‹</strong></span>ï¼Œ<span style="border-bottom:0.05em solid"><strong>ä¹Ÿå¯ä»¥è§„å®šæ¨¡ç‰ˆçš„ç±»å‹</strong></span>ï¼Œä¾‹å¦‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0a441dcb-d28c-4991-a0aa-8686bd099e47" class="code"><code class="language-C++">template &lt;typename foo, typename bar = bool&gt;</code></pre></li></ul><ul id="3af5d575-9b92-4459-8259-e0b04566dcd9" class="bulleted-list"><li style="list-style-type:disc"><strong>å®ä¾‹åŒ–æ¨¡ç‰ˆæ—¶ï¼Œæ¨¡ç‰ˆä¸­çš„å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨</strong><strong><code>const</code></strong><strong>å…³é”®å­—æ¥ä¿®é¥°</strong>ï¼Œä¾‹å¦‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3526913d-c258-44b9-a1ad-3dc3d7fbaf94" class="code"><code class="language-C++">using value_type = std::pair&lt;const K, M&gt;;</code></pre></li></ul><h3 id="c2b4d5a5-e033-4aec-ba01-62f363075fc9" class="block-color-blue_background">éç±»å‹æ¨¡ç‰ˆå‚æ•°</h3><ul id="8b050642-46ea-44fa-bea6-47ae73391a3d" class="bulleted-list"><li style="list-style-type:disc"><strong><mark class="highlight-red">éç±»å‹æ¨¡ç‰ˆå‚æ•°</mark></strong>ï¼šéç±»å‹æ¨¡æ¿å‚æ•°å…è®¸æ¨¡æ¿å…·ä½“åŒ–æ—¶<strong>ä¼ é€’ä¸€ä¸ªå€¼è€Œä¸æ˜¯ç±»å‹</strong>ï¼Œè€Œä¸”è¿™ä¸ªå€¼ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å€¼</li></ul><ul id="375648fa-d61a-4797-90df-970f16cc807e" class="bulleted-list"><li style="list-style-type:disc">ä¸€ä¸ªcase<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e9e58cfa-9694-4417-b5aa-27cfb62e3448" class="code"><code class="language-C++">	template &lt;typename foo, typename bar = bool, int buz, bool foobar = true&gt;

// è¿™é‡Œçš„buzå’Œfoobarå°±æ˜¯éç±»å‹æ¨¡ç‰ˆå‚æ•°ï¼Œå…¶ä¸­foobarè¿˜æœ‰é»˜è®¤å€¼</code></pre></li></ul><ul id="325f0693-2232-4660-af83-549149451f41" class="bulleted-list"><li style="list-style-type:disc">âš ï¸ï¼šC++æ ‡å‡†å¯¹äº<span style="border-bottom:0.05em solid"><strong>éç±»å‹æ¨¡æ¿å‚æ•°çš„ç±»å‹æœ‰æ˜ç¡®çš„é™åˆ¶</strong></span>ï¼Œè¿™äº›é™åˆ¶<strong>ç¡®ä¿æ¨¡æ¿å‚æ•°åœ¨ç¼–è¯‘æ—¶æ˜¯å®Œå…¨ç¡®å®š</strong>çš„ï¼Œä»¥ä¾¿æ¨¡æ¿å¯ä»¥æ ¹æ®è¿™äº›å‚æ•°è¿›è¡Œå®ä¾‹åŒ–ã€‚ï¼ˆå› æ­¤åƒstdä¸­å¾ˆå¤šåŠ¨æ€ç±»å‹çš„å®¹å™¨å°±æ— æ³•ä½œä¸ºéç±»å‹æ¨¡ç‰ˆå‚æ•°ä¼ ç»™æ¨¡ç‰ˆï¼‰<blockquote id="6076656e-ac4f-4e4f-adc0-8e90611885fd" class="block-color-gray_background">ä¾‹å¦‚ï¼Œéæ¨¡ç‰ˆç±»å‹å‚æ•°ä¸èƒ½æ˜¯<em>std::string</em>ï¼Œå› ä¸º<em>std::string</em>ä½œä¸ºä¸€ä¸ªåŠ¨æ€å†…å­˜ç®¡ç†çš„ç±»ç±»å‹ï¼Œä¸ç¬¦åˆéç±»å‹æ¨¡æ¿å‚æ•°çš„è¦æ±‚ï¼Œå› ä¸ºå®ƒæ— æ³•åœ¨ç¼–è¯‘æ—¶å°±æ˜¯å®Œå…¨ç¡®å®šçš„ï¼Œ</blockquote><ul id="bfec8500-d18b-4ad5-a9bc-f0bba48726f6" class="bulleted-list"><li style="list-style-type:circle">æˆªè‡³C++20æ ‡å‡†ï¼Œå…è®¸ä»¥ä¸‹ç±»å‹ä½œä¸ºéç±»å‹æ¨¡æ¿å‚æ•°ï¼š<ul id="1d1e496a-00b3-4fc0-9c32-fb32cd159e18" class="bulleted-list"><li style="list-style-type:square">æ•´å‹ã€å¸ƒå°”å‹ã€æšä¸¾ç±»å‹</li></ul><ul id="8081f488-1390-435c-a20e-4ce7402dd2df" class="bulleted-list"><li style="list-style-type:square">æŒ‡é’ˆç±»å‹ï¼ˆåŒ…æ‹¬å‡½æ•°æŒ‡é’ˆå’Œæˆå‘˜æŒ‡é’ˆï¼‰</li></ul><ul id="84c204de-a57d-419f-a9fc-75b54d967850" class="bulleted-list"><li style="list-style-type:square">å¼•ç”¨ç±»å‹</li></ul><ul id="a72e3d97-0417-4cc9-9976-f044f54431ed" class="bulleted-list"><li style="list-style-type:square"><em>std::nullptr_t</em>ï¼šä¸“é—¨è¡¨ç¤ºç©ºæŒ‡é’ˆå­—é¢é‡<em>nullptr</em>å¯¹åº”çš„ç±»å‹ã€‚</li></ul><ul id="e4868962-2c3e-42f5-84c9-7a772bfaaccc" class="bulleted-list"><li style="list-style-type:square">ä»C++20å¼€å§‹ï¼Œå…è®¸å­—é¢å€¼å¸¸é‡ç±»ç±»å‹ï¼ˆæ»¡è¶³certain conditionsï¼Œå¦‚æœ‰å¸¸é‡è¡¨è¾¾å¼æ„é€ å‡½æ•°ã€ææ„å‡½æ•°æ˜¯å¹³å‡¡çš„ç­‰ï¼‰</li></ul><ul id="a48f177e-ff52-4757-9880-3b42e2f00354" class="bulleted-list"><li style="list-style-type:square">ä»C++20å¼€å§‹ï¼Œå…è®¸æµ®ç‚¹å’Œå…¶ä»–å­—é¢å€¼ç±»å‹ï¼ˆç¬¦åˆç›¸åŒçš„æ¡ä»¶ï¼‰</li></ul></li></ul></li></ul><h3 id="87ceba30-68d0-4bd1-8d71-bc57efa83128" class="block-color-blue_background">åœ¨æ¨¡ç‰ˆç±»ä¸­å®šä¹‰ä¸€ä¸ªæˆå‘˜æ¨¡ç‰ˆå‡½æ•°ï¼ˆæ˜“æ··æ·†ï¼‰</h3><ul id="998e8e96-e24d-4027-861a-5b968408da39" class="bulleted-list"><li style="list-style-type:disc">C++è¿˜å…è®¸<mark class="highlight-purple"><strong>åœ¨æ¨¡ç‰ˆç±»ä¸­å®šä¹‰ä¸€ä¸ªæˆå‘˜æ¨¡ç‰ˆå‡½æ•°</strong></mark>ï¼ˆä¸€ä¸ªå¸¸è§çš„åœºæ™¯å°±æ˜¯å®šä¹‰ä¸€ä¸ª<span style="border-bottom:0.05em solid"><strong>æ¨¡ç‰ˆæ„é€ å‡½æ•°</strong></span>ï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6272e2af-a541-4008-ab5a-71d93ea6ded1" class="code"><code class="language-C++">template &lt;typename K, typename M, typename H&gt;
template &lt;typename InputIt&gt;
HashMap&lt;K, M, H&gt;::HashMap(InputIt first, InputIt last, size_t bucket_count, const H&amp; hash) :
   HashMap(bucket_count, hash) {
   for (auto iter = first; iter != last; ++iter) {
      insert(*iter);
   }
}</code></pre><ul id="7f9874ce-b218-492b-ac1d-7b3b5e49e2f3" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>æ³¨æ„ä¸ä»¥ä¸‹ä»£ç è¿›è¡ŒåŒºåˆ†</strong></span>ï¼Œä»¥ä¸‹ä»£ç æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ¨¡ç‰ˆä¸ºå››ä¸ªç±»å‹çš„æ¨¡ç‰ˆç±»<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="eb69801a-21f2-4052-8790-7475a56ff5ad" class="code"><code class="language-C++">template &lt;typename K, typename M, typename H, typename InputIt&gt;
HashMap&lt;K, M, H&gt;::HashMap(InputIt first, InputIt last, size_t bucket_count, const H&amp; hash) :
   HashMap(bucket_count, hash) {
   for (auto iter = first; iter != last; ++iter) {
      insert(*iter);
   }
}</code></pre></li></ul></li></ul><h2 id="4464256d-125b-4592-ba0f-da07f6c6e78b" class="block-color-orange_background">æ¨¡ç‰ˆå‡½æ•°</h2><ul id="61a2a011-36f8-492f-bc92-b3e7c2e122ff" class="bulleted-list"><li style="list-style-type:disc"><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">ä¸æ¨¡ç‰ˆç±»åŒç†</a></strong>ï¼Œå¯¹äºæ¨¡ç‰ˆå‡½æ•°ï¼Œ<mark class="highlight-purple"><strong>æ¨¡ç‰ˆå‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼ˆå®ç°ï¼‰å¿…é¡»å†™åœ¨åŒä¸€ä¸ª.hæ–‡ä»¶é‡Œ</strong></mark>ã€‚<ul id="6edc24d0-e669-4018-a3e9-b9d0b4081374" class="bulleted-list"><li style="list-style-type:circle">åŒæ ·ï¼Œå¯¹äºæ¨¡ç‰ˆå‡½æ•°çš„å£°æ˜ï¼Œå‰é¢ä¹Ÿè¦åŠ ä¸Štemplate&lt;typename ..&gt;</li></ul></li></ul><ul id="c021f27b-189d-4cfc-a4e8-d3874abbff50" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>æ¨¡ç‰ˆå‡½æ•°</strong></span>ï¼š<figure id="1e47f042-5184-4b71-89b3-aa9a8d870029" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.04.12.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.04.12.png"/></a></figure><ul id="835f2240-5927-4145-ae45-7fd0940d2758" class="bulleted-list"><li style="list-style-type:circle"><strong>ç¼–è¯‘å™¨å¯ä»¥è‡ªå·±æ¨æ–­ä¼ å…¥å‚æ•°çš„ç±»å‹</strong>ï¼›<strong>ä¹Ÿå¯ä»¥ç”¨autoæ¥è®©ç¼–è¯‘å™¨æ¨æ–­è¿”å›ç»“æœçš„ç±»å‹</strong><figure id="9a19f4ae-f2b4-460b-a315-588b857ece26" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.04.32.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.04.32.png"/></a></figure></li></ul><ul id="4d9ab404-0aa0-4f1a-91c3-9bf956b7398a" class="bulleted-list"><li style="list-style-type:circle">å¦‚æœè®©ç¼–è¯‘å™¨è‡ªå·±è¿›è¡Œç±»å‹æ¨æ–­ï¼Œä¸€å®šè¦<span style="border-bottom:0.05em solid"><strong>æ³¨æ„ä¸€äº›å‘ç‚¹</strong></span>ï¼Œ<span style="border-bottom:0.05em solid"><strong>æ¯”å¦‚ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼Œæ¨¡ç‰ˆæ¥å—åˆ°çš„å…¶å®æ˜¯ä¸€ä¸ªchar*ç±»å‹</strong></span>ï¼ˆå› ä¸ºç¼–è¯‘å™¨ä¼šæ¨æ–­ç±»å‹æ˜¯char*ï¼Œ è€Œä¸æ˜¯stringï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="72e6d809-8f12-4676-b03f-48ac97f3fea6" class="code"><code class="language-C++">// auto-return type + multiple types
template &lt;typename T, typename U&gt;
auto smarterMyMin(const T&amp; a, const U&amp; b) {
    return a &lt; b ? a : b;
}

// string literals like the ones below are c-strings, with a &quot;char *&quot; data type.
// char *&#x27;s are pointers, which means myMin is comparing the addresses of these two strings,
// and not the letters themselves! this is a danger of type deduction.
cout &lt;&lt; myMin(&quot;lhy999&quot;, &quot;lhy&quot;) &lt;&lt; &#x27;\n&#x27;;  // å®é™…ä¸Šæ¯”è¾ƒçš„ä¸æ˜¯ä¸¤ä¸ªstringï¼Œè€Œæ˜¯ä¸¤ä¸ªåœ°å€çš„å¤§å°
// è¿”å›çš„ç»“æœæ˜¯&quot;lhy54&quot;, é”™è¯¯ï¼(å› ä¸ºæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¦–åœ°å€char*)

// æ­£ç¡®ç”¨æ³•ï¼š
cout &lt;&lt; myMin&lt;std::string, std::string&gt;(&quot;lhy999&quot;, &quot;lhy&quot;) &lt;&lt; &#x27;\n&#x27;
// è¿”å›çš„ç»“æœæ˜¯â€œlhyâ€, æ­£ç¡® </code></pre><ul id="d50d6111-f17d-42e7-8c32-e317b92604ec" class="bulleted-list"><li style="list-style-type:square">å› æ­¤å°½é‡æ‰‹åŠ¨æŒ‡å®šç±»å‹</li></ul></li></ul></li></ul><ul id="ffa5e2a4-332a-4cce-8b5b-4db5c730bdbc" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>åœ¨æ¨¡ç‰ˆä¸­ä½¿ç”¨</strong></span><a href="https://www.notion.so/C-6e15a78480a542c49efdb2d2c4035a01?pvs=21"><span style="border-bottom:0.05em solid"><strong>å‡½æ•°æŒ‡é’ˆ</strong></span></a>ï¼š<figure id="8ac7110d-19c3-4125-aa8b-510b6760a21f" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_19.09.07.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_19.09.07.png"/></a></figure><ul id="8df16dd0-bbf2-44b2-a321-25759ca98d26" class="bulleted-list"><li style="list-style-type:circle">å…¶ä¸­ï¼ŒUniPrdå°±æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆç±»å‹<figure id="9bc25c70-b163-49d3-b34a-6512d507b36d" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_19.12.31.png"><img style="width:384px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_19.12.31.png"/></a></figure></li></ul></li></ul><ul id="9f10026c-4ff1-4cdc-8293-6cb33a674445" class="bulleted-list"><li style="list-style-type:disc">æ¨¡ç‰ˆç±»å’Œæ¨¡ç‰ˆå‡½æ•°çš„ç¼–è¯‘<figure id="b6ae8d05-0bbd-4b5b-acca-05e075b9a4c5" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_00.15.28.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_00.15.28.png"/></a></figure><ul id="36cfc20b-6a1e-4967-8083-eb4cc4e1132c" class="bulleted-list"><li style="list-style-type:circle">æ¨¡ç‰ˆç±»å’Œæ¨¡ç‰ˆå‡½æ•°<span style="border-bottom:0.05em solid"><strong>åœ¨ç¼–è¯‘æ—¶è¢«å®ä¾‹åŒ–</strong></span>ï¼Œå¹¶ä¸”åªæœ‰å½“è¢«ç”¨åˆ°æ—¶æ‰ä¼šè¢«ç¼–è¯‘<ul id="c6e57156-66de-4fc3-b7b5-e4724309e74b" class="bulleted-list"><li style="list-style-type:square"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html"><span style="border-bottom:0.05em solid"><strong>æ¨¡ç‰ˆå…ƒç¼–ç¨‹</strong></span></a>åˆ©ç”¨äº†æ¨¡ç‰ˆçš„è¿™ä¸ªç‰¹æ€§ï¼Œå®ç°ç¼–è¯‘æ—¶è®¡ç®—ï¼Œä»è€ŒåŠ é€Ÿç¨‹åºã€‚</li></ul></li></ul><ul id="29896ea9-db5d-4b0d-b6d2-66c26265a181" class="bulleted-list"><li style="list-style-type:circle">ç¼–è¯‘åï¼Œç›¸å½“äºç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆäº†å„ç§ç±»å‹ç‰ˆæœ¬çš„ç±»å’Œå‡½æ•°</li></ul></li></ul><h2 id="0fd07e57-f90c-4712-8be0-3a470989cc69" class="block-color-orange_background"><strong>Concepts å’Œ Constraintsï¼šä½¿æ¨¡ç‰ˆä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼ˆC++20ï¼‰</strong></h2><ul id="dce35892-2647-4ae0-8f6c-ea4d59149cdd" class="bulleted-list"><li style="list-style-type:disc"><em><span style="border-bottom:0.05em solid"><strong>Concepts å’Œ Constraints</strong></span></em>ï¼ˆå¯¹åº”äº<code>concept</code>ä¸<code>requires</code>å…³é”®å­—ï¼‰ï¼šåœ¨ <mark class="highlight-red"><span style="border-bottom:0.05em solid"><em><strong>C++20</strong></em></span></mark> ä¸­å¼•å…¥ï¼Œæ˜¯æ¨¡æ¿å…ƒç¼–ç¨‹çš„å¼ºå¤§å·¥å…·ã€‚å®ƒä»¬æé«˜äº†ä»£ç çš„è¡¨è¾¾èƒ½åŠ›ï¼Œä½¿æ¨¡æ¿çš„æ„å›¾æ›´åŠ æ˜ç¡®ï¼ŒåŒæ—¶ä¹Ÿè®©ç¼–è¯‘å™¨èƒ½å¤Ÿç”Ÿæˆæ›´æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾—æ¨¡æ¿ä»£ç æ›´å®¹æ˜“ç†è§£å’Œç»´æŠ¤ï¼Œæœ‰åŠ©äºå‡å°‘æ¨¡æ¿å®ä¾‹åŒ–é”™è¯¯ã€‚<ul id="e935b00c-a751-4d86-b68d-3bdaa4bc3807" class="bulleted-list"><li style="list-style-type:circle">æ¯”å¦‚<strong>å®ƒå¯ä»¥è¦æ±‚æ¨¡ç‰ˆçš„ç±»å‹å¿…é¡»æ»¡è¶³æŸäº›è¦æ±‚</strong>ï¼šæ¯”å¦‚è¦æ±‚ä¼ å…¥çš„ç±»å‹å¿…é¡»å…·æœ‰<code>end()</code>ï¼Œ<code>begin()</code>æ–¹æ³•ï¼›è¦æ±‚æ”¯æŒ+ï¼Œ-ï¼Œ*ï¼Œ/è¿ç®—ï¼›è¦æ±‚å®ƒåªèƒ½æ˜¯int, float, doubleç±»å‹</li></ul></li></ul><ul id="585e6619-463a-441f-b697-5f05c506fc32" class="bulleted-list"><li style="list-style-type:disc">ç»™æ¨¡ç‰ˆä¿®é¥°äº†requiresåï¼Œä¼šåœ¨ç¼–è¯‘å‰å°±å¯¹æ¨¡ç‰ˆçš„å®ä¾‹åŒ–è¿›è¡Œæ£€æŸ¥ã€‚</li></ul><ul id="a0f7ea00-36f8-4afd-a6ec-14900ce2525b" class="bulleted-list"><li style="list-style-type:disc"><code>requires</code>å’Œ<code>concept</code>çš„ç”¨æ³•<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="87ed9fb1-bcad-4b17-acad-7ba3d7a4c740" class="code"><code class="language-C++">template &lt;typename T&gt;
concept Addable = requires(T a, T b) {
    { a + b } -&gt; std::convertible_to&lt;T&gt;;
};

template &lt;typename T&gt;
concept Comparable = requires(T a, T b) {
    { a &lt; b } -&gt; std::convertible_to&lt;bool&gt;;
};

template &lt;typename T&gt;
concept Arithmetic = requires(T a, T b) {
    { a + b } -&gt; std::same_as&lt;T&gt;;
    { a - b } -&gt; std::same_as&lt;T&gt;;
    { a * b } -&gt; std::same_as&lt;T&gt;;
    { a / b } -&gt; std::same_as&lt;T&gt;;
		{a % b}; //åªè¿›è¡Œæ“ä½œæ£€æŸ¥ï¼Œä¸è¿›è¡Œç»“æœç±»å‹çº¦æŸ
};

template&lt;typename T&gt;
concept Iterable = requires(T x) {
    { std::begin(x) } -&gt; std::input_or_output_iterator;
    { std::end(x) } -&gt; std::input_or_output_iterator;
};

/*  è¿™ä¸ªrequiresè¡¨è¾¾å¼æ˜¯C++20å¼•å…¥çš„ä¸€ç§æ–°è¯­æ³•ï¼Œ
		ç”¨äºå®šä¹‰ä¸€ä¸ªæ‰€è°“çš„ &quot;çº¦æŸ&quot;ï¼ˆConstraintï¼‰ï¼Œå®ƒæ˜¯ç”¨äºåˆ›å»º Concepts çš„ä¸€éƒ¨åˆ†ã€‚ */</code></pre><ul id="a43c01d1-e372-4a01-aa28-4197e8f466db" class="bulleted-list"><li style="list-style-type:circle"><span style="border-bottom:0.05em solid"><strong>requiresè¡¨è¾¾å¼</strong></span>å«ä¹‰å¦‚ä¸‹ï¼š<ul id="b1d21c6a-2011-42da-8719-db7b7ec25e0a" class="bulleted-list"><li style="list-style-type:square"><strong>å‚æ•°åˆ—è¡¨</strong>ï¼š<code>(T a, T b)</code>æŒ‡å®šäº†è¿™ä¸ªçº¦æŸéœ€è¦ä¸¤ä¸ªç±»å‹ä¸º<code>T</code>çš„å‚æ•°<code>a</code>å’Œ<code>b</code>ã€‚</li></ul><ul id="5315ef6b-5853-43c2-a886-95a4d627bdbe" class="bulleted-list"><li style="list-style-type:square"><strong>æ“ä½œæ£€æŸ¥</strong>ï¼š<code>{ a + b }</code>æ˜¯ä¸€ä¸ªå¤åˆè¯­å¥ï¼Œå®ƒå°è¯•æ‰§è¡Œ<code>a + b</code>ã€‚è¿™ä¸ªå¤åˆè¯­å¥çš„ç›®çš„æ˜¯æ£€æŸ¥ç±»å‹<code>T</code>æ˜¯å¦æ”¯æŒ<code>+</code>è¿ç®—ç¬¦ã€‚</li></ul><ul id="35171d9e-596a-473b-834e-cca5c67e5d8c" class="bulleted-list"><li style="list-style-type:square"><strong>ç»“æœç±»å‹çº¦æŸ</strong>ï¼š<code>-&gt; std::convertible_to&lt;T&gt;</code>æ˜¯ä¸€ä¸ªçº¦æŸï¼Œå®ƒè¦æ±‚ä¸Šè¿°å¤åˆè¯­å¥çš„ç»“æœï¼ˆå³<code>a + b</code>çš„ç»“æœï¼‰å¿…é¡»èƒ½å¤Ÿè½¬æ¢ä¸ºç±»å‹<code>T</code>ã€‚<ul id="afa232e3-1785-44a2-8320-0d7ff98e47e9" class="bulleted-list"><li style="list-style-type:disc">å¦‚æœåªéœ€è¦è¿›è¡Œæ“ä½œæ£€æŸ¥ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†å¯ä»¥ä¸å†™</li></ul></li></ul></li></ul><ul id="c48faabd-a0a4-4972-8d31-37ac8432a0c9" class="bulleted-list"><li style="list-style-type:circle">stdæœ¬èº«æä¾›äº†ä¸€äº›å¸¸ç”¨çš„conceptæ¨¡ç‰ˆ<figure id="0beeea0e-05fe-4c6d-be7b-e3d271c124db" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_23.30.57.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-29_23.30.57.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4c6acc56-8160-4c12-bd06-0224fa7e23f7" class="code"><code class="language-C++">/* stdæä¾›ä¸€äº›å¸¸ç”¨çš„concept */
// æ£€æŸ¥ä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸åŒã€‚
template &lt;typename T, typename U&gt;
concept Same = std::same_as&lt;T, U&gt;;

// æ£€æŸ¥ä¸€ä¸ªç±»å‹æ˜¯å¦æ˜¯æ•´æ•°ç±»å‹ã€‚
template &lt;typename T&gt;
concept Integral = std::integral&lt;T&gt;;

// æ£€æŸ¥ä¸€ä¸ªç±»å‹æ˜¯å¦å¯ä»¥è¢«èµ‹å€¼ã€‚
template &lt;typename T, typename U&gt;
concept AssignableFrom = std::assignable_from&lt;T, U&gt;;

// è¿˜å¯ä»¥ç»„åˆconcept
template &lt;typename T&gt;
concept IntegralAndDefaultConstructible = Integral&lt;T&gt; &amp;&amp; std::default_initializable&lt;T&gt;; 
// è¿˜å¯ä»¥ç”¨æˆ–è¿ç®—ç¬¦&#x27;||&#x27;æ¥ç»„åˆconcept</code></pre></li></ul><ul id="ad016e47-c43c-493c-adad-108979352243" class="bulleted-list"><li style="list-style-type:circle">ä¹‹åå®šä¹‰æ¨¡ç‰ˆæ—¶å°±å¯ä»¥åˆ©ç”¨å®šä¹‰å¥½çš„<code>concept</code>ï¼ˆæˆ–è€…æ˜¯stdä¸­å·²ç»å®šä¹‰å¥½çš„ä¸€äº›<code>concept</code>ï¼Œå¦‚ï¼‰ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="68f6f85b-ff4c-4f7d-857c-5216b57fc0cb" class="code"><code class="language-C++">/* ç”¨æ³•1ï¼šä½¿ç”¨requireså…³é”®å­—(æ›´æ¨èè¿™ç§å†™æ³•) */
template &lt;typename T&gt;
	requires Addable&lt;T&gt;
T add(T a, T b) {
    return a + b;
} //è¿™ä¸ªæ¨¡ç‰ˆè¦æ±‚å®ä¾‹åŒ–æ—¶ï¼ŒTç±»å‹å¿…é¡»æ»¡è¶³concept Addable


/* ç”¨æ³•2:ç›´æ¥æŠŠconceptå†™åˆ°æ¨¡ç‰ˆçš„å®šä¹‰ä¸­ */
template &lt;Addable T&gt;
T add(T a, T b) {
    return a + b;  // åªæœ‰å½“ T æ˜¯ Addable æ—¶ï¼Œè¿™ä¸ªå‡½æ•°æ‰æœ‰æ•ˆ
}</code></pre></li></ul><ul id="6c7cd62d-ac21-4f67-8b70-3079309290b2" class="bulleted-list"><li style="list-style-type:circle">è¿˜å¯ä»¥ç»“åˆä½¿ç”¨å¤šä¸ª<code>concept</code><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c43186eb-ac18-40a1-9986-39f95efda3cc" class="code"><code class="language-C++">template &lt;Addable T, Comparable T, Arithmetic T&gt;
T exampleFunction(T a, T b) {
    // ...
}

// æˆ–è€…å†™æˆrequiresï¼ˆæ›´åŠ çµæ´»ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨requiresè¯­æ³•ï¼‰
template &lt;typename T&gt;
    requires Addable&lt;T&gt; &amp;&amp; Comparable&lt;T&gt; || Arithmetic&lt;T&gt;
void exampleFunction(T a, T b) {
    // ...
}</code></pre></li></ul></li></ul><h2 id="e7ca8bae-0680-44f9-850e-264e33beba28" class="block-color-orange_background">æ¨¡ç‰ˆå…ƒç¼–ç¨‹TMPä¸constexpr  </h2><ul id="36cf122b-4e3b-4e6c-a943-c2e74f673de5" class="bulleted-list"><li style="list-style-type:disc"><code><strong>constexpr</strong></code>æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªå…³é”®å­—ï¼Œå¦‚æœå˜é‡ã€å‡½æ•°æˆ–å¯¹è±¡æ„é€ å‡½æ•°è¢«<code>constexpr</code>è¿›è¡Œä¿®é¥°ï¼Œåˆ™<strong>è¡¨ç¤ºå®ƒä»¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ±‚å€¼</strong>ã€‚è¿™ä¸ªç‰¹æ€§<span style="border-bottom:0.05em solid"><strong>å…è®¸æŸäº›è®¡ç®—åœ¨ç¼–è¯‘é˜¶æ®µè€Œéè¿è¡Œæ—¶å®Œæˆ</strong></span>ï¼Œä»è€Œ<span style="border-bottom:0.05em solid"><strong>æé«˜ç¨‹åºçš„æ€§èƒ½å’Œå¯é¢„æµ‹æ€§</strong></span>ã€‚<figure id="3d97af24-edf1-41e1-8fcb-3bb0de15edd2" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_13.55.32.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_13.55.32.png"/></a></figure></li></ul><ul id="b545a878-a059-437e-a794-5cc1320c1a11" class="bulleted-list"><li style="list-style-type:disc"><code><strong>constexpr</strong></code>æä¾›äº†ä¸€ç§ç›¸å¯¹ç®€å•çš„æ–¹å¼æ¥<span style="border-bottom:0.05em solid"><strong>å®ç°ç¼–è¯‘æ—¶è®¡ç®—</strong></span>ï¼Œè€Œ<span style="border-bottom:0.05em solid"><strong>æ¨¡æ¿å…ƒç¼–ç¨‹</strong></span>ï¼ˆ<em><span style="border-bottom:0.05em solid"><strong>TMP</strong></span></em>ï¼‰åˆ™æ˜¯ä¸€ç§æ›´é«˜çº§å’Œå¤æ‚çš„æŠ€æœ¯ï¼Œç”¨äºåœ¨ç¼–è¯‘æ—¶æ‰§è¡Œæ›´å¤æ‚çš„é€»è¾‘ã€‚<ul id="e4711b1d-f844-4dd9-89be-8e98761512bc" class="bulleted-list"><li style="list-style-type:circle">æ¨¡ç‰ˆå…ƒç¼–ç¨‹TMPï¼šWriting code that runs during compilation (instead of run time)<figure id="abf80aa5-b576-4388-bc32-b25fd78e1ad9" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.10.44.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.10.44.png"/></a></figure><figure id="985564f1-9d0c-436d-b922-5dfe4ba87a0c" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.01.04.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-11-30_14.01.04.png"/></a></figure></li></ul></li></ul><ul id="e124d9e7-c596-4949-b891-390872fe3eae" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>constexprå˜é‡</strong></span>ï¼šå½“<code>constexpr</code>ç”¨äºå˜é‡æ—¶ï¼Œå®ƒ<span style="border-bottom:0.05em solid"><strong>æŒ‡ç¤ºè¯¥å˜é‡çš„å€¼åœ¨ç¼–è¯‘æ—¶æ˜¯å·²çŸ¥ä¸”ä¸å˜çš„ï¼ˆç¼–è¯‘æ—¶å¸¸é‡ï¼‰</strong></span>ã€‚è¿™æ„å‘³ç€å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶å°±è¢«åˆå§‹åŒ–ï¼Œä¸”åˆå§‹åŒ–è¡¨è¾¾å¼ä¹Ÿå¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5f9dfca7-dc7a-4906-b819-49e1e0449413" class="code"><code class="language-C++">constexpr int max_size = 100; // max_size æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡</code></pre><ul id="f456193c-cacc-4e1e-bbd8-f33a89e4bb0a" class="bulleted-list"><li style="list-style-type:circle"><code>const</code>å˜é‡å’Œ<code>constexpr</code>å˜é‡çš„åŒºåˆ«ï¼šå¦‚æœ<code>const</code>å˜é‡åœ¨å£°æ˜æ—¶ä½¿ç”¨äº†ç¼–è¯‘æ—¶å¸¸é‡è¡¨è¾¾å¼è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™å®ƒæ˜¯ä¸€ä¸ª<span style="border-bottom:0.05em solid"><strong>ç¼–è¯‘æ—¶å¸¸é‡</strong></span>ï¼›ä½†å¦‚æœæ˜¯ç”¨ä¸€ä¸ªè¿è¡Œæ—¶å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™å®ƒä¸æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œè€Œæ˜¯<span style="border-bottom:0.05em solid"><strong>è¿è¡Œæ—¶å¸¸é‡</strong></span><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cb38f6c8-a909-48ee-a559-ef4798f0824c" class="code"><code class="language-C++">const int max_size = 100;  // ç¼–è¯‘æ—¶å¸¸é‡ï¼Œå› ä¸º 100 æ˜¯å¸¸é‡è¡¨è¾¾å¼

void function(int x) {
    const int run_time_const = x;  // è¿è¡Œæ—¶å¸¸é‡ï¼Œå› ä¸º x çš„å€¼åœ¨è¿è¡Œæ—¶æ‰ç¡®å®š
    // ...
}</code></pre><p id="52cc854c-5136-4f9b-9af2-f3de977e9748" class="">å› æ­¤ï¼Œ<code>const</code>å…³é”®å­—ç”¨äºå£°æ˜ä¸å¯å˜çš„å˜é‡ï¼Œ<strong>ä½†è¿™äº›å˜é‡å¯ä»¥åœ¨ç¼–è¯‘æ—¶æˆ–è¿è¡Œæ—¶èµ‹å€¼</strong>ã€‚å¦‚æœä½ éœ€è¦ä¿è¯å˜é‡åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šå…¶å€¼ï¼Œåº”è¯¥ä½¿ç”¨<code>constexpr</code>ã€‚è¿™æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªå…³é”®å­—ï¼Œ<strong>ä¸“é—¨ç”¨äºå®šä¹‰ç¼–è¯‘æ—¶å¸¸é‡</strong>ã€‚</p><p id="a108263b-c018-4b33-aa03-4981ae30050b" class=""><code>constexpr</code>å…³é”®å­—å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼šè¿™ä¸ªå˜é‡æˆ–å‡½æ•°è¦åœ¨ç¼–è¯‘çš„æ—¶å€™è¿›è¡Œæ±‚å€¼ï¼ˆè€Œä¸æ˜¯è¿è¡Œæ—¶ï¼‰</p></li></ul></li></ul><ul id="80e2d9fa-d6f0-4806-a80d-7e3ed553bf39" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>constexprå‡½æ•°</strong></span>ï¼šå½“<code>constexpr</code>ç”¨äºå‡½æ•°æ—¶ï¼Œå®ƒ<span style="border-bottom:0.05em solid"><strong>è¡¨æ˜è¯¥å‡½æ•°å¯ä»¥åœ¨ç¼–è¯‘æ—¶å¯¹å¸¸é‡è¡¨è¾¾å¼å‚æ•°è¿›è¡Œæ±‚å€¼</strong></span>ã€‚è¿™æ ·çš„å‡½æ•°å¿…é¡»è¶³å¤Ÿç®€å•ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æ—¶è®¡ç®—å…¶ç»“æœã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="17117d6a-7e50-41be-97bc-b62a54c6a462" class="code"><code class="language-C++">constexpr int add(int x, int y) {
    return x + y; // å¦‚æœ x å’Œ y éƒ½æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œadd å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ±‚å€¼
}</code></pre></li></ul><ul id="daa9f25e-6d05-41d9-8e0f-6bb95df28551" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>constexprå¯¹è±¡æ„é€ å‡½æ•°</strong></span>ï¼šå½“<code>constexpr</code>ç”¨äºç±»çš„æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒ<span style="border-bottom:0.05em solid"><strong>è¡¨ç¤ºè¯¥æ„é€ å‡½æ•°å¯ä»¥ç”¨äºåˆ›å»ºç¼–è¯‘æ—¶å¸¸é‡å¯¹è±¡</strong></span>ã€‚è¿™<span style="border-bottom:0.05em solid">è¦æ±‚æ‰€æœ‰æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»ç”¨å¸¸é‡è¡¨è¾¾å¼åˆå§‹åŒ–</span>ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d6005aea-81a3-406a-bccd-46b66f5327a7" class="code"><code class="language-C++">class Point {
public:
    constexpr Point(double x, double y) : x(x), y(y) {}
    double x, y;
};

constexpr Point origin(0.0, 0.0); // origin æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡å¯¹è±¡</code></pre></li></ul><ul id="601110cf-1b5c-4457-99cd-089d42b8a00b" class="bulleted-list"><li style="list-style-type:disc">case1ï¼šç¼–è¯‘æ—¶è®¡ç®—æ•°å­¦å¸¸é‡<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="76a67943-b906-4555-b5cb-6724391ce1d7" class="code"><code class="language-C++">constexpr double pi() {
    return 3.14159265358979323846;
}

constexpr double square(double x) {
    return x * x;
}

constexpr double circleArea(double radius) {
    return pi() * square(radius);
}

int main() {
    constexpr double radius = 5.0; // radiuså¿…é¡»ç”¨constexprè¿›è¡Œä¿®é¥°
    constexpr double area = circleArea(radius);
    // ...
}</code></pre><ul id="22c8b382-cea9-480e-a257-f0fd08266538" class="bulleted-list"><li style="list-style-type:circle">è¿™é‡Œçš„radiuså’Œareaå¿…é¡»ç”¨<code>constexpr</code>è¿›è¡Œä¿®é¥°ï¼Œå¦‚æœåªç”¨doubleè¿›è¡Œä¿®é¥°ï¼Œåˆ™å®ƒä»¬æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œèµ‹å€¼çš„è¿è¡Œæ—¶å¸¸é‡ï¼ˆè€Œä¸æ˜¯ç¼–è¯‘æ—¶èµ‹å€¼çš„ç¼–è¯‘æ—¶å¸¸é‡ï¼‰</li></ul><ul id="f5cc306b-a087-425e-831c-69324297cbb4" class="bulleted-list"><li style="list-style-type:circle">ä½†å¦‚æœradiuså’Œareaæ²¡æœ‰ç”¨<code>constexpr</code>ä¿®é¥°ï¼Œåˆ™å®é™…è¿è¡Œæ—¶ï¼ŒcircleArea(radius)ä»ç„¶æ˜¯è¿è¡Œæ—¶æ±‚å€¼çš„ï¼ˆä¸ä¼šæŠ¥é”™ï¼‰</li></ul></li></ul><ul id="490a152a-4fd7-458c-897a-e8951641e4c3" class="bulleted-list"><li style="list-style-type:disc">case2ï¼šç¼–è¯‘æ—¶ç”ŸæˆæŸ¥æ‰¾è¡¨<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="52c22f8d-cbab-47ff-ac06-06eda3585b9a" class="code"><code class="language-C++">constexpr int factorial(int n) {
    return n &lt;= 1 ? 1 : n * factorial(n - 1);
}

constexpr int fac5 = factorial(5);  // åœ¨ç¼–è¯‘æ—¶è®¡ç®— 5 çš„é˜¶ä¹˜

constexpr std::array&lt;int, 10&gt; facLookup = {factorial(0), factorial(1), factorial(2),
                                           factorial(3), factorial(4), factorial(5),
                                           factorial(6), factorial(7), factorial(8),
                                           factorial(9)};</code></pre></li></ul><ul id="e4005537-6073-424e-ab70-f36bf7b35b51" class="bulleted-list"><li style="list-style-type:disc">case3ï¼šç¼–è¯‘æ—¶æ„é€ å¸¸é‡å¯¹è±¡<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="544f0353-5455-41de-b368-f64941acfb8d" class="code"><code class="language-C++">class Point {
public:
    constexpr Point(double x, double y) : x(x), y(y) {}

    constexpr double getX() const { return x; }
    constexpr double getY() const { return y; }

private:
    double x, y;
};

constexpr Point origin(0.0, 0.0);
constexpr Point unitX(1.0, 0.0);
constexpr Point unitY(0.0, 1.0);</code></pre></li></ul><ul id="d84ee535-6424-4b56-b501-4756108410b6" class="bulleted-list"><li style="list-style-type:disc">case4ï¼šç¼–è¯‘æ—¶å¤„ç†å­—ç¬¦ä¸²<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5df40a81-3193-47bc-a769-43aaadfa88f2" class="code"><code class="language-C++">constexpr size_t stringLength(const char* str) {
    return *str ? 1 + stringLength(str + 1) : 0;
}

constexpr size_t len = stringLength(&quot;Hello, world!&quot;);</code></pre></li></ul><ul id="e8a9e745-99bd-4253-97f9-ced4a8255e29" class="bulleted-list"><li style="list-style-type:disc">case5ï¼šç¼–è¯‘æ—¶æ±‚fibæ•°<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7575e9bb-8899-49f7-9bec-5e11e5920680" class="code"><code class="language-C++">constexpr double fib(int n) { // function declared as constexpn
	if (n == 1) return 1;
	return fib(n-l) * n;
}

int main() {
	constexpr long long bigval = fib(20);
	std: : cout &lt;&lt; bigval &lt;&lt; std::endl;
}</code></pre></li></ul><h2 id="f49a47c3-cc65-4358-acfd-bb3fba6fd39f" class="block-color-orange_background">Lambdaè¡¨è¾¾å¼  </h2><ul id="95601e12-cf61-4f87-9f54-bf8452cf52fb" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>Lambdaè¡¨è¾¾å¼</strong></span>ï¼šC++11å¼•å…¥çš„ç‰¹æ€§ï¼Œæä¾›äº†ä¸€ç§æ–¹ä¾¿ã€ç®€æ´çš„æ–¹å¼æ¥å®šä¹‰åœ¨å±€éƒ¨ä½œç”¨åŸŸå†…å¯ä»¥æ‰§è¡Œçš„ä¸€æ¬¡æ€§å‡½æ•°ã€‚</li></ul><ul id="86d3a0f4-cbb7-4128-8a4e-11c1e12e2118" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>è¯­æ³•</strong></span>ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a4f71326-c59a-49be-8b3b-6cffab6a3a45" class="code"><code class="language-C++">[æ•è·åˆ—è¡¨](å‚æ•°åˆ—è¡¨) -&gt; è¿”å›ç±»å‹ {
    å‡½æ•°ä½“
};
æ³¨æ„ï¼šæœ€åè¿˜æœ‰ä¸€ä¸ªåˆ†å·</code></pre><ul id="8c857f84-a601-4dae-a615-933fd0d01879" class="bulleted-list"><li style="list-style-type:circle"><strong>æ•è·åˆ—è¡¨</strong>ï¼šç”¨äºå¼•ç”¨å¤–éƒ¨çš„å˜é‡ï¼ˆå®ç°äº†é—­åŒ…ï¼‰<ul id="03c9ea25-5c8f-4323-ba23-b84ead080c9d" class="bulleted-list"><li style="list-style-type:square">æ•è·åˆ—è¡¨ä¸­ä¸éœ€è¦å£°æ˜å˜é‡çš„ç±»å‹ï¼ˆåªæœ‰å‚æ•°åˆ—è¡¨ä¸­éœ€è¦ï¼‰ï¼Œåªéœ€è¦å£°æ˜å˜é‡å</li></ul><ul id="8c60bfac-b7bf-41a1-9c09-ffa9e17e7636" class="bulleted-list"><li style="list-style-type:square">æ•è·åˆ—è¡¨ä¸­å¯ä»¥åœ¨å˜é‡åå‰é¢åŠ ä¸Š&amp;ï¼Œä»è€Œé˜²æ­¢è¿›è¡Œå€¼ä¼ é€’ï¼ŒåŒæ—¶è¿˜å¯ä»¥ä¿®æ”¹å¤–éƒ¨å˜é‡çš„çŠ¶æ€ </li></ul></li></ul><ul id="86b602a6-38c0-47a0-ae83-e3fd0afe1f74" class="bulleted-list"><li style="list-style-type:circle"><strong>è¿”å›ç±»å‹</strong>ï¼šå¯ä»¥è®©ç¼–è¯‘å™¨è‡ªåŠ¨è¿›è¡Œæ¨æ–­ï¼Œä½†<strong>æ˜¾å¼åœ°æŒ‡æ˜è¿”å›ç±»å‹æ˜¯ä¸€ä¸ªgood practice</strong>ï¼ˆé™¤éè¿™ä¸ªè¿”å›ç±»å‹ä¸æ˜¯å›ºå®šçš„ï¼‰<ul id="5f148af6-96b6-4400-9dd8-c3448c04693b" class="bulleted-list"><li style="list-style-type:square">å¦‚æœä¸è¿”å›ä»»ä½•æ•°æ®ï¼Œåˆ™è¿”å›ç±»å‹æ˜¯void</li></ul></li></ul></li></ul><ul id="6edaa801-e19d-4580-bf3d-7107ba1dd3ae" class="bulleted-list"><li style="list-style-type:disc">ç¤ºä¾‹ç”¨æ³•<figure id="c860a086-6d33-4426-b8ec-1507d46b2903" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_22.15.25.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_22.15.25.png"/></a></figure><ul id="6196d09c-0cd2-47e0-bd88-8ba8f6b5b7f9" class="bulleted-list"><li style="list-style-type:circle">case1ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="358ec79b-33e5-4a82-b8d6-7d19c231c049" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;numeric&gt;

int main() {
    std::vector&lt;int&gt; nums = {1, 2, 3, 4, 5};
    int sum = 0;

    // æ•è·å¤–éƒ¨å˜é‡sumï¼ˆä½¿ç”¨å¼•ç”¨ï¼‰
    std::for_each(nums.begin(), nums.end(), [&amp;sum](int n) -&gt; void{
        sum += n;
    });

    std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; std::endl;
    return 0;
}</code></pre></li></ul><ul id="62712801-5da2-483c-8901-d60aa13188d8" class="bulleted-list"><li style="list-style-type:circle">case2ï¼š<a href="https://www.notion.so/C-6e15a78480a542c49efdb2d2c4035a01?pvs=21">å‡½æ•°æŒ‡é’ˆ</a> + Lambdaè¡¨è¾¾å¼<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b534dbbf-0980-4d39-bd46-75cc25597ec0" class="code"><code class="language-C++">int main() {
    std::function&lt;int(int, int)&gt; func = [](int a, int b) -&gt; int{
        return a * b;
    };

    std::cout &lt;&lt; &quot;Lambda Result: &quot; &lt;&lt; func(6, 7) &lt;&lt; std::endl;
    return 0;
}</code></pre><ul id="78683b49-2ff0-4d00-b15b-ee178e4fa5f7" class="bulleted-list"><li style="list-style-type:square">é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥æ„é€ ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</li></ul></li></ul></li></ul><ul id="f1b4fd95-3c58-4439-832b-63fd0fa8cfbf" class="bulleted-list"><li style="list-style-type:disc">ç”±äºLambdaè¡¨è¾¾å¼æœ‰ä¸€ä¸ªæ•è·åˆ—è¡¨ï¼Œæ‰€ä»¥å®ƒå¯ä»¥<strong>æ„é€ â€œå‡å‚æ•°â€</strong>ï¼Œä¾‹å¦‚<figure id="b72d2f45-0963-4e18-9ad6-69c48cc01e8e" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_22.12.19.png"><img style="width:576px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2023-12-10_22.12.19.png"/></a></figure><ul id="79e9351c-a462-4973-8e01-6f9bc35f3b70" class="bulleted-list"><li style="list-style-type:circle">å…¶ä¸­ï¼Œ<code>limit</code>å°±æ˜¯ä¸€ä¸ªâ€œå‡å‚æ•°â€</li></ul><ul id="8da1ee5e-8ab0-40b1-8865-86a52366d707" class="bulleted-list"><li style="list-style-type:circle">é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæ—¢èƒ½ä½¿ç”¨â€œå‡å‚æ•°â€limitæ¥æ§åˆ¶å‡½æ•°isMoreThançš„è¡Œä¸ºï¼Œåˆèƒ½ä½¿å‡½æ•°çš„å‚æ•°é‡åªæœ‰1ä¸ª</li></ul></li></ul><ul id="55668bd0-35d6-4d5a-becf-05860c1b0260" class="bulleted-list"><li style="list-style-type:disc">åœ¨å¤§éƒ¨åˆ†çš„ç®€å•åœºæ™¯ä¸‹ï¼Œlambdaè¡¨è¾¾å¼é€šå¸¸ç”¨æ¥è¡¨è¿°ä¸€ä¸ª<a href="https://www.notion.so/C-6e15a78480a542c49efdb2d2c4035a01?pvs=21">è°“è¯å‡½æ•°</a></li></ul><h2 id="514fa35e-30e6-4b52-8fbf-1173f0fb033b" class="block-color-orange_background">Functor ï¼ˆå‡½æ•°å¯¹è±¡ï¼‰ </h2><ul id="09a3ad47-c8f7-44ed-93bc-d0cee45adcd6" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>å¦‚æœä¸€ä¸ªç±»é‡è½½äº†</strong></span> <code><strong>operator()</strong></code>ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ª <code>Functor</code>ã€‚å½“åˆ›å»ºè¿™ä¸ªç±»çš„å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥åƒè°ƒç”¨å‡½æ•°é‚£æ ·è¢«ä½¿ç”¨ã€‚</li></ul><ul id="18d43522-9aa2-4655-8ef9-f54aad2c8273" class="bulleted-list"><li style="list-style-type:disc"><code>Functor</code>ç›¸è¾ƒäºæ™®é€šçš„å‡½æ•°ï¼Œå®ƒ<span style="border-bottom:0.05em solid"><strong>å¯ä»¥å­˜å‚¨æˆ–æ”¹å˜çŠ¶æ€</strong></span>ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¯ä»¥æ ¹æ®å†…éƒ¨çŠ¶æ€æˆ–ä»¥å‰çš„è®¡ç®—ç»“æœæ”¹å˜è¡Œä¸ºã€‚</li></ul><ul id="1817ffbf-a7d1-4676-bd81-ee471622da76" class="bulleted-list"><li style="list-style-type:disc">ç”¨æ³•ï¼š<ul id="8b1b5592-88ac-42d1-8cc1-59f9b67f334c" class="bulleted-list"><li style="list-style-type:circle">case1ï¼šfunctor + å‡½æ•°æŒ‡é’ˆ<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="207ef4e2-385c-462d-b2fd-288f1c2c1cf1" class="code"><code class="language-C++">class Adder {
public:
    Adder(int increment) : increment_(increment) {}

    int operator()(int x) const {
        return x + increment_;  // ä¹Ÿå¯ä»¥æ”¹å˜increment_çš„å€¼
    }

private:
    int increment_;
};


int main() {
    Adder addFive(5);
    std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; addFive(10) &lt;&lt; std::endl; // è¾“å‡º 15
		std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; addFive(20) &lt;&lt; std::endl; // è¾“å‡º 25

    // functor + å‡½æ•°æŒ‡é’ˆ
    std::function&lt;int(int)&gt; func = addFive;
    std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; func(10) &lt;&lt; std::endl; // è¾“å‡º 15

    return 0;
}</code></pre></li></ul></li></ul><ul id="14df9b33-e6f3-4c0d-9d9b-077ad9281f13" class="bulleted-list"><li style="list-style-type:disc"><code>functor</code>ä¸ç±»çš„åŒºåˆ«ï¼šä½¿ç”¨ç±»å¯ä»¥å®ç°ä¸<strong><code>functor</code></strong>ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†<code>functor</code><span style="border-bottom:0.05em solid"><strong>ä»ç„¶ä½œä¸ºå‡½æ•°ç±»å‹å­˜åœ¨</strong></span>ï¼Œç›¸è¾ƒäºç±»æœ‰ä»¥ä¸‹ä¼˜åŠ¿<ul id="276bc9c5-2aa3-4b49-bf56-5c826654ec8f" class="bulleted-list"><li style="list-style-type:circle"><strong>ä½œä¸ºå›è°ƒå‡½æ•°</strong>ï¼šfunctorä»ç„¶ä½œä¸ºå‡½æ•°ç±»å‹å­˜åœ¨ï¼Œå› æ­¤å‡½æ•°æŒ‡é’ˆå¯ä»¥ä½¿ç”¨functorï¼Œ<code>std::function</code>ä¹Ÿå¯ä»¥ç”¨æ¥ä¿®é¥°<code>functor</code></li></ul><ul id="f2d4aa1c-71fd-4574-ace6-3cbb2623b8e9" class="bulleted-list"><li style="list-style-type:circle"><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šfunctorå¯ä»¥æ•è·å’Œä¿æŒçŠ¶æ€ï¼Œè¿™åœ¨éœ€è¦åŸºäºä¹‹å‰æ“ä½œç»“æœçš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ã€‚</li></ul></li></ul><h2 id="b31af386-fc14-4f99-bed0-478ee12f8520" class="block-color-orange_background">algorithmåŒ…</h2><figure id="1b3132a6-484f-4076-b6ac-3f2b149bb49e"><a href="https://en.cppreference.com/w/cpp/algorithm" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Algorithms library - cppreference.com</div><div class="bookmark-description">The algorithms library defines functions for a variety of purposes (e.g. searching, sorting, counting, manipulating) that operate on ranges of elements. Note that a range is defined as [first,Â last) where last refers to the element past the last element to inspect or modify.</div></div><div class="bookmark-href"><img src="https://en.cppreference.com/favicon.ico" class="icon bookmark-icon"/>https://en.cppreference.com/w/cpp/algorithm</div></div></a></figure><ul id="8d0523e7-c391-4410-a3df-8a767ed4f8b1" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::for_each</strong></code>ï¼šéå†å®¹å™¨ï¼Œå¯¹æ¯ä¸ªå…ƒç´ ä½œç”¨ä¸€ä¸ªä¼ å…¥çš„å‡½æ•°</li></ul><ul id="8f8ad041-d614-4cfa-a9fe-e720831d2776" class="bulleted-list"><li style="list-style-type:disc"><strong><code>any_of</code></strong>ã€<strong><code>all_of</code></strong>ã€<strong><code>none_of</code></strong>ï¼šå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®¹å™¨å†…çš„å…ƒç´ æ˜¯å¦æ»¡è¶³æŸä¸ªæ¡ä»¶<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="20f4de5b-313f-4de6-a523-5f2951169695" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;

int main() {
  std::vector&lt;int&gt; v = {1, 2, 3, -4, 5};
	std::function&lt;bool(int)&gt; f = [](int i) {
		return i &lt; 0;
	};

  std::cout &lt;&lt; std::any_of(v.begin(), v.end(), f)  &lt;&lt; &#x27;\n&#x27;;  // è¾“å‡º1
	std::cout &lt;&lt; std::all_of(v.begin(), v.end(), f)  &lt;&lt; &#x27;\n&#x27;;  // è¾“å‡º0
 	std::cout &lt;&lt; std::none_of(v.begin(), v.end(), f) &lt;&lt; &#x27;\n&#x27;;  // è¾“å‡º0
	// å¦‚æœ-4æ”¹ä¸º4ï¼Œåˆ™è¾“å‡ºç»“æœå˜ä¸ºï¼š0 0 1
}</code></pre></li></ul><ul id="0b580682-6a98-467d-9e8a-a138240ce59d" class="bulleted-list"><li style="list-style-type:disc"><strong><code>find</code></strong><strong>ã€</strong><code><strong>find_if</strong></code>å’Œ<strong><code>search</code></strong><ul id="009ff647-4e7a-4da6-a9b6-426943e73360" class="bulleted-list"><li style="list-style-type:circle"><em><code>find</code></em>ï¼šç”¨äºåœ¨ä¸€ä¸ªå®¹å™¨çš„æŸä¸ªèŒƒå›´å†…æŸ¥æ‰¾<span style="border-bottom:0.05em solid"><strong>æŸä¸ªå…ƒç´ </strong></span>çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°çš„è¯ä¼šè¿”å›end()</li></ul><ul id="9bf07ea2-8f24-4c65-811c-ca54fa054e26" class="bulleted-list"><li style="list-style-type:circle"><em><code>find_if</code></em>ï¼šæ ¹æ®æŸä¸ª<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">è°“è¯å‡½æ•°</a>ï¼Œåœ¨ä¸€ä¸ªå®¹å™¨ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªæ»¡è¶³è¿™ä¸ªè°“è¯çš„å…ƒç´ çš„ä½ç½®ï¼ˆè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f53300a0-e7c4-4130-bcfa-a8ab5745a12e" class="code"><code class="language-C++">std::vector&lt;int&gt; v = {1, 3, 5, 2, 4, 6, 7};
auto is_even = [](int i) { return i % 2 == 0; };
// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¶æ•°
auto it = std::find_if(v.begin(), v.end(), is_even);</code></pre></li></ul><ul id="7d4d4f82-e2a3-4a05-8952-23a0ccf27058" class="bulleted-list"><li style="list-style-type:circle"><em><code>search</code></em>ï¼šç”¨äºåœ¨ä¸€ä¸ªåºåˆ—ï¼ˆå¦‚vector, list, stringï¼‰ä¸­æŸ¥æ‰¾å¦<span style="border-bottom:0.05em solid"><strong>ä¸€ä¸ªåºåˆ—</strong></span>çš„ç¬¬ä¸€æ¬¡å‡ºç°ã€‚<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a6108f3d-2928-4a9a-9638-b7ec7369501b" class="code"><code class="language-C++">std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
std::vector&lt;int&gt; pattern = {3, 4};
auto it = std::search(v.begin(), v.end(), pattern.begin(), pattern.end());</code></pre></li></ul></li></ul><ul id="7be7286d-6390-43b2-aede-00f99d954aa0" class="bulleted-list"><li style="list-style-type:disc"><strong><code>copy</code></strong>ä¸<code><strong>copy_backward</strong></code>ï¼šéƒ½ç”¨äºå°†ä¸€ä¸ªå®¹å™¨ä¸­æŸä¸ªèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€ä¸ªå®¹å™¨é‡Œï¼Œåªä¸è¿‡æ‹·è´æ—¶çš„æ–¹å‘ä¸åŒã€‚copyæ˜¯ä»å‰å¾€åçš„é¡ºåºä¸€ä¸ªä¸€ä¸ªæ‹·è´ï¼Œè€Œcopy_backwardæ˜¯ä»åå¾€å‰çš„é¡ºåºä¸€ä¸ªä¸€ä¸ªæ‹·è´<br/><br/><mark class="highlight-default"><strong>å½“ä¸¤ä¸ªå®¹å™¨çš„æ‹·è´åŒºåŸŸä¸­æœ‰é‡å éƒ¨åˆ†æ—¶ï¼Œ</strong></mark><mark class="highlight-purple"><strong>æ¯”å¦‚å‘å‰ç§»åŠ¨æ‹·è´å’Œå‘åç§»åŠ¨æ‹·è´çš„çš„åœºæ™¯</strong></mark><mark class="highlight-default"><strong>ï¼Œ</strong></mark><span style="border-bottom:0.05em solid"><mark class="highlight-default"><strong>copyå’Œcopy_backwardåˆ†åˆ«ä¼šäº§ç”Ÿä¸åŒçš„æ•ˆæœ</strong></mark></span><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5fa9353b-6b87-4cb2-9c2b-e1d24d98c193" class="code"><code class="language-C++">// æŠŠv1çš„æ‰€æœ‰å…ƒç´ æ‹·è´åˆ°v2é‡Œ
std::copy(v1.begin(), v1.end(), v2.begin());

// æŠŠv1çš„poså¤„å¼€å§‹çš„æ‰€æœ‰å…ƒç´ å¾€åç§»ä¸€ä¸ªå•ä½
std::copy_backward(pos, v1.end(), v1.end() + 1); </code></pre></li></ul><ul id="ea72eebc-1f34-4c50-95aa-736afd16791a" class="bulleted-list"><li style="list-style-type:disc"><strong><code>count_if</code></strong>ï¼šç”¨äºè®¡ç®—å®¹å™¨ä¸­æŸä¸ªèŒƒå›´å†…ï¼Œæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ æ•°é‡<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="83f4d0e2-ebee-4d81-81b8-20ad99dadbc1" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;

using std::string, std::map, std::pair, std::count_if, std::cout;
int main() {
    map&lt;int, tring&gt; myMap = {
        {1, &quot;apple&quot;}, {2, &quot;banana&quot;}, {3, &quot;cherry&quot;}
    };

    // è®¡ç®—é”®å¤§äº1çš„å…ƒç´ æ•°é‡
    int count = count_if(myMap.begin(), myMap.end(), [](const pair&lt;int, string&gt;&amp; p) {
        return p.first &gt; 1; // p.first æ˜¯é”®ï¼Œp.second æ˜¯å€¼
    });

    cout &lt;&lt; &quot;Number of elements with key &gt; 1: &quot; &lt;&lt; count &lt;&lt; &#x27;\n&#x27;;

    return 0;
}</code></pre></li></ul><ul id="ed136d61-a1cb-4333-a41c-9251177c7362" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::max_element</strong></code><strong> / </strong><code><strong>std::min_element</strong></code>ï¼šæ‰¾åˆ°åºåˆ—ä¸­çš„æœ€å¤§æˆ–æœ€å°å…ƒç´ ã€‚</li></ul><ul id="555919f0-2228-4b4a-ac1b-2c283951da7c" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::max</strong></code><strong> / </strong><code><strong>std::min</strong></code>ï¼šåœ¨ä¸¤ä¸ªå€¼ä¸­æ‰¾åˆ°æœ€å¤§æˆ–æœ€å°å€¼ã€‚</li></ul><ul id="e142123b-e2b2-4145-b8b1-1643ae4f162b" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::fill</strong></code><strong> </strong>ï¼šç”¨ç‰¹å®šå€¼å¡«å……åºåˆ—ã€‚</li></ul><ul id="0b661aef-30a5-4c67-8508-96de89d70692" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::replace</strong></code><strong> / </strong><code><strong>std::replace_if</strong></code>ï¼šæ›¿æ¢åºåˆ—ä¸­æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚</li></ul><ul id="33a12555-421a-4bea-ba99-ec0136ec55d2" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::remove</strong></code><strong> / </strong><code><strong>std::remove_if</strong></code>ï¼šç§»é™¤æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚</li></ul><h2 id="6a073728-12b4-4946-aca4-92f13541fe92" class="block-color-orange_background">rangesåº“(C++ 20)ï¼šSTL 2.0ï¼Œå‡½æ•°å¼ç¼–ç¨‹</h2><figure id="592dd6f2-5e40-453c-b12b-699d4b254c04"><a href="https://zhuanlan.zhihu.com/p/86809598" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">ranges for C++20ç®€ä»‹</div><div class="bookmark-description">rangeså¯ä»¥çœæ‰å¾ˆå¤šå¾ªç¯ï¼ŒåŒ…æ‹¬å¤šé‡å¾ªç¯ï¼Œå†™å‡ºæ¥çš„ä»£ç åˆç®€å•ï¼Œå¯è¯»æ€§åˆå¥½ã€‚ä»æ­¤ä»¥åå¾ˆå¤šç®—æ³•å’Œé€»è¾‘çš„å®ç°éƒ½å°†è¿›å…¥åˆ°easyæ¨¡å¼ã€‚æœ¬æ–‡é€šè¿‡ä¸€ä¸ªä¾‹å­è¯´æ˜è¿™ä¸€ç‚¹ã€‚å¦‚æœè‡ªå·±ç”¨å¾ªç¯å»å®ç°ï¼Œä¼šéº»çƒ¦å¾ˆå¤šï¼Œrangeså°†æ‰‹å†™å¾ªç¯å¾ˆâ€¦</div></div><div class="bookmark-href"><img src="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png" class="icon bookmark-icon"/>https://zhuanlan.zhihu.com/p/86809598</div></div></a></figure><h3 id="2a86cba9-4c49-4ea0-8713-34bec9d541f3" class="block-color-blue_background">åŸºæœ¬æ¦‚å¿µï¼šRangeä¸view</h3><ul id="c1f1167c-f975-43df-92c9-cc57892c3e77" class="bulleted-list"><li style="list-style-type:disc"><em><mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>Range</strong></span></mark></em><mark class="highlight-default">ï¼šå¯¹ä¼ ç»Ÿå®¹å™¨çš„è¡¥å……å’Œå¢å¼ºï¼Œç”¨äº</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">æè¿°ä¸€ä¸ªæ•°æ®åºåˆ—</mark></strong></span><ul id="c527ec68-6e83-4a66-86fb-cdf4c12d1836" class="bulleted-list"><li style="list-style-type:circle">ä¸€ä¸ª<code>Range</code>ç±»å¿…é¡»æä¾›<code>begin()</code>å’Œ<code>end()</code>æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«æŒ‡å‘è¿™ä¸ªæ•°æ®åºåˆ—<span style="border-bottom:0.05em solid"><strong>è¿­ä»£å™¨</strong></span>çš„å¼€å§‹å’Œç»“æŸçš„ä½ç½®<ul id="403ea611-d873-4bb9-bbaa-74c7154ebd83" class="bulleted-list"><li style="list-style-type:square"><span style="border-bottom:0.05em solid"><strong>è¿­ä»£å™¨</strong></span>ï¼šå…·æœ‰è¿ç®—ç¬¦*ã€â†’ã€++ã€==ã€â‰ çš„ä¸€ç§ç±»</li></ul><blockquote id="0eaec045-37ba-4b11-9141-de77e1863b7e" class="block-color-gray_background">æ‰€ä»¥ä½¿ç”¨ä¸€ä¸ª<code>Range</code>ä¸ä½¿ç”¨ä¸€ä¸ªå®¹å™¨çš„ç”¨æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼ˆæ— è®ºæ˜¯è¿­ä»£çš„æ–¹å¼ï¼Œè¿˜æ˜¯å–å€¼çš„æ–¹å¼ï¼‰</blockquote></li></ul><ul id="dc94df08-af87-4a9a-aea7-5c7a4f8a2713" class="bulleted-list"><li style="list-style-type:circle">stlä¸­æ‰€æœ‰çš„å®¹å™¨éƒ½æ˜¯<code>Range</code></li></ul></li></ul><ul id="d7a4ab26-126e-4369-8d02-7201e94ad976" class="bulleted-list"><li style="list-style-type:disc"><code>Range</code>çš„APIå’Œå®¹å™¨çš„APIæ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œ<span style="border-bottom:0.05em solid"><strong>ç”¨èµ·æ¥æ²¡æœ‰åŒºåˆ«</strong></span>ï¼ˆå› ä¸ºå®¹å™¨ä¹Ÿæ˜¯ä¸€ä¸ªRangeï¼‰<blockquote id="99d5cc99-5c34-4c95-b83c-a137e5ad3bff" class="block-color-gray_background">ä¾‹å¦‚Rangeä¹Ÿæä¾›äº†begin()ã€eng()ã€size()ã€empty()ç­‰æ–¹æ³•</blockquote><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="62fe1f53-6aa2-4807-bef0-3c774388797f" class="code"><code class="language-C++">int main() {
    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
    // å‡è®¾æˆ‘ä»¬æƒ³åœ¨è§†å›¾çš„å‰ä¸‰ä¸ªå…ƒç´ ä¸­æŸ¥æ‰¾æ•°å­— 3
    // vectorä¹Ÿæ˜¯ä¸€ä¸ªrangeï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è°ƒç”¨std::ranges::find
    auto it = std::ranges::find(v.begin(), v.begin() + 3, 3);
    if (it != view.begin() + 3) {
        std::cout &lt;&lt; &quot;Found: &quot; &lt;&lt; *it &lt;&lt; &quot;\n&quot;;
    } else {
        std::cout &lt;&lt; &quot;Not found in the specified range\n&quot;;
    }
}</code></pre></li></ul><ul id="5a16d129-2493-4c2e-82ac-5debc8dd281a" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><mark class="highlight-red"><strong>å‡½æ•°å¼ç¼–ç¨‹</strong></mark></span>ï¼šä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå¼ºè°ƒä½¿ç”¨å‡½æ•°æ¥å¤„ç†æ•°æ®ï¼Œä»¥åŠ<span style="border-bottom:0.05em solid"><strong>é¿å…çŠ¶æ€å˜åŒ–å’Œå¯å˜æ•°æ®</strong></span>ã€‚<ul id="4ccb29a8-0650-4b83-8634-2094d203d569" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><strong>ä¸å¯å˜æ€§</strong></mark>ï¼šåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œ<span style="border-bottom:0.05em solid"><strong>æ•°æ®æ˜¯ä¸å¯å˜çš„</strong></span>ã€‚è¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½ä¿®æ”¹å®ƒã€‚æ‰€æœ‰çš„å˜åŒ–éƒ½é€šè¿‡åˆ›å»ºæ–°çš„å¯¹è±¡æ¥å®ç°ï¼Œè€Œä¸æ˜¯æ›´æ”¹ç°æœ‰çš„å¯¹è±¡ã€‚</li></ul><ul id="35251f9d-6ba2-4497-a820-16f5669c0eb3" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><strong>å‡½æ•°é“¾å’Œç®¡é“</strong></mark>ï¼šå‡½æ•°å¼ç¼–ç¨‹ç»å¸¸åˆ©ç”¨<span style="border-bottom:0.05em solid"><strong>å‡½æ•°é“¾å’Œç®¡é“</strong></span>çš„æ¦‚å¿µæ¥å¤„ç†æ•°æ®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥<span style="border-bottom:0.05em solid"><strong>å°†å¤šä¸ªå‡½æ•°è°ƒç”¨ä¸²è”</strong></span>èµ·æ¥ï¼Œæ¯ä¸ªå‡½æ•°çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ã€‚</li></ul></li></ul><ul id="161b15be-4134-44e3-bf88-f49df3113e11" class="bulleted-list"><li style="list-style-type:disc"><code>Ranges</code>åº“å¼•å…¥äº†<span style="border-bottom:0.05em solid"><strong>å‡½æ•°å¼é£æ ¼çš„ç¼–ç¨‹æ–¹æ³•</strong></span>ï¼Œå…¶ä¸­å¯ä»¥å°†å¤šä¸ªæ“ä½œç»„åˆæˆä¸€ä¸ªæµæ°´çº¿ï¼Œæ•°æ®å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—çš„è½¬æ¢å’Œè¿‡æ»¤ï¼Œä»è€Œç”Ÿæˆæœ€ç»ˆç»“æœã€‚<ul id="3141e556-50bf-48de-803a-f828f3b253aa" class="bulleted-list"><li style="list-style-type:circle">æŸäº›æ”¯æŒéšæœºç´¢å¼•çš„<code>Range</code>åœ¨ç»è¿‡æŸä¸ªæ“ä½œåï¼Œä¼š<strong>å˜æˆä¸€ä¸ªä¸æ”¯æŒéšæœºç´¢å¼•çš„</strong><strong><code>Range</code></strong></li></ul></li></ul><ul id="94e69d87-5ce9-4ced-8775-93c26e785024" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><mark class="highlight-red"><em><strong>view</strong></em></mark></span>ï¼ˆè§†å›¾ï¼‰ï¼šä¸€ç§ç‰¹æ®Šç±»å‹çš„<code>Range</code>ï¼ˆviewåŒæ ·æ˜¯ä¸€ä¸ªRangeç±»ï¼‰ï¼Œ<em><strong>view are ranges with lazy evaluation</strong></em><ul id="24b3e26a-22ea-4ba4-868d-2a1e7e333d70" class="bulleted-list"><li style="list-style-type:circle"><strong><code>view</code></strong><strong>æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„</strong><strong><code>Range</code></strong>ï¼Œå®ƒæä¾›äº†<strong>å¯¹ç°æœ‰</strong><strong><code>Range</code></strong><strong>çš„ä¸€ä¸ªâ€œè§†å›¾â€</strong>ï¼Œ<code><mark class="highlight-purple"><strong>Range</strong></mark></code><mark class="highlight-purple"><strong>çš„ä¸€ä¸ªè§†å›¾ä¹Ÿå¯ä»¥ç†è§£ä¸ºå°±æ˜¯é’ˆå¯¹</strong></mark><mark class="highlight-purple"><strong><code>Range</code></strong></mark><mark class="highlight-purple"><strong>çš„ä¸€ç§æ“ä½œ</strong></mark>ï¼ˆè¿™ä¸ªæ“ä½œä¸ä½œç”¨åœ¨<code>Range</code>æœ¬èº«ï¼Œè€Œæ˜¯é€šè¿‡â€œè§†å›¾â€çš„æ–¹å¼å±•ç¤ºå‡ºæ¥ï¼‰</li></ul><ul id="84f762c7-2ac9-45b3-bf02-d0a8e8e128c1" class="bulleted-list"><li style="list-style-type:circle"><code>view</code><mark class="highlight-red"><strong>æœ¬èº«ä¸æ‹¥æœ‰æ•°æ®</strong></mark>ï¼Œè€Œæ˜¯<span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>å¼•ç”¨æˆ–è½¬æ¢</strong></mark></span><mark class="highlight-purple"><strong>è‡ªä¸€ä¸ªç°æœ‰çš„</strong></mark><mark class="highlight-purple"><strong><code>Range</code></strong></mark>(å¦‚å®¹å™¨æˆ–å…¶ä»–view)ï¼Œåœ¨å¯¹Rangeä½œç”¨ä¸€ä¸ªæ“ä½œåï¼Œå°±ä¼šå˜æˆä¸€ä¸ªview<blockquote id="ace3bcdf-462a-4d85-aaaf-7cb61d9eb718" class="block-color-gray_background">viewçš„è¿™ä¸ªç‰¹æ€§ç»§æ‰¿äº†å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹</blockquote></li></ul><ul id="7dcff054-90ae-475e-8517-ee114504c126" class="bulleted-list"><li style="list-style-type:circle"><strong>æƒ°æ€§æ±‚å€¼</strong>ï¼š<code>view</code>é€šå¸¸è®¾è®¡ä¸ºè½»é‡çº§ï¼Œå¹¶ä¸”å¯ä»¥<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æ‡’æƒ°åœ°è¿›è¡Œè®¡ç®—</strong></span></mark>ï¼Œè¿™æ„å‘³ç€å®ƒä»¬<strong>åœ¨éœ€è¦æ—¶æ‰è®¡ç®—å…ƒç´ çš„å€¼</strong>ï¼Œä»è€Œæé«˜äº†æ•ˆç‡ï¼ŒèŠ‚çœäº†å†…å­˜ã€‚</li></ul></li></ul><ul id="88b2c523-7a31-4630-b757-d26528874c0f" class="bulleted-list"><li style="list-style-type:disc"><code>Range</code>ä¸<code>view</code>çš„ä¸€äº›<span style="border-bottom:0.05em solid"><strong>å…³é”®åŒºåˆ«</strong></span><ol type="1" id="320bc0d5-4022-4cd8-a514-ca5cc349f88a" class="numbered-list" start="1"><li><strong>æ‰€æœ‰æƒå’Œæ•°æ®å¤åˆ¶</strong>ï¼š<ul id="ae38e2eb-ceb2-41fa-8e68-7f3eef1ce4f6" class="bulleted-list"><li style="list-style-type:disc"><code>Range</code>ï¼šç”¨äºè¡¨ç¤ºæ•°æ®çš„æ•´ä¸ªé›†åˆï¼Œ<strong>æ‹¥æœ‰è‡ªå·±çš„æ•°æ®</strong>ï¼Œ<strong>å¯ä»¥ç›´æ¥ä¿®æ”¹æ•°æ®</strong>ã€‚</li></ul><ul id="5a4b260d-ac2a-42ed-aa10-85d89dedf586" class="bulleted-list"><li style="list-style-type:disc"><code>View</code>ï¼šä¸æ‹¥æœ‰æ•°æ®ï¼Œ<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>åªæ˜¯å¼•ç”¨æˆ–æä¾›å¯¹ç°æœ‰æ•°æ®çš„ä¸åŒè§†è§’</strong></span></mark>ã€‚å› æ­¤ï¼Œviewé€šå¸¸<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>ä¸æ¶‰åŠæ•°æ®çš„å¤åˆ¶</strong></span></mark>ã€‚<br/><br/><code>view</code>ç”¨äº<span style="border-bottom:0.05em solid"><strong>ä»¥ä¸åŒæ–¹å¼æŸ¥çœ‹å’Œæ“ä½œæ•°æ®çš„å­é›†æˆ–è½¬æ¢</strong></span>ï¼Œä¾‹å¦‚ç­›é€‰ã€è½¬æ¢æˆ–å»¶è¿Ÿè®¡ç®—ã€‚ä¾‹å¦‚ï¼Œ<code>std::ranges::filter_view</code> æˆ– <code>std::ranges::transform_view</code> æä¾›äº†å¯¹åŸå§‹æ•°æ®çš„è¿‡æ»¤æˆ–è½¬æ¢è§†å›¾ã€‚</li></ul></li></ol><ol type="1" id="6ad04ae1-922f-436b-8f72-e5c0966727f1" class="numbered-list" start="2"><li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼š<ul id="14d09aca-31af-455c-8582-2d32d5a54d63" class="bulleted-list"><li style="list-style-type:disc"><code>Range</code>ï¼šå¯èƒ½å› ä¸º<span style="border-bottom:0.05em solid"><strong>æ‹¥æœ‰æ•°æ®è€Œå…·æœ‰æ›´å¤§çš„æ€§èƒ½å’Œå†…å­˜å½±å“</strong></span>ã€‚</li></ul><ul id="b1e7c121-5731-42e6-b60e-8d4af247cec8" class="bulleted-list"><li style="list-style-type:disc"><code>View</code>ï¼šé€šå¸¸æ›´è½»é‡çº§ï¼Œæœ‰æ›´ä½çš„æ€§èƒ½å’Œå†…å­˜å¼€é”€ï¼Œå› ä¸ºå®ƒä»¬é¿å…äº†æ•°æ®çš„å¤åˆ¶å’Œæ‹¥æœ‰ã€‚</li></ul></li></ol></li></ul><h3 id="cfbe9edf-a38c-478a-8d67-e543c8dcb6f0" class="block-color-blue_background">ä¸€äº›ç”¨ä¾‹</h3><ul id="1593d20f-de13-408d-8a0a-73e374079fa4" class="bulleted-list"><li style="list-style-type:disc">å¤šä¸ª<code>view</code>ç»„æˆå‡½æ•°é“¾ ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4a4aa8ab-00fc-42a1-a3d4-6ad26a5b1901" class="code"><code class="language-C++">std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
auto even = [](int i){ return i % 2 == 0; };
auto square = [](int i){ return i * i; };

for (auto i : v | std::views::filter(even) | std::views::transform(square)) {
    std::cout &lt;&lt; i &lt;&lt; &quot; &quot;;  // è¾“å‡º: 4 16
}</code></pre></li></ul><ul id="523bf0fc-4f9f-4b1e-88f6-d158260caac0" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨std::rangesç›´æ¥å¯¹<code>Range</code>è¿›è¡Œæ“ä½œï¼ˆå°±åƒalgorithmç®—æ³•ä¸€æ ·ç›´æ¥æ“ä½œå®¹å™¨ï¼‰<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b41e8135-4cd1-4748-95fb-9102822e4e56" class="code"><code class="language-C++">std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};
if (auto it = std::ranges::find(v, 3); it != v.end()) {
    std::cout &lt;&lt; &quot;Found: &quot; &lt;&lt; *it &lt;&lt; &quot;\n&quot;;
}</code></pre><ul id="e4979c4c-0fe8-4b06-8151-979689e2c551" class="bulleted-list"><li style="list-style-type:circle">âš ï¸ï¼šstd::rangesç›´æ¥æ“ä½œä¸€ä¸ªRangeåï¼Œ<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>è¿”å›çš„æ˜¯ä¸€ä¸ªview</strong></span></mark></li></ul></li></ul><ul id="bcea8ac1-44fc-474f-9aab-057c47c8765d" class="bulleted-list"><li style="list-style-type:disc">è‡ªå®šä¹‰ä¸€ä¸ª<code>view</code> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ad524eb7-2cc1-4330-a492-3ae9bf3f5d2f" class="code"><code class="language-C++">auto custom_view = std::views::transform(square) | std::views::filter(even);
for (auto i : v | custom_view) {
    std::cout &lt;&lt; i &lt;&lt; &quot; &quot;;
}</code></pre></li></ul><h3 id="797952b6-9882-4dab-870a-9be4c8763c91" class="block-color-blue_background">std::viewsæ”¯æŒçš„æ“ä½œ</h3><ul id="db0c2541-1cc3-4a53-88fe-26f5969c010f" class="bulleted-list"><li style="list-style-type:disc"><code>std::views</code>ä¸­<span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>æä¾›äº†å¾ˆå¤šé’ˆå¯¹</strong></mark></span><span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong><code>Range</code></strong></mark></span><span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>çš„è§†å›¾ç±»å‹</strong></mark></span><strong>ï¼Œ</strong><span style="border-bottom:0.05em solid"><mark class="highlight-red"><strong>è¿™äº›è§†å›¾å¯ä»¥é€šè¿‡ </strong></mark></span><mark class="highlight-red"><strong><code>|</code></strong></mark><span style="border-bottom:0.05em solid"><mark class="highlight-red"><strong> è¿ç®—ç¬¦æ¥è¿›è¡Œè¿æ¥</strong></mark></span><blockquote id="5da1851e-bc26-4af7-a39e-bc12542c253f" class="block-color-gray_background">âš ï¸ï¼š<code>view</code>æœ¬èº«å°±æ˜¯ç‰¹æ®Šçš„<code>Range</code>ï¼Œæ‰€ä»¥<code>view</code>å¯ä»¥ä½œç”¨åœ¨<code>view</code>ä¸Š</blockquote><ul id="03a12c39-0282-40d3-866b-fc7853f51fa2" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::filter</strong></code>: è¿‡æ»¤è§†å›¾ï¼ŒåŸºäºæ¡ä»¶å‡½æ•°è¿‡æ»¤å…ƒç´ </li></ul><ul id="05015b71-7296-43f4-9b74-24507ce69929" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::transform</strong></code>: è½¬æ¢è§†å›¾ï¼Œå¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨ä¸€ä¸ªå‡½æ•°</li></ul><ul id="44bf9824-10e0-461e-8c79-4a8b5bd7adc3" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::take</strong></code>: å–å€¼è§†å›¾ï¼Œåªå–åºåˆ—çš„å‰Nä¸ªå…ƒç´ </li></ul><ul id="23d46de3-59cb-401d-9fca-5495484f752e" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::drop</strong></code>: è·³è¿‡è§†å›¾ï¼Œè·³è¿‡åºåˆ—çš„å‰Nä¸ªå…ƒç´ </li></ul><ul id="1fe72fd7-fd5e-4a9b-99da-ae28f9af3046" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::reverse</strong></code>: åè½¬è§†å›¾ï¼Œåè½¬åºåˆ—</li></ul><ul id="09e22834-1cb5-4ee8-93e0-20da4420c703" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::split</strong></code>: æ‹†åˆ†è§†å›¾ï¼Œæ ¹æ®æŒ‡å®šåˆ†éš”ç¬¦æ‹†åˆ†åºåˆ—ï¼Œ<strong>ä¸æ­¢é€‚ç”¨äºå­—ç¬¦ä¸²</strong></li></ul><ul id="5ac4ebb2-0f1a-48a6-81aa-7ad27d150b70" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::join</strong></code>: è¿æ¥è§†å›¾ï¼Œè¿æ¥å¤šä¸ªåºåˆ—ï¼ˆä¼ å…¥çš„æ˜¯ä¸€ä¸ªåºåˆ—ofåºåˆ—ï¼Œç„¶åå˜æˆä¸€ä¸ªæ›´é•¿çš„åºåˆ—ï¼‰</li></ul><ul id="fa293173-db7b-4e86-aacb-7750bb51c6dc" class="bulleted-list"><li style="list-style-type:circle"><code><strong>std::views::concat</strong></code>ï¼šè¿æ¥è§†å›¾ï¼Œè¿æ¥ä¸¤ä¸ªç‹¬ç«‹çš„åºåˆ—ï¼ˆä¼ å…¥çš„æ˜¯ä¸¤ä¸ªåºåˆ—ï¼Œç„¶åå˜æˆä¸€ä¸ªæ›´é•¿çš„åºåˆ—ï¼‰</li></ul><ul id="2f20b9d9-23c9-4571-b638-74d2bfb8005e" class="bulleted-list"><li style="list-style-type:circle"><strong><code>views::all</code></strong>: ç”¨äºå°†å·²æœ‰çš„<code>Range</code>æ˜¾å¼åœ°è½¬æ¢ä¸ºä¸€ä¸ª<code>view</code>ï¼ˆè™½ç„¶viewæœ¬èº«å°±æ˜¯ç‰¹æ®Šçš„Rangeï¼‰<blockquote id="fec266a0-61fb-4924-83a7-4f344bc11985" class="block-color-gray_background">ä¾‹å¦‚ï¼Œ<code>views::all(v)</code> ä¼šåˆ›å»ºä¸€ä¸ªä»£è¡¨æ•´ä¸ª <code>v</code> å®¹å™¨çš„è§†å›¾</blockquote></li></ul><ul id="d686f8df-8417-499a-a45f-be9148c1233e" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::empty</strong></code>: ç”Ÿæˆä¸€ä¸ªç©ºçš„è§†å›¾ã€‚è¿™åœ¨æŸäº›ç®—æ³•ä¸­ä½œä¸ºé»˜è®¤å‚æ•°å¾ˆæœ‰ç”¨</li></ul><ul id="ab8e2da9-f134-4eb1-8151-9e4c6068f5e6" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::iota</strong></code>: ç”Ÿæˆä¸€ä¸ªåŒ…å«è¿ç»­æ•´æ•°çš„èŒƒå›´<blockquote id="e9c37ff1-cefd-4c32-8bb1-c98478e6fe1b" class="block-color-gray_background">ä¾‹å¦‚ï¼Œ<code>views::iota(0, 10)</code> ä¼šç”Ÿæˆä¸€ä¸ªä» 0 åˆ° 9 çš„æ•´æ•°åºåˆ—</blockquote></li></ul><ul id="3f137954-5d49-4b8a-8f85-b675c20723c2" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::single</strong></code>: ç”Ÿæˆä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„è§†å›¾<blockquote id="b6c6b252-bfd7-412a-bbd8-18f7659843c2" class="block-color-gray_background">ä¾‹å¦‚ï¼Œ<code>views::single(x)</code> ä¼šç”Ÿæˆä¸€ä¸ªåªåŒ…å« <code>x</code> çš„è§†å›¾</blockquote></li></ul><ul id="998a57a6-17ce-45ce-8dc4-558709f5d20b" class="bulleted-list"><li style="list-style-type:circle"><code><strong>views::keys</strong></code><code> å’Œ </code><code><strong>views::values</strong></code>: å½“å¤„ç† <code>map</code> æˆ–ç±»ä¼¼å…³è”å®¹å™¨æ—¶ï¼Œè¿™äº›è§†å›¾åˆ†åˆ«å…è®¸å•ç‹¬è®¿é—®é”®æˆ–å€¼<blockquote id="5dfb86fe-37b9-4b77-bc12-db7924e015d3" class="block-color-gray_background">ä¾‹å¦‚ï¼Œ<code>views::keys(map)</code> ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å« <code>map</code> æ‰€æœ‰é”®çš„è§†å›¾</blockquote></li></ul></li></ul><ul id="36206cbb-1b73-49af-9f84-a8c1d4e4d89c" class="bulleted-list"><li style="list-style-type:disc">å¤§å¤šæ•°æ”¯æŒéšæœºç´¢å¼•çš„<code>Range</code>åœ¨ç»è¿‡æŸä¸ª<code>view</code>åï¼Œä¼š<strong>å˜æˆä¸€ä¸ªä¸æ”¯æŒéšæœºç´¢å¼•çš„</strong><strong><code>Range</code></strong><blockquote id="4d48aba9-0b6a-4175-9c51-e31c296cef0f" class="block-color-gray_background">ä¾‹å¦‚ä¸€ä¸ªæ”¯æŒéšæœºç´¢å¼•çš„vector (vectorä¹Ÿæ˜¯ä¸€ä¸ªRange)ï¼Œåœ¨ç»è¿‡æŸä¸ªviewå(ä¾‹å¦‚views::transform)ï¼Œè¿™ä¸ªviewä¼šä¸æ”¯æŒéšæœºç´¢å¼•ã€‚</blockquote></li></ul><h3 id="8db35b94-d289-4580-be18-e80da79d4937" class="block-color-blue_background">std::ranges</h3><figure id="3e12c3d0-313e-4b20-b7e7-5d0e2af6872f"><a href="https://en.cppreference.com/w/cpp/algorithm" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Algorithms library - cppreference.com</div><div class="bookmark-description">The algorithms library defines functions for a variety of purposes (e.g. searching, sorting, counting, manipulating) that operate on ranges of elements. Note that a range is defined as [first,Â last) where last refers to the element past the last element to inspect or modify.</div></div><div class="bookmark-href"><img src="https://en.cppreference.com/favicon.ico" class="icon bookmark-icon"/>https://en.cppreference.com/w/cpp/algorithm</div></div></a></figure><ul id="b55ca694-cfe6-4507-bdd2-62e1fed34f48" class="bulleted-list"><li style="list-style-type:disc"><code>std::ranges</code>ä¸­<mark class="highlight-purple"><strong>æä¾›äº†å¾ˆå¤šé’ˆå¯¹</strong></mark><mark class="highlight-purple"><strong><code>Range</code></strong></mark><mark class="highlight-purple"><strong>çš„</strong></mark><mark class="highlight-red"><strong>ç®—æ³•</strong></mark>ï¼Œç»å¤§éƒ¨åˆ†åœ¨<a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">algorithm</a>åº“é’ˆå¯¹å®¹å™¨çš„ç®—æ³•ï¼Œåœ¨std::rangeséƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„å®ç°<ul id="33c5081d-7cdf-4fa0-a10f-f0c71aae7e16" class="bulleted-list"><li style="list-style-type:circle"><strong>std::rangesåº“çš„APIæ¯”algorithmæ›´å¥½ç”¨ä¸€äº›</strong>ï¼Œå®ƒæ—¢<span style="border-bottom:0.05em solid"><strong>å¯ä»¥ä¼ å…¥ä¸€ä¸ªRangeå¯¹æŸä¸ªå­èŒƒå›´ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªRange</strong></span>ï¼ˆä¼ å…¥æ•´ä¸ªRangeåï¼Œå°±æ˜¯ä½œç”¨äºæ•´ä¸ªRangeï¼‰</li></ul><blockquote id="ed4e8d51-c855-43fe-8152-f87bf34090e3" class="block-color-gray_background">æ³¨æ„std::rangesä¸std::viewsçš„åŒºåˆ«ï¼š<strong>std::rangesæä¾›çš„æ˜¯ç®—æ³•ï¼Œè€Œstd::viewsæä¾›çš„æ˜¯è§†å›¾ç±»å‹</strong></blockquote></li></ul><ul id="dfa1e5fa-1030-419d-871f-c868032cf473" class="bulleted-list"><li style="list-style-type:disc">std::rangesç›´æ¥æ“ä½œä¸€ä¸ªRangeåï¼Œ<mark class="highlight-red"><span style="border-bottom:0.05em solid"><strong>è¿”å›çš„æ˜¯ä¸€ä¸ªview</strong></span></mark></li></ul><ul id="9a9e0212-4b8a-4c68-bc97-46492dbcbd74" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::find</strong></code>: å¯¹èŒƒå›´å†…çš„å…ƒç´ æŸ¥æ‰¾æŸä¸ªå…ƒç´ ï¼Œæ‰¾ä¸åˆ°æ—¶è¿”å›range.end()</li></ul><ul id="eba5f73d-ebec-4193-961f-c6cd24cb6d04" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::search</strong></code>: å¯¹èŒƒå›´å†…çš„å…ƒç´ æŸ¥æ‰¾æŸä¸ªå­åºåˆ—ï¼Œæ‰¾ä¸åˆ°æ—¶è¿”å›range.end()</li></ul><ul id="50bd0f2c-cf19-41dd-9cb4-4690ae50e6eb" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::sort</strong></code>: å¯¹èŒƒå›´å†…çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</li></ul><ul id="243afe74-80a6-4e37-b059-03ffe182d6ab" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::copy</strong></code>: å¤åˆ¶èŒƒå›´å†…çš„å…ƒç´ åˆ°å¦ä¸€ä¸ªç›®çš„åœ°ã€‚</li></ul><ul id="9e98db29-b58a-4c69-9920-989129295f64" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::all_of</strong></code>, <code><strong>std::ranges::any_of</strong></code>, <code><strong>std::ranges::none_of</strong></code>: æ£€æŸ¥å…ƒç´ æ˜¯å¦æ»¡è¶³ç‰¹å®šæ¡ä»¶ã€‚</li></ul><ul id="38bf59ba-152f-492a-af6e-b505b449b111" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::for_each</strong></code>: å¯¹èŒƒå›´å†…çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚</li></ul><ul id="fe5db0ff-d9dc-4185-97bb-4b839ed1b02e" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::ranges::count</strong></code>: è®¡ç®—æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ æ•°é‡ã€‚</li></ul><h2 id="4e1f4490-3879-4b92-ba39-897238f03cfa" class="block-color-orange_background">std::optionalæ¨¡ç‰ˆç±»ï¼šæä¾›ç±»å‹å®‰å…¨</h2><h3 id="23db45b0-7239-400c-b663-e37c179ace35" class="block-color-blue_background">Undefined behavior</h3><ul id="0c70a858-0f65-4cea-a6c8-28b384deb744" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><em><strong>Undefined behavior</strong></em></span>ï¼šæœªå®šä¹‰è¡Œä¸ºï¼Œå³æ‰§è¡Œå‡½æ•°æ—¶ä¸ä¼šæŒ‰ç…§è¿”å›æŸä¸ªé¢„æœŸå€¼ï¼Œè€Œæ˜¯è¿”å›åƒåœ¾å€¼ï¼ˆéšæœºå€¼ï¼‰ã€ä¹Ÿå¯ä»¥è¿”å›ä¸€äº›çœŸå®å€¼ï¼ˆä½†ä¸æ˜¯é¢„æœŸå€¼ï¼‰ï¼Œç”šè‡³ç›´æ¥å´©æºƒ<ul id="671b0d7f-c23f-4864-8032-6895c64ae768" class="bulleted-list"><li style="list-style-type:circle">ä¾‹å¦‚vec.back()ï¼ˆè·å–vectorä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼‰åœ¨vecä¸ºç©ºæ—¶ä¼šå‘ç”Ÿ<strong>æœªå®šä¹‰è¡Œä¸º</strong>ï¼›</li></ul><ul id="e55d8d89-c6a9-4dfc-8f6e-dc1f0e56a787" class="bulleted-list"><li style="list-style-type:circle">ä¾‹å¦‚å–ç´¢å¼•out of rangeæ—¶ä¼šå‘ç”ŸUndefined behavior<figure id="3fc5813c-33c3-4c09-9b18-ecbda2ef14a3" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_20.24.27.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_20.24.27.png"/></a></figure></li></ul></li></ul><h3 id="f0cd0451-ae6b-4ea2-8b76-02625e3ffd83" class="block-color-blue_background">std::optionalä¸nullopt</h3><ul id="7fce5005-e65f-4a85-8249-a29c1b6814cc" class="bulleted-list"><li style="list-style-type:disc"><strong><code>std::optional</code></strong>ï¼š<mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>ä¸€ä¸ªæ¨¡ç‰ˆç±»</strong></span></mark>ï¼Œå¯ä»¥ç”¨äºåŒ…è£…å…¶å®ƒçš„ç±»ï¼Œ<blockquote id="e7faa615-d6d2-4f46-bc6e-a22b1be7d8e3" class="block-color-gray_background">ç”±äºæ˜¯ä¸€ä¸ªæ¨¡ç‰ˆç±»ï¼Œ<mark class="highlight-default">æ‰€ä»¥å¯ä»¥ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œä»è€Œå°†æ¨¡ç‰ˆç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¾‹å¦‚ï¼š<br/><br/></mark><code>std::optional&lt;int&gt;</code>ã€<code>std::optional&lt;myclass&gt;</code><br/><br/>å½“æŠŠè¿™ä¸ªæ¨¡ç‰ˆç±»å®ä¾‹åŒ–ä»¥åï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªçœŸæ­£çš„ç±»ï¼ˆæ‰€ä»¥std::optionalæ‰å¯ä»¥åŒ…è£…å…¶å®ƒçš„ç±»ï¼‰<br/></blockquote><ul id="83426cac-d357-4b2b-bfba-a5fa6b728c78" class="bulleted-list"><li style="list-style-type:circle">å½“ä½¿ç”¨<code>std::optional&lt;int&gt;</code>æˆ–<code>std::optional&lt;myclass&gt;</code>æ—¶ï¼Œè¡¨ç¤ºä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œè¿™ä¸ªç±»å‹åœ¨int/myclass ç±»å‹çš„åŸºç¡€ä¸Š<strong>é¢å¤–æä¾›äº†ä¸€ç§æ–°çš„â€œç©ºç±»å‹â€</strong>ï¼Œè¿™ä¸ªâ€ç©ºç±»å‹<strong>â€ç”¨</strong><strong><code>nullopt</code></strong><strong>æ¥è¡¨ç¤º</strong><figure id="d2e90015-3fc7-474f-bec3-e72d8e57d36d" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_20.51.32.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_20.51.32.png"/></a></figure></li></ul><ul id="396e617b-ff2c-43ae-abe1-e36b305fea3f" class="bulleted-list"><li style="list-style-type:circle"><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ¯”å¦‚è·å–ä¸€ä¸ªint vectorçš„æœ€åä¸€ä¸ªå…ƒç´ æ—¶(vec.back())ï¼Œå¯ä»¥æŠŠè¿™ä¸ªbackå‡½æ•°çš„è¿”å›å€¼å†™æˆstd::optional&lt;int&gt;ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨vectorä¸ºç©ºæ—¶ï¼Œä»ä¿è¯ç±»å‹å®‰å…¨ï¼ˆè¿”å›ä¸€ä¸ª<code>nullopt</code>ï¼Œè€Œä¸æ˜¯é€ æˆUndefined behaviorï¼‰ï¼Œå¹¶ä¸”èƒ½è®©è¿™ä¸ªæƒ…å†µï¼ˆvectorä¸ºç©ºï¼‰è®©ç¨‹åºå‘˜è·çŸ¥</li></ul></li></ul><ul id="0b8796de-0c2e-40b8-adba-da32b878eea0" class="bulleted-list"><li style="list-style-type:disc"><strong><code>nullopt</code></strong>ä¸<strong><code>nullptr</code></strong>çš„åŒºåˆ«ï¼š<code>nullptr</code> å’Œ <code>nullopt</code> åœ¨ C++ ä¸­ç”¨äºè¡¨ç¤ºä¸åŒç±»å‹çš„â€œæ— å€¼â€æˆ–â€œç©ºâ€çŠ¶æ€ï¼Œå®ƒä»¬çš„ç”¨é€”å’Œå«ä¹‰å„ä¸ç›¸åŒã€‚<ol type="1" id="698f64cb-8c46-41ba-83bf-6883026e2664" class="numbered-list" start="1"><li><code><strong>nullptr</strong></code>ï¼š<ul id="ad003bef-c861-4fe6-b1e5-3cb0c2e5337d" class="bulleted-list"><li style="list-style-type:disc">nullptr æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªå­—é¢é‡ï¼Œç”¨äºè¡¨ç¤ºç©ºæŒ‡é’ˆã€‚</li></ul><ul id="62ece850-9093-457e-b88e-c77ac1eabfb6" class="bulleted-list"><li style="list-style-type:disc">å®ƒæ˜¯ std::nullptr_t ç±»å‹çš„å”¯ä¸€å€¼ï¼Œ<span style="border-bottom:0.05em solid"><strong>å¯ä»¥è½¬æ¢ä¸ºä»»ä½•åŸç”ŸæŒ‡é’ˆç±»å‹ã€‚</strong></span></li></ul><ul id="34a2139a-cbe1-420a-8ff9-da0cce02a231" class="bulleted-list"><li style="list-style-type:disc"><code>nullptr</code> çš„ä¸»è¦ç”¨é€”æ˜¯æä¾›ä¸€ç§æ¸…æ™°ã€ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥è¡¨ç¤ºç©ºæŒ‡é’ˆï¼Œå–ä»£äº†ä»¥å‰ä½¿ç”¨çš„ <code>NULL</code>ã€‚</li></ul></li></ol><ol type="1" id="9004b85e-7133-401d-95f4-419d27f8a6c1" class="numbered-list" start="2"><li><code><strong>nullopt</strong></code>ï¼š<ul id="0a19c111-63b5-45c7-8c6b-2b5beb62284d" class="bulleted-list"><li style="list-style-type:disc"><code>nullopt</code> æ˜¯ C++17 å¼•å…¥çš„ä¸€ä¸ªå­—é¢é‡ï¼Œç”¨äºè¡¨ç¤º <code>std::optional</code> ç±»å‹çš„ç©ºçŠ¶æ€ã€‚</li></ul><ul id="bd94ce4e-7211-49e1-8542-7b71968251c6" class="bulleted-list"><li style="list-style-type:disc"><code>std::optional</code> æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºè¡¨ç¤ºå¯èƒ½åŒ…å«å€¼ä¹Ÿå¯èƒ½ä¸åŒ…å«å€¼çš„æƒ…å†µã€‚</li></ul><ul id="427e869d-9898-4be6-ac0c-3fbbf3649554" class="bulleted-list"><li style="list-style-type:disc">å½“æœ‰ä¸€ä¸ª <code>std::optional&lt;T&gt;</code> ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œä½¿ç”¨<code>nullopt</code>å¯ä»¥æ˜ç¡®åœ°è¡¨ç¤ºè¯¥å¯¹è±¡ä¸åŒ…å«ä»»ä½•å€¼ã€‚</li></ul></li></ol><p id="72c6b47c-0b8d-4b9f-8b37-d8822bb973a4" class="">æ€»ç»“èµ·æ¥ï¼Œ<code><strong>nullptr</strong></code> ç”¨äºæŒ‡é’ˆç±»å‹ï¼Œè€Œ <code><strong>nullopt</strong></code> ç”¨äº <code><strong>std::optional</strong></code> ç±»å‹ã€‚å®ƒä»¬éƒ½è¡¨è¾¾äº†â€œæ— å€¼â€çš„æ¦‚å¿µï¼Œä½†åº”ç”¨äºä¸åŒçš„ä¸Šä¸‹æ–‡å’Œç±»å‹ã€‚</p></li></ul><ul id="3dc59ff0-d9ca-4507-8508-50da7a41ef06" class="bulleted-list"><li style="list-style-type:disc"><strong>ç”¨</strong><code><strong>std::optional&lt;ValueType&gt;</strong></code><strong>å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ—¶</strong>ï¼Œ<em><span style="border-bottom:0.05em solid">return {}å°±ç›¸å½“äºreturnä¸€ä¸ªstd::nullopt</span></em><ul id="f3a9abc2-ace1-405e-91ba-fe8d8823925d" class="bulleted-list"><li style="list-style-type:circle">ä½†è¿™ä¸æ˜¯ä¸€ä¸ªgood praticeï¼Œåº”è¯¥æ¸…æ¥šåœ°ç›´æ¥return std::nullopt</li></ul></li></ul><ul id="f158d453-68d0-46db-9037-0af4c074925b" class="bulleted-list"><li style="list-style-type:disc"><strong>ç”¨</strong><strong><code>std::optional&lt;ValueType&gt; x = {}</code></strong><strong>å®šä¹‰å¹¶åˆå§‹åŒ–ä¸€ä¸ªå˜é‡æ—¶</strong>ï¼Œå°±ç›¸å½“äºç»™xçš„åˆå§‹å€¼ä¸ºstd::nullopt<ul id="4144e5ab-8954-4553-ab55-681c53350427" class="bulleted-list"><li style="list-style-type:circle">ä½†è¿™ä¸æ˜¯ä¸€ä¸ªgood praticeï¼Œåº”è¯¥ç›´æ¥è¿›è¡Œæ¸…æ¥šåœ°å®šä¹‰<code>std::optional&lt;ValueType&gt; x = std::nullopt</code></li></ul></li></ul><h3 id="3a72c194-ac4f-43ba-99e1-53822f430b63" class="block-color-blue_background">std::optional&lt;ValueType&gt;æ¨¡ç‰ˆç±»æä¾›çš„ç±»æ–¹æ³•</h3><ul id="df6dae36-13b0-482a-8aed-d554f5f63243" class="bulleted-list"><li style="list-style-type:disc"><code><strong>std::optional</strong></code><span style="border-bottom:0.05em solid"><strong>æ¨¡ç‰ˆç±»</strong></span><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>æ— æ³•ç›´æ¥è¿›è¡Œç®—æ•°è¿ç®—</strong></span></mark>ï¼Œå¿…é¡»å…ˆå–åˆ°é‡Œé¢çš„å€¼</li></ul><ul id="a9ee70fa-1493-4324-a42a-cef40b36536a" class="bulleted-list"><li style="list-style-type:disc">std::optional&lt;ValueType&gt;æ¨¡ç‰ˆç±»æä¾›çš„ç±»æ–¹æ³•ï¼š<ul id="e7c91b16-f26c-4afe-b333-3629a6d65fcd" class="bulleted-list"><li style="list-style-type:circle"><code><em><strong>.has_value()</strong></em></code>ï¼šåˆ¤æ–­æ˜¯å¦æœ‰å€¼<ul id="7c813a8d-9d10-4563-9b0e-acb9f154d6d1" class="bulleted-list"><li style="list-style-type:square">ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ifæ¥è¿›è¡Œåˆ¤æ–­</li></ul></li></ul><ul id="4b6700e6-1eac-4797-b3f5-a9bdae8921dc" class="bulleted-list"><li style="list-style-type:circle"><em><strong><code>.value()</code></strong></em>ï¼š<strong>returns the contained value</strong> or throws <strong><em><code>bad_optional_access</code></em></strong> error<ul id="403632e9-fd2e-4f9c-a0f0-963b22ae5a66" class="bulleted-list"><li style="list-style-type:square">ä¹Ÿå¯ä»¥ç›´æ¥ç”¨*æ¥è§£å¼•ç”¨ï¼Œæ‹¿å‡ºå¯¹åº”çš„å€¼ï¼ˆå¯¹åº”ValueTypeçš„å®ä¾‹ï¼‰</li></ul></li></ul></li></ul><h3 id="98ecaa62-5882-4dd1-9a03-f2c4b93bcb20" class="block-color-blue_background">std::optional&lt;Myclass&gt;ä¸è‡ªå®šä¹‰ç±»çš„æ„é€ å‡½æ•°ä¹‹é—´çš„å…³ç³»</h3><ul id="f2ec1c17-a1d9-41a6-b33a-50322a97cc3f" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code><strong>std::optional&lt;Myclass&gt;</strong></code>æ—¶ï¼Œè°ƒç”¨<code>std::optional&lt;Myclass&gt; foo</code>æˆ–<code>std::optional&lt;Myclass&gt; foo{}</code>éƒ½ä¼š<mark class="highlight-purple"><strong>è°ƒç”¨std::optionalæ¨¡ç‰ˆç±»çš„æ„é€ å‡½æ•°</strong></mark>ï¼Œæ­¤æ—¶fooä¼š<mark class="highlight-red"><strong>è¢«åˆå§‹åŒ–ä¸º</strong></mark><mark class="highlight-red"><code><em><strong>nullopt</strong></em></code></mark>ï¼ˆè€Œä¸æ˜¯è°ƒç”¨Myclassçš„æ— å‚æ„é€ å‡½æ•°ï¼‰<ul id="569c21e8-a335-44fa-a076-099b6ae7d178" class="bulleted-list"><li style="list-style-type:circle">æ‰€ä»¥æ­¤æ—¶å¦‚æœæƒ³è°ƒç”¨Myclassçš„æ— å‚æ„é€ å‡½æ•°ï¼Œå°±å¿…é¡»ç”¨<code>std::optional&lt;Myclass&gt; foo = Myclass()</code></li></ul></li></ul><div id="c86ba0d7-3030-41e4-886a-df098f16c43e" class="column-list"><div id="20234581-cff9-46b0-bb36-6826ba80cd58" style="width:56.25%" class="column"><figure id="41f39562-6cb4-483c-b027-6ccfa30a6339" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_21.49.18.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_21.49.18.png"/></a></figure></div><div id="bed539dc-c27a-4a9f-a288-85dc65b80796" style="width:43.75000000000001%" class="column"><p id="729fd679-01de-4f18-8e10-f9721a553a37" class=""><div class="indented"><figure id="cd78ba8a-49b0-4dd9-9b27-4370d28be884" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_21.49.40.png"><img style="width:288px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_21.49.40.png"/></a></figure><p id="d6664bba-6b56-4987-bcc7-ba3a46a384c8" class="">
</p></div></p></div></div><h3 id="f84e827e-0932-42af-bf02-a29e38757ea4" class="block-color-blue_background">ä½¿ç”¨std::optionalçš„pros and cons</h3><ul id="e6400a45-d5a7-45cc-ab40-920c66e6930b" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>std::optional</code>å¸¦æ¥çš„<strong>å¥½å¤„</strong>ï¼šå¸¦æ¥äº†ç±»å‹å®‰å…¨ï¼Œé˜²æ­¢äº†Undefined behavior</li></ul><ul id="f4de9392-2d83-434c-a47d-99e4db0a3b38" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨<code>std::optional</code>å¸¦æ¥çš„åå¤„<ul id="43552729-6942-4231-a914-dd0d6fc10a09" class="bulleted-list"><li style="list-style-type:circle">ä½¿ç”¨èµ·æ¥ä¼šæ›´éº»çƒ¦ï¼Œè¦ç”¨.value()æ–¹æ³•æ‰èƒ½æ‹¿åˆ°åŸå§‹çš„å€¼</li></ul><ul id="90f85942-15d9-42ca-8622-0b8e1f554b38" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><strong>ä½¿ç”¨</strong></mark><mark class="highlight-red"><strong><code>std::optional</code></strong></mark><mark class="highlight-red"><strong>æ—¶</strong></mark><mark class="highlight-red"><strong><span style="border-bottom:0.05em solid">ä¸èƒ½ä½¿ç”¨å¼•ç”¨&amp;</span></strong></mark>ï¼Œæ‰€ä»¥ä¼šé€ æˆæ€§èƒ½ä¸‹é™ã€‚ä¾‹å¦‚std::optional&lt;T&amp;&gt;è¿™ç§ç”¨æ³•<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2dfeab87-0289-4cbf-b07b-245a579a05e1" class="code"><code class="language-C++">std::optional&lt;int&amp;&gt; foo() {  /* é”™è¯¯ï¼Œæ²¡æœ‰std::optional&lt;T&amp;&gt;è¿™ç§ç”¨æ³• */
                             /* å› æ­¤ä½¿ç”¨std::optionalæ—¶åªèƒ½æŒ‰å€¼è¿”å›ï¼ŒæŒ‰å€¼ä¼ é€’ */
    ...
}</code></pre><ul id="361016b1-c976-408a-a936-75c2d6e78407" class="bulleted-list"><li style="list-style-type:square">æ‰€ä»¥ä½¿ç”¨<code>std::optional</code>ä½œä¸ºç±»å‹åï¼Œåªèƒ½æŒ‰å€¼è¿”å›ï¼ŒæŒ‰å€¼ä¼ é€’</li></ul><ul id="32be5155-2c67-4733-8b56-4b5b0e342f3a" class="bulleted-list"><li style="list-style-type:square"><span style="border-bottom:0.05em solid"><strong>ç„¶è€Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬ä¸ºäº†æ€§èƒ½è¦æ±‚éƒ½éœ€è¦æœ‰å¼•ç”¨</strong></span></li></ul></li></ul></li></ul><ul id="baf68b6a-d97c-4784-b428-fc7c1a0a3e6e" class="bulleted-list"><li style="list-style-type:disc">ä½†æ˜¯<span style="border-bottom:0.05em solid"><strong>æ€»çš„æ¥è¯´ï¼Œèƒ½ç”¨std::optionalæ¥ä¿è¯ç±»å‹å®‰å…¨å°±å°½é‡ç”¨</strong></span>ï¼ˆé™¤éä¼šæå¤§å½±å“æ€§èƒ½ï¼‰<figure id="c41aa69e-11dd-4790-97f5-4fc0b8b4bc7c" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_22.42.27.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-01-24_22.42.27.png"/></a></figure></li></ul><h2 id="d7e60c07-2b20-4e63-9837-5940bd6793e1" class="block-color-orange_background">RAIIï¼šä¸€ç§åœ¨å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­å…·æœ‰çš„å®è·µæˆ–è€…ç†å¿µ</h2><ul id="1650e054-fe1e-432c-97e3-6b43d27acf9c" class="bulleted-list"><li style="list-style-type:disc">How to we ensure that we properly release resources in the case that we have an exception?<figure id="49472ada-54f0-46fc-835e-0961f51c82a7" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.32.24.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.32.24.png"/></a></figure></li></ul><ul id="b05d373e-002d-413a-b599-677f6104756f" class="bulleted-list"><li style="list-style-type:disc">So what is RAII(Resource Acquisition Is Initialization)? ï¼šRAIIæ˜¯ä¸€ç§åœ¨å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­å…·æœ‰çš„å®è·µæˆ–è€…ç†å¿µ<ul id="5b343bce-faf9-4dfd-b9e0-d5a1d428c10d" class="bulleted-list"><li style="list-style-type:circle">All resources used by a class should be acquired in the constructor!</li></ul><ul id="7921c347-6a49-4cf8-8ba2-76f51a2e7564" class="bulleted-list"><li style="list-style-type:circle">All resources that are used by a class should be released in the destructor.</li></ul><blockquote id="3fb52726-6fe3-4f19-9941-468deff6887a" class="block-color-gray_background">å¯ä»¥çœ‹åˆ°ï¼Œpythonçš„withä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¹Ÿæ˜¯ä¸€ç§RAIIå®è·µ</blockquote></li></ul><ul id="d44c2b4e-efba-4ac3-97fc-bdbd6558a4b3" class="bulleted-list"><li style="list-style-type:disc">RAIIçš„å®è·µä½¿å¾—<ul id="79ab2549-82cb-44a6-bca2-adb04f25f287" class="bulleted-list"><li style="list-style-type:circle">It turns out that by abiding by the RAII policy we avoid â€œhalf-validâ€ states.</li></ul><ul id="7be81fda-f555-43e7-988d-82380052e9bc" class="bulleted-list"><li style="list-style-type:circle">No matter what, the destructor is called whenever the resource goes out of scope.</li></ul><ul id="3e844553-bf33-4a61-8348-9e62a829d2ab" class="bulleted-list"><li style="list-style-type:circle">One more thing: the resource/object is usable immediately after it is created.</li></ul></li></ul><ul id="4a6ef8cc-9d19-441c-98f3-c7f3ac57ddf7" class="bulleted-list"><li style="list-style-type:disc">ä»¥ä¸‹ä»£ç éƒ½ä¸æ»¡è¶³RAIIå‡†åˆ™<figure id="bf9c10b3-4adc-4942-a6a4-cb6e9b7f50c1" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.45.04.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.45.04.png"/></a><figcaption>å¦‚æœåœ¨openå’Œcloseä¸­é—´å‡ºäº†å¼‚å¸¸ï¼Œinputå°±ä¸ä¼šè¢«close</figcaption></figure><figure id="87f52582-1a13-4934-8a14-b90f9e3d3199" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.45.38.png"><img style="width:384px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.45.38.png"/></a></figure><ul id="96d14bdd-79aa-4dd7-8127-dac09a1ef094" class="bulleted-list"><li style="list-style-type:circle">å¯ä»¥é€šè¿‡ä½¿ç”¨lock guardæ¥è§£å†³ï¼šA lock guard is a RAII-compliant wrapper that attempts to acquire the passed in lock. It releases the the lock once it goes out of scope. Read more <a href="https://en.cppreference.com/w/cpp/thread/lock_guard#:~:text=The%20class%20lock_guard%20is%20a,the%20mutex%20it%20is%20given."><span style="border-bottom:0.05em solid">here</span></a><figure id="1bde3195-79d7-4948-b3b9-91b73e2f17a1" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.50.06.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_13.50.06.png"/></a></figure></li></ul></li></ul><h3 id="36240169-e440-43e6-ab93-5d621de00810" class="block-color-blue_background">æ™ºèƒ½æŒ‡é’ˆï¼šå†…å­˜ç®¡ç†çš„RAIIå®è·µ</h3><ul id="03831071-73b7-4bd7-bf6c-537e96172071" class="bulleted-list"><li style="list-style-type:disc">bad practiceï¼š<span style="border-bottom:0.05em solid"><strong>â€œè£¸éœ²åœ°â€ä½¿ç”¨newå’Œdeleteåœ¨å¤§å‹é¡¹ç›®ä¸­å¾ˆå®¹æ˜“å‡ºbug</strong></span><figure id="85b55548-7c99-488b-87df-b46228e77ac4" class="image" style="text-align:center"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.10.03.png"><img style="width:576px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.10.03.png"/></a><figcaption>æ¥æºï¼š<a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#r11-avoid-calling-new-and-delete-explicitly">https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#r11-avoid-calling-new-and-delete-explicitly</a></figcaption></figure><ul id="824c4406-9908-44e4-9ac7-f2b351b8655f" class="bulleted-list"><li style="list-style-type:circle">ä¾‹å¦‚ä»¥ä¸‹ä»£ç <figure id="d217da9e-f46a-41f3-8bc7-da77550fd603" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.27.52.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.27.52.png"/></a><figcaption>åªè¦åœ¨delete pä¹‹å‰å‡ºç°äº†ä»»ä½•å¼‚å¸¸ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè€Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œæœ‰23å¤„äº§ç”Ÿå¼‚å¸¸çš„å¯èƒ½ï¼ˆæ¯”å¦‚è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ã€==è¿ç®—ç¬¦ã€&lt;&lt;è¿ç®—ç¬¦ç­‰ç­‰ï¼‰</figcaption></figure></li></ul></li></ul><ul id="fbda8df5-4672-4c62-a301-f229e036e2d7" class="bulleted-list"><li style="list-style-type:disc">æ‰€ä»¥ä¸€ä¸ªgood practiceå°±æ˜¯ï¼ˆ<mark class="highlight-red"><strong>ä¸€ç§æœ€å…¸å‹çš„RAIIå®è·µ</strong></mark>ï¼‰ï¼š<strong>æ„é€ è¦ç®¡ç†çš„å¯¹è±¡çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</strong>ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶é€šè¿‡æ„é€ å‡½æ•°æ¥è·å–èµ„æºæ—¶ï¼Œåœ¨å¯¹è±¡out of scopeï¼ˆæˆ–è€…è¢«æ˜¾ç¤ºåœ°ç½®ç©ºï¼‰é€šè¿‡ææ„å‡½æ•°é‡Šæ”¾èµ„æºï¼Œè¿™æ ·å³ä½¿å‘ç”Ÿäº†å¼‚å¸¸ï¼Œåªè¦å¯¹è±¡out of scopeäº†ï¼Œå°±ä¼šè°ƒç”¨å¯¹åº”çš„ææ„å‡½æ•°ã€‚<blockquote id="7f22e165-20e7-4402-bca7-bc66b483d0c6" class="block-color-gray_background"><mark class="highlight-red"><strong>ç®€å•æ¥è¯´å°±æ˜¯</strong></mark>ï¼š<strong>å®šä¹‰ä¸€ä¸ªnodeç±»</strong>ï¼Œ<strong>å®šä¹‰å¥½é‡Œé¢çš„ææ„å‡½æ•°å’Œæ„é€ å‡½æ•°</strong>ï¼Œ<br/>ç„¶å<br/><mark class="highlight-purple"><strong>é€šè¿‡fooçš„æ„é€ å‡½æ•°</strong></mark><strong>ï¼Œå³</strong><strong><em><code>node foo{}</code></em></strong><strong>æ¥è·å–èµ„æº</strong>ï¼Œè¿™æ ·å°±æ˜¯ä¸€ä¸ªRAIIçš„å®è·µã€‚<br/><br/>è€Œä¸æ˜¯åƒå¹³å¸¸é‚£æ ·å®šä¹‰ä¸€ä¸ªnodeç»“æ„ä½“ï¼Œ<br/>ç„¶åé€šè¿‡<br/><em><code>node* foo = new(node)</code></em>ï¼Œæ˜¾ç¤ºåœ°ç”¨<em><code>new</code></em>æ¥ç”³è¯·èµ„æºï¼Œè¿™ç§åšæ³•å°±ä¸æ˜¯ä¸€ä¸ªRAIIå®è·µï¼ˆåœ¨<strong>è£¸éœ²çš„ä½¿ç”¨newï¼Œbad practice</strong>ï¼Œ<mark class="highlight-purple"><strong>é™¤éä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</strong></mark>ï¼‰<br/><br/>å› æ­¤ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ¥è·å–èµ„æºå°±æ˜¯good practiceï¼Œé€šè¿‡newæ¥è·å–èµ„æºå°±æ˜¯bad practiceï¼›<br/><br/>ä½¿ç”¨æ„é€ å‡½æ•°è·å–èµ„æºå°±ä¸éœ€è¦ç®¡ç†å†…å­˜ï¼Œä½¿ç”¨newå°±éœ€è¦è‡ªå·±ç®¡ç†ï¼Œå¾ˆå®¹æ˜“å‡ºbugï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨stdæä¾›çš„å®¹å™¨æ—¶ï¼Œå¯ä»¥åƒåœ¨pythonä¸­ä¸€æ ·å®Œå…¨ä¸ç”¨å»è€ƒè™‘å†…å­˜ç®¡ç†çš„é—®é¢˜ï¼‰<br/></blockquote></li></ul><ul id="a016e612-78ae-43ab-86e9-545767b59f45" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><strong>æ™ºèƒ½æŒ‡é’ˆ</strong></mark>ï¼š<strong>æœ‰æ—¶å€™éš¾å…ä¼šåœ¨é¡¹ç›®ä¸­æ˜¾ç¤ºåœ°ä½¿ç”¨newï¼ˆ</strong>å› ä¸ºæŸä¸ªå¯¹è±¡å¯èƒ½ä¸ä¼šé¢‘ç¹ä½¿ç”¨ï¼Œä¸“é—¨ä¸ºè¿™ä¸ªå¯¹è±¡å®šä¹‰ä¸€ä¸ªç±»ä¼šä½¿å¾—ä»£ç å¾ˆå•°å—¦ï¼‰ï¼Œ<strong>æ­¤æ—¶å°±éœ€è¦é€šè¿‡æ™ºèƒ½æŒ‡é’ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ˆè£¸éœ²çš„ä½¿ç”¨newï¼‰å®ç°RAIIå®è·µ</strong><ul id="3d37d70c-803e-49ba-a8e3-7e6723c81108" class="bulleted-list"><li style="list-style-type:circle">å› æ­¤æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯å®ç°äº†RAIIç†å¿µ(RAII-compliant)çš„å†…å­˜ç®¡ç†<figure id="19c82a94-7c5f-4847-82db-a1fe4ba79a81" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.31.07.png"><img style="width:480px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.31.07.png"/></a></figure></li></ul></li></ul><ul id="e04a8025-560e-4090-b96d-2805942c085b" class="bulleted-list"><li style="list-style-type:disc">æœ‰ä¸‰ç§RAII-compliantæŒ‡é’ˆ<figure id="3b78de27-9b03-40c5-bf84-f6a677da24f5" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.41.47.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.41.47.png"/></a><figcaption>æˆ–è€…æ˜¾ç¤ºåœ°æŠŠæŒ‡é’ˆç½®ç©ºï¼ˆnullptrï¼‰ï¼Œä¹Ÿç®—out of scope</figcaption></figure><blockquote id="859b2108-a210-4b6c-aa3e-d0c19721763d" class="block-color-gray_background">æœ‰å…³<strong>å˜é‡çš„ä½œç”¨åŸŸ</strong>ï¼šåœ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ä½œç”¨åŸŸå°±åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼›åœ¨ç±»ä¸­å®šä¹‰çš„å˜é‡ä½œç”¨åŸŸåœ¨è¿™ä¸ªç±»ã€‚<br/><br/>âš ï¸ï¼šä½œç”¨åŸŸå–å†³äºå®šä¹‰çš„ä½ç½®ï¼Œå¦‚æœå®šä¹‰å’Œå£°æ˜å˜é‡æ—¶ä½äºä¸åŒçš„ä½œç”¨åŸŸï¼Œå®é™…çš„ä½œç”¨åŸŸæ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸ<br/></blockquote></li></ul><ul id="180e80ae-cdf9-4fce-b2e6-d6a1358618bb" class="bulleted-list"><li style="list-style-type:disc"><span style="border-bottom:0.05em solid"><strong>ä¸€ç§out of scopeå¸¸è§æƒ…å†µ</strong></span>ï¼š<span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>æ™ºèƒ½æŒ‡é’ˆä½œä¸ºç±»æˆå‘˜</strong></mark></span>ï¼Œ<mark class="highlight-red"><strong>å½“è¿™ä¸ªç±»çš„å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œä½œä¸ºç±»æˆå‘˜çš„æ™ºèƒ½æŒ‡é’ˆæ­¤æ—¶å°±ä¼šå‘ç”Ÿout of scope<br/><br/></strong></mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">å› æ­¤å½“ä¸€ä¸ªé“¾è¡¨çš„nodeä¸­ï¼ŒnextæŒ‡é’ˆæ˜¯ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œé‡Šæ”¾ä¸€ä¸ªnodeä¼šå¯¼è‡´è¿ç¯é‡Šæ”¾</mark></strong></span></li></ul><ul id="2a59d241-34fe-425d-a776-fdd067e5a7c7" class="bulleted-list"><li style="list-style-type:disc">ç”¨æ³•<figure id="0eaddb40-a0c7-4463-aa27-d2dbe89319e8" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.43.21.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.43.21.png"/></a><figcaption>å®ä¾‹åŒ–æ—¶ä¼ å…¥ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆç±»å‹è¦ä¸æ¨¡ç‰ˆåŒ–æ—¶çš„ç±»å‹ä¿æŒä¸€è‡´</figcaption></figure></li></ul><ul id="79320724-8f1d-488a-acba-baf2cab7ef22" class="bulleted-list"><li style="list-style-type:disc"><em><code><strong>std::unique_ptr</strong></code></em>ï¼šåªèƒ½å”¯ä¸€æ‹¥æœ‰è‡ªå·±çš„èµ„æºï¼Œä¸èƒ½è¢«å¤åˆ¶<figure id="980df3f7-ddc8-402c-b499-f3b536f189a8" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.46.13.png"><img style="width:528px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_14.46.13.png"/></a><figcaption>å› ä¸ºå¯èƒ½åœ¨æ‹·è´å‰ï¼Œèµ„æºè¢«é‡Šæ”¾äº†ï¼Œå¯¼è‡´copyæŒ‡å‘äº†ä¸€ä¸ªè¢«é‡Šæ”¾çš„å†…å­˜ä¸Š</figcaption></figure><ul id="1940a303-6f51-49e5-9a97-7271e827b146" class="bulleted-list"><li style="list-style-type:circle">å½“å°†ä¸€ä¸ª<em><code>std::unique_ptr</code></em>è®¾ç½®ä¸º<code><em>nullptr</em></code>æˆ–è€…æŒ‡é’ˆout of scopeæ—¶ï¼Œä»¥ä¸‹æ­¥éª¤ä¼šå‘ç”Ÿï¼š<ol type="1" id="16fb2c35-5a39-4b43-8d84-4ded47b00013" class="numbered-list" start="1"><li><em><code>std::unique_ptr</code></em>ä¼šæ£€æŸ¥å®ƒæ˜¯å¦å½“å‰æ‹¥æœ‰ï¼ˆæŒ‡å‘ï¼‰ä¸€ä¸ªå¯¹è±¡ã€‚</li></ol><ol type="1" id="376ec3df-62e8-4f17-8f2e-0f71566a1995" class="numbered-list" start="2"><li>å¦‚æœæ˜¯ï¼Œå®ƒä¼šé”€æ¯ï¼ˆé‡Šæ”¾ï¼‰è¿™ä¸ªå¯¹è±¡ã€‚</li></ol><ol type="1" id="e029b2b9-3f87-4f30-be25-a659bb15a533" class="numbered-list" start="3"><li>å‡å¦‚æ˜¯è¢«ç½®ä¸ºnullptrçš„æƒ…å†µï¼šç„¶åï¼Œå®ƒä¼šæ¥å—æ–°çš„å€¼ï¼Œè¿™é‡Œæ˜¯<em><code>nullptr</code></em>ï¼Œæ„å‘³ç€å®ƒä¸å†æŒ‡å‘å…ˆå‰ç®¡ç†çš„é‚£ä¸ªå¯¹è±¡ã€‚</li></ol></li></ul><ul id="06f3a1ae-949c-4a05-af5d-dfbc847f69b4" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><strong>âš ï¸æ³¨æ„ç‚¹1âš ï¸</strong></mark>ï¼šç”±äº<em><code>unique_ptr</code></em>ä¸èƒ½ç”¨äºæŒ‡é’ˆçš„èµ‹å€¼ï¼Œæ‰€ä»¥ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ï¼š<span style="border-bottom:0.05em solid"><strong>åœ¨èµ‹å€¼å‰æŠŠæŒ‡é’ˆè½¬ä¸ºå³å€¼</strong></span>ã€‚ä»¥ä¸‹é¢è¿™ä¸ªæ™ºèƒ½æŒ‡é’ˆé“¾è¡¨ä¸ºä¾‹ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4753b808-b39d-41dd-b77d-9ef681535c10" class="code"><code class="language-C++">#include &lt;memory&gt; // å¼•å…¥æ™ºèƒ½æŒ‡é’ˆçš„å¤´æ–‡ä»¶

struct node {
    using namespace node_ptr = std::unique_ptr&lt;node&gt;;
    value_type value;
    node_ptr next; // ä½¿ç”¨std::unique_pträ»£æ›¿åŸç”ŸæŒ‡é’ˆ

    node(const value_type&amp; value = value_type{}, node_ptr next = nullptr) :
        value{value}, next{std::move(next)} {} // æ³¨æ„è¿™é‡Œä½¿ç”¨std::moveæ¥è½¬ç§»æ‰€æœ‰æƒ
};</code></pre></li></ul><ul id="34ed38b6-6fa8-4674-a03c-e2483ddf67f2" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-red"><strong>âš ï¸æ³¨æ„ç‚¹2âš ï¸</strong></mark><mark class="highlight-default">ï¼šå½“åœ¨è‡ªå®šä¹‰ç±»ä¸­ä½¿ç”¨unique_ptræ™ºèƒ½æŒ‡é’ˆæ—¶ï¼Œå¯èƒ½ä¼šæ— æ³•ä½¿ç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦ï¼Œ</mark><span style="border-bottom:0.05em solid"><strong><mark class="highlight-default">å› ä¸ºé»˜è®¤çš„å®ç°ä¼šç›´æ¥å¯¹unique_ptræŒ‡é’ˆè¿›è¡Œæ‹·è´</mark></strong></span><mark class="highlight-default">ï¼ˆè€Œä¸æ˜¯é€šè¿‡moveå…ˆè½¬æˆå³å€¼ï¼‰</mark><blockquote id="14cf3dd1-1393-4830-9226-526527121765" class="block-color-gray_background">æ‰€ä»¥ç”±äºunique_ptrè¿‡äºä¸¥æ ¼ï¼Œé€šå¸¸éƒ½ä¼šç”¨shared_ptr</blockquote></li></ul></li></ul><ul id="b55e7ce9-e626-4b9b-a60e-ea46efe4ece8" class="bulleted-list"><li style="list-style-type:disc"><em><strong><code>std::shared_ptr</code></strong></em>ï¼šå¯ä»¥è¢«å¤åˆ¶ï¼Œå½“æ‰€æœ‰å…±äº«æŒ‡é’ˆout of scopeåï¼Œå³è¿™ä¸ªå†…å­˜çš„æŒ‡é’ˆï¼ˆåœ°å€ï¼‰<span style="border-bottom:0.05em solid"><mark class="highlight-purple"><strong>å¼•ç”¨è®¡æ•°</strong></mark></span>å˜ä¸º0ï¼Œèµ„æºæ‰ä¼šè¢«é‡Šæ”¾ï¼ˆè¿™ä¹Ÿæ˜¯pythonè¿›è¡Œèµ„æºç®¡ç†çš„æ–¹å¼ï¼Œ<strong>å¯ä»¥è¯´pythoné»˜è®¤ä½¿ç”¨çš„æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯shared_ptr</strong>ï¼‰<blockquote id="4c31cd7d-1e3b-4075-8d01-d07f3db43879" class="block-color-gray_background">æ‰€ä»¥shared_ptræ—¶é€šè¿‡å¼•ç”¨è®¡æ•°æ¥ç®¡ç†ä¸€ä¸ªå…±äº«çš„åœ°å€çš„</blockquote><ul id="8d0d72df-db0b-40f3-afa6-5bdaef4e70dc" class="bulleted-list"><li style="list-style-type:circle">å½“å°†ä¸€ä¸ª<code><em>std::share_ptr</em></code>è®¾ç½®ä¸º<code><em>nullptr</em></code>æˆ–è€…æŒ‡é’ˆout of scopeæ—¶ï¼Œä»¥ä¸‹æ­¥éª¤ä¼šå‘ç”Ÿï¼š<ol type="1" id="dcfd4f2c-b36f-4754-ace3-2f84246d41eb" class="numbered-list" start="1"><li>å®ƒä¼š<strong>å‡å°‘å½“å‰å¯¹è±¡(æŒ‡é’ˆï¼Œä¹Ÿå³æŸå—å†…å­˜å¯¹åº”çš„åœ°å€)çš„å¼•ç”¨è®¡æ•°</strong>ã€‚</li></ol><ol type="1" id="630df5b6-e477-4a09-9c87-836bc46b6efc" class="numbered-list" start="2"><li>å¦‚æœè¿™ä¸ªå¼•ç”¨è®¡æ•°å˜ä¸º0ï¼ˆæ„å‘³ç€æ²¡æœ‰å…¶ä»–<code><strong>std::shared_ptr</strong></code>å®ä¾‹å†æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼‰ï¼Œå¯¹è±¡ä¼šè¢«é”€æ¯ã€‚</li></ol><ol type="1" id="e6b13155-6985-4c0f-bfef-cf736a216226" class="numbered-list" start="3"><li><code><strong>std::shared_ptr</strong></code>æ¥ç€ä¼šè¢«è®¾ç½®ä¸º<code><strong>nullptr</strong></code>ï¼Œè¡¨ç¤ºå®ƒä¸å†æŒ‡å‘ä»»ä½•å¯¹è±¡ã€‚</li></ol></li></ul></li></ul><ul id="b70fd3db-8b7c-4f13-b5a5-5e065df09df3" class="bulleted-list"><li style="list-style-type:disc">åˆå§‹åŒ–ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆï¼Œå¹¶ç”³è¯·å¯¹åº”çš„å†…å­˜ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="70244b38-740b-4840-81fb-aa64c2fd2bbb" class="code"><code class="language-C++">auto foo = std::unique_ptr&lt;MyClass&gt;{new MyClass{}};
std::unique_ptr&lt;MyClass&gt; bar{new MyClass{}};</code></pre></li></ul><ul id="f549c9fc-3bac-4ec3-ae74-f0b4c2753eea" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>åˆå§‹åŒ–ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆ</strong></mark><strong>ï¼šä½¿ç”¨</strong><em><code><strong>std::make_unique&lt;T&gt;</strong></code></em><strong>ã€</strong><em><code><strong>std::make_shared&lt;T&gt;</strong></code></em><strong>æ¥ï¼Œè€Œä¸æ˜¯é€šè¿‡</strong><em><code>new T</code></em>ï¼šå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´ä¸¤æ¬¡å†…å­˜åˆ†é…ï¼ˆæŒ‡é’ˆæœ¬èº«ä¸€æ¬¡ï¼Œnew Tæ—¶ä¸€æ¬¡ï¼‰ä¾‹å¦‚<ul id="38849721-1cee-462d-9f69-e8193a914e94" class="bulleted-list"><li style="list-style-type:circle">bad case<figure id="8f467893-bf35-4f7d-8606-c3efaee68586" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_15.13.39.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_15.13.39.png"/></a></figure></li></ul><ul id="d0fa181b-88fc-45cd-a5f4-4e180c32d678" class="bulleted-list"><li style="list-style-type:circle">good case <figure id="d3c3248b-b898-420b-aab5-1a3188b3a4fa" class="image"><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_15.17.14.png"><img style="width:432px" src="CPP%2099ebd66f69ef430782fa4d74512a2c5b/%25E6%2588%25AA%25E5%25B1%258F2024-02-13_15.17.14.png"/></a></figure></li></ul></li></ul><h2 id="4f898396-ad25-4292-8c89-5a879df5bf77" class="block-color-orange_background">ä¸€äº›å¯èƒ½ä¼šç”¨åˆ°çš„stdå‡½æ•°ã€ç±»ã€æ¨¡ç‰ˆ</h2><h3 id="e460899b-5560-495b-807e-3280bf476623" class="block-color-blue_background">std::conditional_tï¼šåœ¨ç¼–è¯‘æ—¶æ ¹æ®æ¡ä»¶åœ¨ä¸¤ç§ç±»å‹ä¸­è¿›è¡Œé€‰æ‹©</h3><ul id="472f77c9-671d-4df9-b52b-cd2ab72f02d6" class="bulleted-list"><li style="list-style-type:disc">ä¸€ä¸ªç±»å‹ç‰¹å¾ï¼Œç”¨äºåŸºäºç¼–è¯‘æ—¶çš„æ¡ä»¶é€‰æ‹©ä¸¤ç§ç±»å‹ä¹‹ä¸€</li></ul><ul id="1c7d7ab4-b384-4725-8f64-7098b49012fa" class="bulleted-list"><li style="list-style-type:disc">è¿™ä¸ªç±»å‹ç‰¹å¾éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸å¼€å‘è€…ç¼–å†™ä¾èµ–äºç¼–è¯‘æ—¶æ¡ä»¶çš„æ³›å‹ä»£ç ï¼Œä»è€Œå¯ä»¥åœ¨ä¸åŒæƒ…å†µä¸‹é€‰æ‹©ä¸åŒçš„ç±»å‹ã€‚è¿™ç§æŠ€æœ¯ç»å¸¸è¢«ç”¨äºæ¨¡æ¿å…ƒç¼–ç¨‹å’Œç¼–è¯‘æ—¶å†³ç­–ï¼Œå¢åŠ äº†ä»£ç çš„çµæ´»æ€§å’Œå¯é‡ç”¨æ€§ã€‚</li></ul><ul id="8122c987-05c6-4e9b-b2fd-96bd51c414d0" class="bulleted-list"><li style="list-style-type:disc">ä¾‹å¦‚ï¼šæ ¹æ®ç±»å‹çš„å¤§å°é€‰æ‹©ä½¿ç”¨æŒ‡é’ˆæˆ–æ˜¯å€¼æ¥å­˜å‚¨è¿™ä¸ªç±»å‹<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f5c7cad3-8fdb-424a-86b6-6e8df02155f0" class="code"><code class="language-C++">template&lt;typename T&gt;
using StorageType = std::conditional_t&lt;sizeof(T) &gt; sizeof(void*), T*, T&gt;;

int main() {
    StorageType&lt;int&gt; intValue = 42; // ä½¿ç”¨intï¼Œå› ä¸ºintçš„å¤§å°å°äºæŒ‡é’ˆçš„å¤§å°
    StorageType&lt;long long&gt; longPtr = new long long(42); // ä½¿ç”¨long long*ï¼Œå› ä¸ºlong longçš„å¤§å°å¤§äºæŒ‡é’ˆçš„å¤§å°
    
    std::cout &lt;&lt; &quot;intValue: &quot; &lt;&lt; intValue &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;longPtr: &quot; &lt;&lt; *longPtr &lt;&lt; std::endl;
    
    // å¦‚æœStorageTypeæ˜¯æŒ‡é’ˆç±»å‹ï¼Œéœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜
    delete longPtr;
}</code></pre></li></ul><h3 id="628b5806-cef5-4102-af49-4bc0d610c65a" class="block-color-blue_background"><strong>static_castï¼šé™æ€ç±»å‹è½¬æ¢</strong></h3><ul id="3977e4a5-e2e9-4ec1-8f89-725d718c9ca2" class="bulleted-list"><li style="list-style-type:disc">ç”¨äºåœ¨ä¸åŒç±»å‹ä¹‹é—´è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ã€‚å®ƒå¯ä»¥ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼ˆä¾‹å¦‚ï¼Œå°†<code><strong>float</strong></code>è½¬æ¢ä¸º<code><strong>int</strong></code>ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¯¹è±¡æŒ‡é’ˆå’Œå¼•ç”¨ä¹‹é—´çš„è½¬æ¢ï¼Œä»¥åŠåœ¨ç±»å±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œå‘ä¸Šï¼ˆå‘åŸºç±»ï¼‰æˆ–å‘ä¸‹ï¼ˆå‘æ´¾ç”Ÿç±»ï¼‰çš„è½¬æ¢ã€‚</li></ul><ul id="b326f460-d63f-413f-a6d0-6a74e991c262" class="bulleted-list"><li style="list-style-type:disc">static_castä¸å¼ºåˆ¶ç±»å‹è½¬æ¢çš„åŒºåˆ«ï¼š<ul id="0c44780f-b626-4009-9a56-a10187a9f27c" class="bulleted-list"><li style="list-style-type:circle">å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆä¾‹å¦‚int(x)ï¼‰ï¼Œä¼šåœ¨è½¬æ¢æ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼ˆåŠ¨æ€è½¬æ¢ï¼‰ï¼Œè€Œstatic_castæ˜¯é™æ€çš„ç±»å‹è½¬æ¢ï¼Œä¸ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚<blockquote id="f1a9222b-ca01-4a01-985b-4dae61384334" class="block-color-gray_background">å› æ­¤ä½¿ç”¨static_castæ—¶éœ€è¦ç¡®ä¿è½¬æ¢çš„å®‰å…¨æ€§ï¼Œå¦åˆ™ä¼šé€ æˆæœªå®šä¹‰è¡Œä¸º</blockquote></li></ul><ul id="14dd3481-196a-4d13-849d-8bad3947257a" class="bulleted-list"><li style="list-style-type:circle">ç”±äºstatic_castä¸æ¶‰åŠç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚</li></ul></li></ul><ul id="4940ea3d-eaa4-4c0b-9910-51b5fe72c6c9" class="bulleted-list"><li style="list-style-type:disc">case1ï¼šåŸºæœ¬æ•°æ®ç±»å‹çš„è½¬æ¢<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f7264773-2642-4cea-a9d4-5a87d82e222b" class="code"><code class="language-C++">// åŸºæœ¬ç±»å‹ä¹‹é—´çš„è½¬æ¢
double pi = 3.14159;
int integerPart = static_cast&lt;int&gt;(pi); // å°†doubleè½¬æ¢ä¸ºintï¼Œä¸¢å¼ƒå°æ•°éƒ¨åˆ†
std::cout &lt;&lt; &quot;Integer part of pi is: &quot; &lt;&lt; integerPart &lt;&lt; std::endl;
return 0;</code></pre></li></ul><ul id="9b34b16b-9e4c-44f1-bacb-eaf07d9a5ef2" class="bulleted-list"><li style="list-style-type:disc">case1ï¼šåŸºç±»çˆ¶ç±»çš„è½¬æ¢<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="af107647-209a-4825-ba02-ce2489c958a0" class="code"><code class="language-C++">class Base {
public:
    virtual void print() const { std::cout &lt;&lt; &quot;Base class&quot; &lt;&lt; std::endl; }
};

class Derived : public Base {
public:
    void print() const override { std::cout &lt;&lt; &quot;Derived class&quot; &lt;&lt; std::endl; }
    void derivedOnlyFunction() const { std::cout &lt;&lt; &quot;Function only in Derived&quot; &lt;&lt; std::endl; }
};

int main() {
    Derived d;
    Base* bp = &amp;d; // éšå¼å‘ä¸Šè½¬æ¢ï¼šå®‰å…¨

    // å‘ä¸‹è½¬æ¢ï¼šå°†Baseç±»å‹æŒ‡é’ˆè½¬æ¢å›Derivedç±»å‹æŒ‡é’ˆ
    Derived* dp = static_cast&lt;Derived*&gt;(bp);
    dp-&gt;derivedOnlyFunction(); // ç°åœ¨å¯ä»¥å®‰å…¨è°ƒç”¨Derivedä¸­ç‰¹æœ‰çš„å‡½æ•°äº†
}</code></pre></li></ul><h3 id="dab1c036-a5f9-4f16-95e7-37ec0dc7fa06" class="block-color-blue_background">const_castï¼šå®ç°constç±»å‹è½¬æ¢</h3><ul id="c5af3ccd-3459-44ab-9004-964d751e7202" class="bulleted-list"><li style="list-style-type:disc"><code><strong>const_cast</strong></code>å¯ä»¥ç”¨æ¥æ·»åŠ æˆ–ç§»é™¤å¯¹è±¡çš„<code><em>const</em></code>å±æ€§ã€‚è¿™å…è®¸ä½ åœ¨ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ä¸­è°ƒç”¨éå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œé€šè¿‡å…ˆç§»é™¤å¯¹è±¡çš„<em><code>const</code></em>é™å®šï¼Œè¿›è¡Œæ“ä½œï¼Œç„¶åå†å°†å…¶æ¢å¤ã€‚<blockquote id="84d8747e-4b94-4f6e-ad20-1362d1ff44fd" class="block-color-gray_background">âš ï¸ï¼šconstæ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œå› æ­¤ä¸èƒ½ç”¨äºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ¯”å¦‚<strong>return const ...</strong>ï¼Œè¿™ä¸ªç”¨æ³•å°±æ˜¯é”™è¯¯çš„</blockquote></li></ul><ul id="0049131d-1e94-4a13-8bb3-98336521a6eb" class="bulleted-list"><li style="list-style-type:disc">âš ï¸ï¼šconst_cast<mark class="highlight-purple"><strong>åªèƒ½ä½œç”¨äºä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ–ä¸€ä¸ªå·¦å€¼å¼•ç”¨</strong></mark>ï¼Œ<span style="border-bottom:0.05em solid"><strong>ä¸èƒ½ä½œç”¨åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Š</strong></span><blockquote id="3b699fdb-6e47-43c2-9452-ab2061c2aab1" class="block-color-gray_background">å› ä¸ºconståªæœ‰ä¿®é¥°æŒ‡é’ˆå’Œå¼•ç”¨æ‰æœ‰æ„ä¹‰</blockquote></li></ul><ul id="25010c91-f5f2-4ce3-86eb-3cda350000d6" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><strong>å› æ­¤ï¼Œ</strong></mark><mark class="highlight-purple"><strong><code>const_cast</code></strong></mark><mark class="highlight-purple"><strong>å¸¸ç”¨äºå®ç°</strong></mark><mark class="highlight-purple"><strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">constæ¥å£</a></strong></mark>ï¼Œå®ƒå¯ä»¥åœ¨å®ç°constæ¥å£æ—¶ï¼Œé€šè¿‡è°ƒç”¨éconstçš„ç‰ˆæœ¬ï¼Œä»è€Œå¾ˆè½»æ¾åœ°<span style="border-bottom:0.05em solid"><strong>å®ç°ä»£ç çš„å¤ç”¨</strong></span></li></ul><ul id="6c28baa4-b152-4a59-8d5b-affba285425a" class="bulleted-list"><li style="list-style-type:disc">caseï¼šä½¿ç”¨<em><code>const_cast</code></em>è½¬æ¢const <strong><a href="CPP%2099ebd66f69ef430782fa4d74512a2c5b.html">thisæŒ‡é’ˆ</a></strong>ä¸ºéconstï¼Œç„¶åè°ƒç”¨éconstæ¥å£ï¼Œç„¶åå†æŠŠéconstæ¥å£çš„éconstè¿”å›å€¼é€šè¿‡<em><code>const_cast</code></em>è½¬æ¢ä¸ºconstè¿”å›å€¼<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="bd589879-ca24-4bb0-85f2-d362b41a6777" class="code"><code class="language-C++">class MyClass {
public:
    int&amp; getNonConst() {
        // å®ç°éå¸¸é‡æ¥å£
        return data;
    }

    const int&amp; getConst() const {
        // ä½¿ç”¨const_castå’Œstatic_castè°ƒç”¨éå¸¸é‡ç‰ˆæœ¬
        return const_cast&lt;const int&amp;&gt;(
            const_cast&lt;MyClass*&gt;(this)-&gt;getNonConst()
        );
    }
private:
    int data;
};</code></pre></li></ul><h3 id="973b3732-ca74-469e-8c7e-d15acb4c514b" class="block-color-blue_background">std::distanceï¼šè®¡ç®—ä¸¤ä¸ªiteratorçš„è·ç¦»</h3><ul id="0d5c0eaf-b9ea-459c-ba71-255ed5c21ee0" class="bulleted-list"><li style="list-style-type:disc">å¸¸ç”¨äºå®ç°iteratorçš„operator -</li></ul><h3 id="2444638e-c77c-4b29-9526-fde88d3cc674" class="block-color-blue_background">std::moveï¼šæŠŠä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå³å€¼</h3><p id="d98944d8-15a1-4a21-9903-d68ecbc7f5da" class=""> </p><h3 id="cedb7245-edbd-4acf-8995-6308cadfd492" class="block-color-blue_background">std::is_permutationï¼šæ¯”è¾ƒä¸¤ä¸ªåºåˆ—æ˜¯å¦ç›¸ç­‰ï¼ˆé¡ºåºå¯ä»¥ä¸åŒï¼‰</h3><ul id="fe17f221-07b7-414d-b479-df1b06595b44" class="bulleted-list"><li style="list-style-type:disc">å¸¸ç”¨äºå®ç°å®¹å™¨çš„operator==()</li></ul><h3 id="e4400047-128f-4752-b6b8-03de0f335fff" class="block-color-blue_background"><strong>std::ostringstreamï¼šé€‚ç”¨äºå¤æ‚çš„å­—ç¬¦ä¸²å¤„ç†å’Œæ ¼å¼åŒ–çš„åœºæ™¯</strong></h3><ul id="9aafdbf2-356f-45d5-8ff9-365b86c546ae" class="bulleted-list"><li style="list-style-type:disc"><em><code><strong>std::ostringstream</strong></code></em>æ˜¯C++æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºæä¾›å­—ç¬¦ä¸²æµçš„è¾“å‡ºæ“ä½œã€‚å®ƒç»§æ‰¿è‡ª<em><code>std::ostream</code></em>ï¼Œå› æ­¤æ‹¥æœ‰æ‰€æœ‰è¾“å‡ºæµçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒå°†è¾“å‡ºå†…å®¹å­˜å‚¨åœ¨ä¸€ä¸ª<em><code>std::string</code></em>å¯¹è±¡ä¸­ã€‚</li></ul><ul id="1a14bf4c-b45f-456a-a9bd-869d16193896" class="bulleted-list"><li style="list-style-type:disc">è¿™ä½¿å¾—<em><code>std::ostringstream</code></em><mark class="highlight-purple"><span style="border-bottom:0.05em solid"><strong>éå¸¸é€‚ç”¨äºéœ€è¦å­—ç¬¦ä¸²å¤„ç†å’Œæ ¼å¼åŒ–çš„åœºæ™¯</strong></span></mark>ã€‚é€šè¿‡ä½¿ç”¨<em><code>std::ostringstream</code></em>ï¼Œä½ å¯ä»¥ä½¿ç”¨æ’å…¥è¿ç®—ç¬¦(<code><strong>&lt;&lt;</strong></code>)æ¥æ„å»ºå­—ç¬¦ä¸²ï¼Œå°±åƒå†™å…¥åˆ°æ–‡ä»¶æˆ–æ ‡å‡†è¾“å‡ºä¸€æ ·ã€‚</li></ul><ul id="660a16b4-a907-4149-b1b8-949fe0ded3e2" class="bulleted-list"><li style="list-style-type:disc">åŸºæœ¬ç”¨æ³•ï¼š<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="198795e8-befb-4c6b-b531-402d4af9d122" class="code"><code class="language-C++">#include &lt;sstream&gt;

int main() {
    // åˆ›å»ºä¸€ä¸ªstd::ostringstreamçš„å®ä¾‹
    std::ostringstream oss;

    // ä½¿ç”¨æ’å…¥è¿ç®—ç¬¦(&lt;&lt;)å‘æµä¸­æ·»åŠ å†…å®¹
    oss &lt;&lt; &quot;Hello, &quot; &lt;&lt; &quot;World!&quot;; 

    // ä½¿ç”¨str()æˆå‘˜å‡½æ•°æ¥è·å–æµä¸­çš„å†…å®¹ä½œä¸ºstd::stringå¯¹è±¡
    std::string result = oss.str();

    // é‡ç”¨åŒä¸€ä¸ªstd::ostringstreamå¯¹è±¡æ¥æ„å»ºæ–°çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥å…ˆæ¸…ç©ºæµå†…å®¹ã€‚
    oss.str(&quot;&quot;);
    oss.clear(); /** æ¸…é™¤ä»»ä½•é”™è¯¯æ ‡å¿—ï¼Œä¾‹å¦‚
    * std::ios_base::goodbitï¼šè¡¨ç¤ºæµçŠ¶æ€è‰¯å¥½ï¼Œæ²¡æœ‰å‘ç”Ÿé”™è¯¯ã€‚
    * std::ios_base::eofbitï¼šè¡¨ç¤ºå·²åˆ°è¾¾è¾“å…¥åºåˆ—çš„æœ«å°¾ã€‚
    * std::ios_base::failbitï¼šè¡¨ç¤ºä¸€ä¸ªéè‡´å‘½çš„è¾“å…¥/è¾“å‡ºæ“ä½œå¤±è´¥ã€‚
    * std::ios_base::badbitï¼šè¡¨ç¤ºä¸€ä¸ªè‡´å‘½çš„è¾“å…¥/è¾“å‡ºæ“ä½œå¤±è´¥ã€‚
    */

}</code></pre></li></ul><ul id="9d5f49d5-032f-468c-8b23-2340038303e8" class="bulleted-list"><li style="list-style-type:disc">å¤æ‚ç”¨æ³•ï¼šå¤æ‚çš„æ ¼å¼åŒ–åœºæ™¯<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ea7a3e1-c417-4e39-8202-2dec718737e6" class="code"><code class="language-C++">#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;iomanip&gt; // å¯¹äºstd::setwå’Œstd::setprecision

int main() {
    std::ostringstream oss;
    oss &lt;&lt; &quot;Date: &quot; &lt;&lt; std::setw(2) &lt;&lt; std::setfill(&#x27;0&#x27;) &lt;&lt; 9 &lt;&lt; &quot;/&quot; &lt;&lt; std::setw(2) &lt;&lt; 10 &lt;&lt; &quot;/&quot; &lt;&lt; 2023;
    oss &lt;&lt; &quot;. Temperature: &quot; &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; 23.456 &lt;&lt; &quot;C&quot;;
    std::string logEntry = oss.str();

    std::cout &lt;&lt; logEntry &lt;&lt; std::endl;
    return 0;
}</code></pre><ul id="dd1a0b37-f09e-4b0f-95a5-52b2b00eee03" class="bulleted-list"><li style="list-style-type:circle"><code><strong>std::setw(int n)</strong></code>ï¼šè®¾ç½®ä¸‹ä¸€ä¸ªè¾“å‡ºå­—æ®µçš„å®½åº¦ã€‚<em>n</em>æ˜¯å¸Œæœ›çš„å®½åº¦ã€‚å¦‚æœè¾“å‡ºçš„å­—æ®µå®½åº¦å°äº<em>n</em>ï¼Œåˆ™æ ¹æ®å½“å‰å¯¹é½è®¾ç½®ï¼ˆé»˜è®¤ä¸ºå³å¯¹é½ï¼‰<ul id="90158c4c-9821-4088-a062-86b0ecdcbc09" class="bulleted-list"><li style="list-style-type:square">é»˜è®¤åœ¨å·¦ä¾§å¡«å……ç©ºæ ¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code><strong>std::setfill</strong></code>è®¾ç½®çš„å…¶ä»–å­—ç¬¦ã€‚</li></ul><ul id="b2eab086-176f-48fc-b39c-ef51678311d7" class="bulleted-list"><li style="list-style-type:square">å¦‚æœè¾“å‡ºçš„å­—æ®µå®½åº¦å¤§äºæˆ–ç­‰äº<em>n</em>ï¼Œåˆ™ä¸å¡«å……ã€‚</li></ul></li></ul><ul id="233155d3-76df-4a5a-a77b-86c343b289d7" class="bulleted-list"><li style="list-style-type:circle"><code><strong>std::setfill(char c)</strong></code>ï¼šè®¾ç½®ç”¨äºå¡«å……çš„å­—ç¬¦ï¼Œé€šå¸¸ä¸<em><code>setw</code></em>é…å¥—ä½¿ç”¨ã€‚<ul id="671cd45e-87b3-412d-80b4-758093b1a2ba" class="bulleted-list"><li style="list-style-type:square">å½“ä½¿ç”¨<em><code>std::setw</code></em>æŒ‡å®šçš„å®½åº¦å¤§äºè¦è¾“å‡ºçš„æ•°æ®çš„å®é™…å®½åº¦æ—¶ï¼Œ<em><code>std::setfill</code></em>æŒ‡å®šçš„å­—ç¬¦å°†è¢«ç”¨æ¥å¡«å……é¢å¤–çš„ç©ºé—´ã€‚</li></ul><ul id="7c52fbe7-50c7-45a1-b129-5b84c9bc3eae" class="bulleted-list"><li style="list-style-type:square">é»˜è®¤å¡«å……å­—ç¬¦æ˜¯ç©ºæ ¼ã€‚</li></ul></li></ul><ul id="8f1163ff-96de-4029-b74d-f1813ab5b567" class="bulleted-list"><li style="list-style-type:circle"><code><strong>std::fixed</strong></code>ï¼šç”¨äºè®¾ç½®æµ®ç‚¹æ•°çš„è¾“å‡ºæ ¼å¼ä¸ºå›ºå®šç‚¹è¡¨ç¤ºæ³•ã€‚<ul id="28fe67c3-35cf-44c9-a317-f896e8579010" class="bulleted-list"><li style="list-style-type:square">ä½¿ç”¨<code><strong>std::fixed</strong></code>åï¼Œ<strong>æµ®ç‚¹æ•°å°†è¢«æ ¼å¼åŒ–ä¸ºæ™®é€šçš„å°æ•°å½¢å¼</strong>ï¼Œè€Œä¸æ˜¯ç§‘å­¦è®°æ•°æ³•å½¢å¼ã€‚</li></ul></li></ul><ul id="d0f37403-98e6-44d2-b1bf-f4e887e0b252" class="bulleted-list"><li style="list-style-type:circle"><code><strong>std::setprecision(int n)</strong></code>ï¼šè®¾ç½®æµ®ç‚¹æ•°è¾“å‡ºæ—¶çš„ç²¾åº¦ï¼Œå³å°æ•°ç‚¹åçš„æ•°å­—ä½æ•°ï¼Œé€šå¸¸ä¸<em><code>fixed</code></em>é…å¥—ä½¿ç”¨ã€‚å¯¹å›ºå®šç‚¹è¡¨ç¤ºæ³•å’Œç§‘å­¦è®°æ•°æ³•éƒ½æœ‰æ•ˆã€‚<ul id="c4707b72-ddd5-46b6-b3e7-c7aebc97561e" class="bulleted-list"><li style="list-style-type:square">å¦‚æœä¸<code><em>std::fixed</em></code>ä¸€èµ·ä½¿ç”¨ï¼Œåˆ™<em><code>std::setprecision</code></em>æŒ‡å®šå°æ•°ç‚¹åçš„ä½æ•°ï¼›</li></ul><ul id="73acc379-bd41-4241-81e7-d480377d3906" class="bulleted-list"><li style="list-style-type:square">å¦‚æœæ²¡æœ‰ä½¿ç”¨<code><em>std::fixed</em></code>ï¼Œåˆ™å®ƒæŒ‡å®šè¾“å‡ºçš„æ€»æœ‰æ•ˆæ•°å­—ä½æ•°ã€‚</li></ul><p id="8b251b4b-76a2-4515-b060-e5552c25fb1f" class="">
</p></li></ul></li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>